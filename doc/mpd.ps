%!PS-Adobe-3.0
%%Creator: groff version 1.19.2
%%CreationDate: Sun Sep  6 21:33:02 2020
%%DocumentNeededResources: font Helvetica-Bold
%%+ font Palatino-Roman
%%+ font Courier
%%+ font Palatino-Bold
%%+ font Times-Roman
%%+ font Courier-Bold
%%+ font Courier-Oblique
%%+ font Palatino-Italic
%%DocumentSuppliedResources: procset grops 1.19 2
%%Pages: 88
%%PageOrder: Ascend
%%DocumentMedia: Default 612 792 0 () ()
%%Orientation: Portrait
%%EndComments
%%BeginDefaults
%%PageMedia: Default
%%EndDefaults
%%BeginProlog
%%BeginResource: procset grops 1.19 2
/setpacking where{
pop
currentpacking
true setpacking
}if
/grops 120 dict dup begin
/SC 32 def
/A/show load def
/B{0 SC 3 -1 roll widthshow}bind def
/C{0 exch ashow}bind def
/D{0 exch 0 SC 5 2 roll awidthshow}bind def
/E{0 rmoveto show}bind def
/F{0 rmoveto 0 SC 3 -1 roll widthshow}bind def
/G{0 rmoveto 0 exch ashow}bind def
/H{0 rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/I{0 exch rmoveto show}bind def
/J{0 exch rmoveto 0 SC 3 -1 roll widthshow}bind def
/K{0 exch rmoveto 0 exch ashow}bind def
/L{0 exch rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/M{rmoveto show}bind def
/N{rmoveto 0 SC 3 -1 roll widthshow}bind def
/O{rmoveto 0 exch ashow}bind def
/P{rmoveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/Q{moveto show}bind def
/R{moveto 0 SC 3 -1 roll widthshow}bind def
/S{moveto 0 exch ashow}bind def
/T{moveto 0 exch 0 SC 5 2 roll awidthshow}bind def
/SF{
findfont exch
[exch dup 0 exch 0 exch neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/MF{
findfont
[5 2 roll
0 3 1 roll
neg 0 0]makefont
dup setfont
[exch/setfont cvx]cvx bind def
}bind def
/level0 0 def
/RES 0 def
/PL 0 def
/LS 0 def
/MANUAL{
statusdict begin/manualfeed true store end
}bind def
/PLG{
gsave newpath clippath pathbbox grestore
exch pop add exch pop
}bind def
/BP{
/level0 save def
1 setlinecap
1 setlinejoin
72 RES div dup scale
LS{
90 rotate
}{
0 PL translate
}ifelse
1 -1 scale
}bind def
/EP{
level0 restore
showpage
}def
/DA{
newpath arcn stroke
}bind def
/SN{
transform
.25 sub exch .25 sub exch
round .25 add exch round .25 add exch
itransform
}bind def
/DL{
SN
moveto
SN
lineto stroke
}bind def
/DC{
newpath 0 360 arc closepath
}bind def
/TM matrix def
/DE{
TM currentmatrix pop
translate scale newpath 0 0 .5 0 360 arc closepath
TM setmatrix
}bind def
/RC/rcurveto load def
/RL/rlineto load def
/ST/stroke load def
/MT/moveto load def
/CL/closepath load def
/Fr{
setrgbcolor fill
}bind def
/setcmykcolor where{
pop
/Fk{
setcmykcolor fill
}bind def
}if
/Fg{
setgray fill
}bind def
/FL/fill load def
/LW/setlinewidth load def
/Cr/setrgbcolor load def
/setcmykcolor where{
pop
/Ck/setcmykcolor load def
}if
/Cg/setgray load def
/RE{
findfont
dup maxlength 1 index/FontName known not{1 add}if dict begin
{
1 index/FID ne{def}{pop pop}ifelse
}forall
/Encoding exch def
dup/FontName exch def
currentdict end definefont pop
}bind def
/DEFS 0 def
/EBEGIN{
moveto
DEFS begin
}bind def
/EEND/end load def
/CNT 0 def
/level1 0 def
/PBEGIN{
/level1 save def
translate
div 3 1 roll div exch scale
neg exch neg exch translate
0 setgray
0 setlinecap
1 setlinewidth
0 setlinejoin
10 setmiterlimit
[]0 setdash
/setstrokeadjust where{
pop
false setstrokeadjust
}if
/setoverprint where{
pop
false setoverprint
}if
newpath
/CNT countdictstack def
userdict begin
/showpage{}def
/setpagedevice{}def
}bind def
/PEND{
countdictstack CNT sub{end}repeat
level1 restore
}bind def
end def
/setpacking where{
pop
setpacking
}if
%%EndResource
%%BeginFeature: *PageSize Default
<< /PageSize [ 612 792 ] /ImagingBBox null >> setpagedevice
%%EndFeature
%%IncludeResource: font Helvetica-Bold
%%IncludeResource: font Palatino-Roman
%%IncludeResource: font Courier
%%IncludeResource: font Palatino-Bold
%%IncludeResource: font Times-Roman
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Courier-Oblique
%%IncludeResource: font Palatino-Italic
grops begin/DEFS 1 dict def DEFS begin/u{.001 mul}bind def end/RES 72
def/PL 792 def/LS false def/ENC0[/asciicircum/asciitilde/Scaron/Zcaron
/scaron/zcaron/Ydieresis/trademark/quotesingle/Euro/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef/.notdef
/.notdef/.notdef/space/exclam/quotedbl/numbersign/dollar/percent
/ampersand/quoteright/parenleft/parenright/asterisk/plus/comma/hyphen
/period/slash/zero/one/two/three/four/five/six/seven/eight/nine/colon
/semicolon/less/equal/greater/question/at/A/B/C/D/E/F/G/H/I/J/K/L/M/N/O
/P/Q/R/S/T/U/V/W/X/Y/Z/bracketleft/backslash/bracketright/circumflex
/underscore/quoteleft/a/b/c/d/e/f/g/h/i/j/k/l/m/n/o/p/q/r/s/t/u/v/w/x/y
/z/braceleft/bar/braceright/tilde/.notdef/quotesinglbase/guillemotleft
/guillemotright/bullet/florin/fraction/perthousand/dagger/daggerdbl
/endash/emdash/ff/fi/fl/ffi/ffl/dotlessi/dotlessj/grave/hungarumlaut
/dotaccent/breve/caron/ring/ogonek/quotedblleft/quotedblright/oe/lslash
/quotedblbase/OE/Lslash/.notdef/exclamdown/cent/sterling/currency/yen
/brokenbar/section/dieresis/copyright/ordfeminine/guilsinglleft
/logicalnot/minus/registered/macron/degree/plusminus/twosuperior
/threesuperior/acute/mu/paragraph/periodcentered/cedilla/onesuperior
/ordmasculine/guilsinglright/onequarter/onehalf/threequarters
/questiondown/Agrave/Aacute/Acircumflex/Atilde/Adieresis/Aring/AE
/Ccedilla/Egrave/Eacute/Ecircumflex/Edieresis/Igrave/Iacute/Icircumflex
/Idieresis/Eth/Ntilde/Ograve/Oacute/Ocircumflex/Otilde/Odieresis
/multiply/Oslash/Ugrave/Uacute/Ucircumflex/Udieresis/Yacute/Thorn
/germandbls/agrave/aacute/acircumflex/atilde/adieresis/aring/ae/ccedilla
/egrave/eacute/ecircumflex/edieresis/igrave/iacute/icircumflex/idieresis
/eth/ntilde/ograve/oacute/ocircumflex/otilde/odieresis/divide/oslash
/ugrave/uacute/ucircumflex/udieresis/yacute/thorn/ydieresis]def
/Palatino-Italic@0 ENC0/Palatino-Italic RE/Courier-Oblique@0 ENC0
/Courier-Oblique RE/Courier-Bold@0 ENC0/Courier-Bold RE/Times-Roman@0
ENC0/Times-Roman RE/Palatino-Bold@0 ENC0/Palatino-Bold RE/Courier@0 ENC0
/Courier RE/Palatino-Roman@0 ENC0/Palatino-Roman RE/Helvetica-Bold@0
ENC0/Helvetica-Bold RE
%%EndProlog
%%Page: 1 1
%%BeginPageSetup
BP
%%EndPageSetup
/F0 18/Helvetica-Bold@0 SF(Mpd 5.9 User Man)216.567 194 Q(ual)-.18 E/F1
10/Palatino-Roman@0 SF(Ar)165.23 218 Q(chie Cobbs, Michael Br)-.18 E
(etterklieber)-.18 E 2.5(,A)-.74 G(lexander Motin)-2.5 E/F2 10/Courier@0
SF(<mpd-users@lists.sourceforge.net>)205.75 242 Q F1(2020-09-06)282.67
266 Q/F3 10/Palatino-Bold@0 SF(Abstract)286.84 326 Q F1 .802
(This manual covers the use of)115 350 R F3(mpd)3.302 E F1(version)3.302
E F3(5.9)3.302 E F1 3.302(,am)C .802(ulti-link PPP daemon for Fr)-3.302
F .801(eeBSD based on)-.18 F F2(netgraph\(4\))115 362 Q F1 5.28(.Y)C .28
(ou must be r)-6.2 F .28(unning Fr)-.08 F .281
(eeBSD version 5.x or higher to use it, and it is advised to)-.18 F
(have the latest system version to get access to all mpd featur)115 374
Q(es.)-.18 E/F4 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 768 Q(1)
338.68 E 0 Cg EP
%%Page: 2 2
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(2)338.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(1. Intr)90 102 R(oduction)-.32 E/F2 14
/Helvetica-Bold@0 SF 3.892(1.1 Over)90 142 R(vie).14 E(w)-.21 E/F3 10
/Palatino-Roman@0 SF 1.863
(Mpd is a netgraph\(4\) based implementation of the multi-link PPP pr)90
178 R 1.863(otocol for Fr)-.18 F 1.862(eeBSD. It is)-.18 F 1.534(design\
ed to be both fast and \215exible as it handles con\214guration and neg\
otiation in user land,)90 190 R(while r)90 202 Q
(outing all data packets strictly in the kernel.)-.18 E
(Mpd has uni\214ed support for many link types:)90 220 Q/F4 8
/Palatino-Roman@0 SF<83>105.152 238 Q/F5 10/Palatino-Bold@0 SF(modem)5 E
F3 2.347(to connect using dif)4.847 F(fer)-.18 E 2.347(ent asynchr)-.18
F 2.346(onous serial connections, including modems,)-.18 F 1.009
(ISDN terminal adapters, and null-modem.)115 250 R 1.009
(Mpd includes event-driven scripting language)6.009 F
(for modem identi\214cation, setup, manual server login, etc.)115 262 Q
F4<83>105.152 280 Q F5(pptp)5 E F3 .527
(to connect over the Internet using the Point-to-Point T)3.027 F .526
(unneling Pr)-.9 F .526(otocol \(PPTP\).)-.18 F(This)5.526 E(pr)115 292
Q(otocol is supported by the most OSes and har)-.18 E(dwar)-.18 E 2.5
(ev)-.18 G(endors.)-2.5 E F4<83>105.152 310 Q F5(l2tp)5 E F3 .351
(to connect over the Internet using the Layer T)2.851 F .351(wo T)-.9 F
.352(unneling Pr)-.9 F .352(otocol \(L2TP\).)-.18 F .352(L2TP is a)5.352
F(PPTP successor supported with modern clients and servers.)115 322 Q F4
<83>105.152 340 Q F5(pppoe)5 E F3 .026
(to connect over an Ethernet port using the PPP-over)2.526 F .026
(-Ethernet \(PPPoE\) pr)-.18 F 2.525(otocol. This)-.18 F(pr)115 352 Q
(otocol is often used by DSL pr)-.18 E(oviders.)-.18 E F4<83>105.152 370
Q F5(tcp)5 E F3 .805(to tunnel PPP session over a TCP connection.)3.305
F .806(Frames ar)5.806 F 3.306(ee)-.18 G .806(ncoded in the same was as)
-3.306 F(asychr)115 382 Q(onous serial connections.)-.18 E F4<83>105.152
400 Q F5(udp)5 E F3 1.084(to tunnel PPP session over a UDP connection.)
3.584 F 1.084(Each frame is encapsulated in a UDP)6.084 F
(datagram packet.)115 412 Q F4<83>105.152 430 Q F5(ng)5 E F3 .69
(to connect using dif)3.19 F(fer)-.18 E .69
(ent devices supported by netgraph.)-.18 F .69
(Netgraph is highly modular)5.69 F .344
(kernel networking system, supporting synchr)115 442 R .343
(onous serial connections, Cisco HDLC, Frame)-.18 F(Relay)115 454 Q 2.5
(,a)-1.11 G(nd other pr)-2.5 E(otocols.)-.18 E(It supports numer)90 472
Q(ous PPP sub-pr)-.18 E(otocols and extensions, such as:)-.18 E F4<83>
105.152 490 Q F3(Multi-link PPP)5 E F4<83>105.152 508 Q F3 -.92(PA)5 G
2.58 -1.29(P, C).92 H(HAP)1.29 E 2.5(,M)-1.29 G
(S-CHAP and EAP authentication)-2.5 E F4<83>105.152 526 Q F3(traf)5 E
(\214c compr)-.18 E(ession \(MPPC, De\215ate, Pr)-.18 E(edictor)-.18 E
(-1\))-.18 E F4<83>105.152 544 Q F3(traf)5 E
(\214c encryption \(MPPE, DESE, DESE-bis\))-.18 E F4<83>105.152 562 Q F3
(IPCP and IPV6CP parameter negotiation)5 E 2.94(Depending on con\214gur)
90 580 R 2.941(ed r)-.18 F 2.941
(ules and connection parameters mpd can operate as usual PPP)-.08 F .252
(client/server or forwar)90 592 R 2.752(dc)-.18 G .251
(onnection unmodi\214ed to other host using any supported link type pr)
-2.752 F(o-)-.18 E(viding LAC/P)90 604 Q
(AC/TSA functionality for building distributed access networks.)-.92 E
(Mpd also includes many additional featur)90 622 Q(es:)-.18 E F4<83>
105.152 640 Q F3(IPv4 and IPv6 support)5 E F4<83>105.152 658 Q F3 -.92
(Te)5 G(lnet and HTTP contr).92 E(ol interfaces.)-.18 E F4<83>105.152
676 Q F3(Dif)5 E(fer)-.18 E
(ent authentication and accounting methods \(RADIUS, P)-.18 E
(AM, script, \214le, ...\))-.92 E F4<83>105.152 694 Q F3(NetFlow traf)5
E(\214c accounting)-.18 E F4<83>105.152 712 Q F3(Network addr)5 E
(ess translation \(NA)-.18 E(T\))-.74 E 0 Cg EP
%%Page: 3 3
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(3)338.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF
(Dial-on-demand with idle timeout)5 E F1<83>105.152 114 Q F2
(Dynamic demand based link management \(also known as `)5 E(`r)-.37 E
(ubber bandwidth''\))-.08 E F1<83>105.152 132 Q F2
(Powerful chat scripting language for asynchr)5 E(onous serial ports)
-.18 E F1<83>105.152 150 Q F2(Pr)5 E
(e-tested chat scripts for several common modems and ISDN T)-.18 E(As)
-.74 E F1<83>105.152 168 Q F2(Clean device-type independent design)5 E
F1<83>105.152 186 Q F2(Compr)5 E(ehensive logging)-.18 E .02
(Mpd was originally developed at Whistle Communications, Inc.)90 204 R
.02(for use in the Whistle InterJet.)5.02 F(It)5.02 E .699
(is based on the original)90 216 R/F3 10/Courier@0 SF(iij-ppp)3.199 E F2
(user)3.199 E .698(-mode PPP code, though it has been completely r)-.18
F(ewritten)-.18 E(since then.)90 228 Q(Mpd is now hosted on sour)5 E
(cefor)-.18 E(ge.net MPD Pr)-.18 E(oject Page.)-.18 E/F4 14
/Helvetica-Bold@0 SF 3.892(1.2 Or)90 250 R(ganization of this man)-.21 E
(ual)-.14 E F2(This r)90 286 Q
(emainder of manual is separated into \214ve sections:)-.18 E F1<83>
105.152 304 Q/F5 10/Palatino-Bold@0 SF(Installation.)5 E F2
(How to download, compile, and install mpd.)5 E F1<83>105.152 322 Q F5
.516(Running mpd.)5 F F2 .516(How to invoke mpd fr)5.516 F .517
(om the UNIX command line, and how to use mpd's)-.18 F
(own command line interface.)115 334 Q F1<83>105.152 352 Q F5
(Con\214guration.)5 E F2(How to con\214gur)5 E 2.5(et)-.18 G
(he various link-type independent components of mpd.)-2.5 E F1<83>
105.152 370 Q F5 .102(Device types.)5 F F2 .101
(The devices types supported by mpd and how to con\214gur)5.102 F 2.601
(ee)-.18 G .101(ach device type.)-2.601 F F1<83>105.152 388 Q F5
(References.)5 E F2(Refer)5 E(ences to the standar)-.18 E
(ds to which mpd was written.)-.18 E F4 3.892(1.3 Chang)90 410 R 3.892
(eh).14 G -3.752(istor y)-3.892 F F2(Changes since version 5.8:)90 446 Q
F1<83>105.152 464 Q F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 482 Q
F2(Added new option `override` for the command `set iface mtu`.)7.5 E F1
<83>105.152 500 Q F2(Changes:)7.5 E F1<83>130.152 518 Q F2(Impr)7.939 E
.439(ove compatibility with new implementation of ipfw tables for Fr)
-.18 F .44(eeBSD versions)-.18 F
(when ipfw table delete command takes list of addr)140 530 Q(esses.)-.18
E F1<83>130.152 548 Q F2(Use only 64-bit counters on modern Fr)7.5 E
(eeBSD.)-.18 E F1<83>105.152 566 Q F2(Bug\214xes:)7.5 E F1<83>130.152
584 Q F2(Pr)7.5 E(operly clean console mutex lock in case of thr)-.18 E
(ead cancellation to pr)-.18 E(event deadlock.)-.18 E F1<83>130.152 602
Q F2 2.726(Fix buf)10.226 F 2.726(fer over\215ow intr)-.18 F 2.725
(oduced in version 5.8: pr)-.18 F 2.725(ocessing of template %aX in a)
-.18 F .977(RADIUS authentication r)140 614 R .977
(esponse might lead to unexpected termination of the mpd5)-.18 F(pr)140
626 Q 4.832(ocess. Installations)-.18 F 2.332
(not using RADIUS or not using %aX templates in RADIUS)4.832 F
(attributes wer)140 638 Q 2.5(en)-.18 G(ot af)-2.5 E(fected.)-.18 E F1
<83>130.152 656 Q F2 3.22(LCP negotiation \214xed for rar)5 F 5.72(ec)
-.18 G 3.22(ase of r)-5.72 F 3.22(emote peer r)-.18 F 3.22
(estarting it when in phase)-.18 F(AUTHENTICA)140 668 Q(TE or NETWORK.)
-.74 E F1<83>130.152 686 Q F2 .576(Fix buf)8.076 F .576
(fer over\215ow in parsing of L2TP contr)-.18 F .576(ol packets intr)
-.18 F .575(oduced in version 4.0 that)-.18 F 1.413(initially br)140 698
R 1.414(ought in L2TP support: a specially crafted incoming L2TP contr)
-.18 F 1.414(ol packet)-.18 F 1.836
(might lead to unexpected termination of the pr)140 710 R 4.335
(ocess. Installations)-.18 F 1.835(not using L2TP)4.335 F
(clients nor L2TP server con\214guration wer)140 722 Q 2.5(en)-.18 G
(ot af)-2.5 E(fected.)-.18 E(Changes since version 5.7:)90 740 Q 0 Cg EP
%%Page: 4 4
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(4)338.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF
(New featur)7.5 E(es:)-.18 E F1<83>130.152 114 Q F2
(Added JSON format output into the web console.)7.5 E F1<83>130.152 132
Q F2(Added `set l2tp pmask ...` command.)7.5 E F1<83>130.152 150 Q F2
(Added `set pppoe mac-format ...` command.)7.5 E F1<83>130.152 168 Q F2
(Added `set pppoe max-payload ...` command fr)7.5 E(om RFC 4638.)-.18 E
F1<83>130.152 186 Q F2(Added 'set radius sr)7.5 E(c-addr ...' command.)
-.18 E F1<83>130.152 204 Q F2(Added `set iface keep-timeout` options.)
7.5 E F1<83>130.152 222 Q F2(Added `set console auth` options.)7.5 E F1
<83>130.152 240 Q F2 2.143(Added `agent-cid` global option to contr)
9.643 F 2.144(ol display PPPoE ADSL-Agent-Cir)-.18 F(cuit-Id)-.18 E
(option in `show session` command.)140 252 Q(Default is disabled.)5 E F1
<83>130.152 270 Q F2 2.317(Added `session-time` global option to contr)
9.817 F 2.316(ol display session time in seconds in)-.18 F
(`show session` command.)140 282 Q(Default is disabled.)5 E F1<83>
130.152 300 Q F2(Using `peer_addr` in ACL tell to use mpd-table with th\
e peer negotiated IP addr)7.5 E(ess.)-.18 E F1<83>130.152 318 Q F2
(Added mor)7.5 E 2.5(ew)-.18 G(ildcar)-2.5 E(ds, passed fr)-.18 E
(om ACL's.)-.18 E F1<83>130.152 336 Q F2 1.955(Added mor)9.455 F 4.455
(ew)-.18 G(ildcar)-4.455 E 1.955(ds, passed fr)-.18 F 1.955
(om `set iface description ...` command or `mpd-)-.18 F
(iface-descr` RADIUS attribute.)140 348 Q F1<83>130.152 366 Q F2
(Added `Filter)7.5 E(-Id` RADIUS attribute.)-.18 E F1<83>130.152 384 Q
F2(Added support for Backtrace Access Library.)7.5 E F1<83>130.152 402 Q
F2(Added support for Libr)7.5 E(eSSL Library.)-.18 E F1<83>105.152 420 Q
F2(Changes:)7.5 E F1<83>130.152 438 Q F2
(Rename `quit` command to `shutdown`.)7.5 E F1<83>130.152 456 Q F2
(`authname ...` command can be case insensitive.)7.5 E F1<83>105.152 474
Q F2(Bug\214xes:)7.5 E F1<83>130.152 492 Q F2(Restor)7.5 E 2.5(es)-.18 G
(end mac addr)-2.5 E(ess to RADIUS server in unformatted value.)-.18 E
F1<83>130.152 510 Q F2(Fix long living bug with ECP.)7.5 E F1<83>130.152
528 Q F2(Fix ability to use both IPv4 and IPv6 addr)7.5 E
(esses on the same interface.)-.18 E(Changes since version 5.6:)90 546 Q
F1<83>105.152 564 Q F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 582 Q
F2(Added global `qthr)7.5 E(eshold` option.)-.18 E F1<83>130.152 600 Q
F2(Added `unset radius server ...` command.)7.5 E F1<83>130.152 618 Q F2
(Added `unset nat ...` command.)7.5 E F1<83>130.152 636 Q F2
(Added `Class` CoA attribute fr)7.5 E(om RFC 2865.)-.18 E F1<83>130.152
654 Q F2(New command `show net\215ow` added.)7.5 E F1<83>105.152 672 Q
F2(Changes:)7.5 E F1<83>130.152 690 Q F2(NA)7.5 E 2.5(Tr)-.74 G
(ules may be added/deleted without shutdowning interface.)-2.58 E F1<83>
130.152 708 Q F2(NetFlow can export IPv6 data.)7.5 E 0 Cg EP
%%Page: 5 5
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(5)338.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF .404
(Interface description may be constr)7.904 F .404(uct fr)-.08 F .404
(om pr)-.18 F .403(ede\214ned variables in bundle template.)-.18 F F1
<83>105.152 114 Q F2(Bug\214xes:)7.5 E F1<83>130.152 132 Q F2(Restor)7.5
E 2.5(e`)-.18 G(show sessions` as unprivileged command.)-2.5 E F1<83>
130.152 150 Q F2 .41(Fix in\214nite event loop when STDIN r)7.91 F(edir)
-.18 E .41(ected to /dev/null after it r)-.18 F .41(ecently got non-)
-.18 F(blocking mode support.)140 162 Q F1<83>130.152 180 Q F2
(Fix invalid output of `show nat` command in some times.)7.5 E F1<83>
130.152 198 Q F2(Fix some possible memory leaks.)7.5 E
(Changes since version 5.5:)90 216 Q F1<83>105.152 234 Q F2(New featur)
7.5 E(es:)-.18 E F1<83>130.152 252 Q F2
(Added `mpd-iface-name` RADIUS attribute.)7.5 E F1<83>130.152 270 Q F2
(Added `mpd-iface-descr` RADIUS attribute.)7.5 E F1<83>130.152 288 Q F2
(Added `mpd-iface-gr)7.5 E(oup` RADIUS attribute.)-.18 E F1<83>130.152
306 Q F2(Added `mpd-peer)7.5 E(-ident` RADIUS attribute.)-.18 E F1<83>
130.152 324 Q F2(Added `set iface name ...` command.)7.5 E F1<83>130.152
342 Q F2(Added `set iface description ...` command.)7.5 E F1<83>130.152
360 Q F2(Added `set iface gr)7.5 E(oup ...` command.)-.18 E F1<83>
130.152 378 Q F2(Added support for NetFlow v9 export.)7.5 E F1<83>
130.152 396 Q F2 2.005(Added `set l2tp|pptp|tcp|udp r)9.505 F 2.005
(esolve-once ...` command.)-.18 F 2.005(They allow to r)7.005 F(esolve)
-.18 E(peer addr)140 408 Q(ess every time on r)-.18 E(econnect.)-.18 E
F1<83>105.152 426 Q F2(Changes:)7.5 E F1<83>130.152 444 Q F2
(Remove dependency fr)7.5 E(om libpdel library.)-.18 E(Import r)5 E
(equir)-.18 E(ed \214les into the MPD tr)-.18 E(ee.)-.18 E F1<83>105.152
462 Q F2(Bug\214xes:)7.5 E F1<83>130.152 480 Q F2
(Fix invoke `set iface up|down-script` without ar)7.5 E(guments.)-.18 E
F1<83>130.152 498 Q F2(Fix `show eap` command)7.5 E F1<83>130.152 516 Q
F2(Fix build on older Fr)7.5 E(eeBSD versions.)-.18 E F1<83>130.152 534
Q F2(Fix several memory leaks.)7.5 E F1<83>130.152 552 Q F2
(Fix building without SYSLOG_F)7.5 E(ACILITY option.)-.74 E F1<83>
130.152 570 Q F2(Fix byte or)7.5 E(der in ports in `set nat r)-.18 E
(ed-port`.)-.18 E F1<83>130.152 588 Q F2
(Fix some potential crashes because of NULL der)7.5 E(efer)-.18 E
(ences.)-.18 E(Changes since version 5.4:)90 606 Q F1<83>105.152 624 Q
F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 642 Q F2(Added `set link r)
7.5 E(edial-delay ...` command.)-.18 E F1<83>130.152 660 Q F2
(Print global \214lters on `show iface|customer` commands.)7.5 E F1<83>
130.152 678 Q F2(Added pr)7.5 E(otocol/port forwar)-.18 E
(ding support for NA)-.18 E(T.)-.74 E F1<83>130.152 696 Q F2
(Added utmpx support on 9-CURRENT.)7.5 E F1<83>105.152 714 Q F2
(Bug\214xes:)7.5 E 0 Cg EP
%%Page: 6 6
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(6)338.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF
(Fix memory leaks on PPTP and RADIUS on some r)7.5 E(eason.)-.18 E F1
<83>130.152 114 Q F2(Really make RESUL)7.5 E 2.5(Tam)-.74 G
(andatory option in ext-auth.)-2.5 E
(Changes since version 5.3 \(most of this work was sponsor)90 132 Q
(ed by JSC 'Ufanet'\):)-.18 E F1<83>105.152 150 Q F2(New featur)7.5 E
(es:)-.18 E F1<83>130.152 168 Q F2 .316(Added built-in RADIUS server)
7.816 F 2.816(,s)-.74 G .316
(upporting RFC 3576: Dynamic Authorization Exten-)-2.816 F
(sions to RADIUS.)140 180 Q F1<83>130.152 198 Q F2
(Added Disconnect-Request extension support fr)7.5 E(om RFC 3576.)-.18 E
F1<83>130.152 216 Q F2(Added CoA-Request extension support fr)7.5 E
(om RFC 3576.)-.18 E F1<83>130.152 234 Q F2
(Added `authname ...` command to choose active link by peer auth name.)
7.5 E F1<83>130.152 252 Q F2 1.926(Added support for DSL For)9.426 F
1.925(um vendor)-.08 F 1.925(-speci\214c Cir)-.18 F 1.925
(cuit-ID/Remote-ID PPPoE tags)-.18 F(and r)140 264 Q
(espective RFC 4679 RADIUS VSA.)-.18 E F1<83>130.152 282 Q F2(Peer addr)
7.5 E(ess ar)-.18 E(gument added to interface up/down scripts.)-.18 E
(Changes since version 5.2:)90 300 Q F1<83>105.152 318 Q F2(New featur)
7.5 E(es:)-.18 E F1<83>130.152 336 Q F2(Added 'dr)7.5 E
(op' link action and 'set link action clear' command.)-.18 E F1<83>
130.152 354 Q F2 .342(Added ability to r)7.842 F .342
(eceive link action fr)-.18 F .343(om AAA in auth r)-.18 F 2.843
(eply. It)-.18 F .343(allows AAA to select)2.843 F(bundle/r)140 366 Q
(epeater con\214guration for speci\214c user or session.)-.18 E F1<83>
130.152 384 Q F2 .05(Added global traf)7.55 F .05
(\214c \214lters support to r)-.18 F .049(educe auth r)-.18 F .049
(eply size.)-.18 F .049('set global \214lter ...' com-)5.049 F(mands.)
140 396 Q F1<83>130.152 414 Q F2 .345
(Added ability to include other local or r)7.845 F .345
(emote con\214g \214les.)-.18 F .346('load ...' command able to)5.346 F
(accept con\214guration \214le path/URI as \214rst ar)140 426 Q(gument.)
-.18 E F1<83>130.152 444 Q F2 .881
(Added support for new ng_net\215ow node featur)8.381 F .881(es to impr)
-.18 F .881(ove bidir)-.18 F .88(ectional account-)-.18 F
(ing performance.)140 456 Q F1<83>130.152 474 Q F2 2.036
(Added 'acct-mandatory' auth option to contr)9.536 F 2.036
(ol accounting start err)-.18 F 2.036(ors handeling.)-.18 F
(Default is enabled.)140 486 Q F1<83>105.152 504 Q F2(Changes:)7.5 E F1
<83>130.152 522 Q F2(Impr)7.5 E(oved build modularization to allow mor)
-.18 E 2.5(ec)-.18 G(ustomized builds.)-2.5 E F1<83>130.152 540 Q F2
(Reduced memory usage by mor)7.5 E 2.5(ee)-.18 G -.18(ff)-2.5 G
(ective ACL memory allocation.).18 E F1<83>130.152 558 Q F2 1.106(Allow\
ed MRRU less then 1500 bytes. RFC claims that 1500 must be supported, b\
ut)8.607 F(lower values ar)140 570 Q 2.5(ea)-.18 G(cceptable.)-2.5 E F1
<83>105.152 588 Q F2(Bug\214xes:)7.5 E F1<83>130.152 606 Q F2
(Fix possible crash on nonterminated ident string r)7.5 E(eceive.)-.18 E
F1<83>130.152 624 Q F2(Fix memory leaks on auth failur)7.5 E(es.)-.18 E
F1<83>130.152 642 Q F2
(Change NCPs join/leave sequences to avoid ENXIO err)7.5 E
(ors on connect.)-.18 E F1<83>130.152 660 Q F2
(Use separate socket for getting CCP node ID to avoid fake r)7.5 E
(eports.)-.18 E(Changes since version 5.1:)90 678 Q F1<83>105.152 696 Q
F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 714 Q F2
(Added 'set radius identi\214er' command.)7.5 E 0 Cg EP
%%Page: 7 7
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(7)338.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF 2.29
(Added '$CallingID' and '$CalledID' modem chat variables.)9.79 F 2.29
(Their values will be)7.29 F -.18(re)140 108 S
(ported to the auth backend.).18 E F1<83>130.152 126 Q F2
(Added tunnel r)7.5 E(elated RADIUS attributes of RFC2868 support.)-.18
E F1<83>130.152 144 Q F2('set auth max-logins' featur)7.5 E 2.5(ec)-.18
G(an now be case insensitive.)-2.5 E F1<83>130.152 162 Q F2(Added for)
7.5 E(ce ability to the 'set iface addrs' command.)-.18 E F1<83>130.152
180 Q F2(IPCP/IPv6CP now closing on interface addr)7.5 E(ess assign err)
-.18 E(or or up-script err)-.18 E(or.)-.18 E F1<83>130.152 198 Q F2
(Accounting start err)7.5 E(or now closes link.)-.18 E F1<83>130.152 216
Q F2(PPPoE peer addr)7.5 E(ess format changed to mor)-.18 E 2.5(et)-.18
G(raditional.)-2.5 E F1<83>130.152 234 Q F2 1.36(Link peer)8.86 F 1.359
(-as-calling option default changed to disabled.)-.18 F 1.359
(PPTP and L2TP users ar)6.359 F(e)-.18 E
(advised to check con\214gurations!)140 246 Q F1<83>130.152 264 Q F2
.451(Some of RADIUS accounting update log messages moved fr)7.95 F .451
(om radius to radius2 log)-.18 F(level.)140 276 Q F1<83>105.152 294 Q F2
(Bug\214xes:)7.5 E F1<83>130.152 312 Q F2(Fix PPTP peer addr)7.5 E
(ess r)-.18 E(eporting for r)-.18 E(eal LAC/P)-.18 E(AC mode.)-.92 E F1
<83>130.152 330 Q F2(Fix auth thr)7.5 E(ead busy check.)-.18 E F1<83>
130.152 348 Q F2 3.269(Fix incorr)10.769 F 3.269(ect L2TP self addr)-.18
F 3.268(ess used for outgoing calls when several dif)-.18 F(fer)-.18 E
(ent)-.18 E(addr)140 360 Q(esses con\214gur)-.18 E(ed.)-.18 E
(Changes since version 5.0:)90 378 Q F1<83>105.152 396 Q F2(New featur)
7.5 E(es:)-.18 E F1<83>130.152 414 Q F2(Added support for NS-r)7.5 E
(elated RADIUS attributes fr)-.18 E(om RFC 2548.)-.18 E F1<83>130.152
432 Q F2(Added global max-childr)7.5 E(en option.)-.18 E F1<83>130.152
450 Q F2(Added link, bundle, iface and iface-index RADIUS VSA.)7.5 E F1
<83>130.152 468 Q F2 .239(Added 'set link mrr)7.739 F 2.739(u.)-.08 G
.239(..' command.)-2.739 F .24
(Set default MRRU to 2048 and maximum to 4096)5.239 F(bytes.)140 480 Q
F1<83>130.152 498 Q F2 1.786
(Added USER_NT_HASH and USER_LM_HASH ext-auth attributes for MS-CHAP)
9.287 F(authentication.)140 510 Q F1<83>130.152 528 Q F2 .789(Added mpd\
-input-acct/mpd-output-acct RADIUS attributes to allow sending typed)
8.288 F(traf)140 540 Q(\214c accounting using standar)-.18 E 2.5(dR)-.18
G(ADIUS attributes.)-2.5 E F1<83>130.152 558 Q F2
(Added support for local side IP management using IP pools.)7.5 E F1<83>
130.152 576 Q F2 1.898(Added support for auth/acct-only RADIUS servers.)
9.399 F 1.898(It allows to specify dif)6.898 F(fer)-.18 E(ent)-.18 E(se\
rvers for authentication and accounting in mpd con\214guration \214le.)
140 588 Q F1<83>130.152 606 Q F2 1.127
(Added support for the new ng_pptpgr)8.627 F 3.628(en)-.18 G 1.128
(ode design, supporting multiple calls per)-3.628 F(node. It impr)140
618 Q(oves performance, when multiple calls active between two IPs.)-.18
E F1<83>105.152 636 Q F2(Changes:)7.5 E F1<83>130.152 654 Q F2(peer)8.73
E 1.23(-as-calling and r)-.18 F 1.229(eport-mac options moved fr)-.18 F
1.229(om radius to link to impr)-.18 F 1.229(ove LAC)-.18 F(operation.)
140 666 Q F1<83>105.152 684 Q F2(Bug\214xes:)7.5 E F1<83>130.152 702 Q
F2(Fixed incorr)7.5 E(ect link cr)-.18 E(eation err)-.18 E
(or handeling.)-.18 E F1<83>130.152 720 Q F2(Added workar)7.5 E
(ound for some incorr)-.18 E(ect P)-.18 E(AP implementations.)-.92 E 0
Cg EP
%%Page: 8 8
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(8)338.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF 1.861
(Changed pr)9.36 F 1.861(ocessing of NAK on multilink options.)-.18 F
1.861(NAK enables r)6.861 F 1.861(ejected options)-.18 F(back.)140 108 Q
F1<83>130.152 126 Q F2
(Added missing multilink parameters check in BundJoin\(\).)7.5 E F1<83>
130.152 144 Q F2(Fixed sending of incoming traf)7.5 E
(\214c typed accounting on accounting stop.)-.18 E F1<83>130.152 162 Q
F2(Fixed using corr)7.5 E(ect pr)-.18 E(oxy-arp MAC when mor)-.18 E 2.5
(et)-.18 G(hen one interface matches.)-2.5 E F1<83>130.152 180 Q F2
(Fixed some L2TP and PPPoE err)7.5 E(ors pr)-.18 E(ocessing.)-.18 E F1
<83>130.152 198 Q F2(Fixed TCP and UDP link type nodes naming.)7.5 E
(Changes since version 5.0r)90 216 Q(c2:)-.18 E F1<83>105.152 234 Q F2
(New featur)7.5 E(es:)-.18 E F1<83>130.152 252 Q F2(Sending LCP T)7.5 E
(ime-Remaining packet implemented.)-.55 E F1<83>105.152 270 Q F2
(Bug\214xes:)7.5 E F1<83>130.152 288 Q F2
(Fixed MPPC options loss on link disconnect.)7.5 E F1<83>130.152 306 Q
F2(Fixed crash on PPTP CDN sending err)7.5 E(or.)-.18 E F1<83>130.152
324 Q F2(Fixed incorr)7.5 E(ect IPCP options r)-.18 E(eject pr)-.18 E
(ocessing.)-.18 E F1<83>130.152 342 Q F2(Fixed MP SHOR)7.5 E
(TSEQ option.)-.37 E F1<83>130.152 360 Q F2(Fixed packet or)7.5 E
(der on accepting outgoing PPTP call.)-.18 E(Changes since version 5.0r)
90 378 Q(c1:)-.18 E F1<83>105.152 396 Q F2(New featur)7.5 E(es:)-.18 E
F1<83>130.152 414 Q F2('auth2' log level added.)7.5 E F1<83>105.152 432
Q F2(Changes:)7.5 E F1<83>130.152 450 Q F2(Always pr)7.5 E
(efer MS-CHAP to others to get encryption keys.)-.18 E F1<83>105.152 468
Q F2(Bug\214xes:)7.5 E F1<83>130.152 486 Q F2
(Fixed bug in tcpmss\214x when compr)7.5 E
(ession or encryption is used.)-.18 E F1<83>130.152 504 Q F2
(Fixed build on Fr)7.5 E(eeBSD 5.x.)-.18 E F1<83>130.152 522 Q F2
(Fixed build without PPTP or L2TP support.)7.5 E F1<83>130.152 540 Q F2
(Fixed net\215ow node cr)7.5 E(eation.)-.18 E
(Changes since version 5.0b4:)90 558 Q F1<83>105.152 576 Q F2
(New featur)7.5 E(es:)-.18 E F1<83>130.152 594 Q F2
('show pptp' and 'show l2tp' commands added.)7.5 E F1<83>105.152 612 Q
F2(Bug\214xes:)7.5 E F1<83>130.152 630 Q F2
(Rewritten ippool to avoid races on IPCP r)7.5 E(enegotiation.)-.18 E F1
<83>105.152 648 Q F2(Changes:)7.5 E F1<83>130.152 666 Q F2
(Rewritten message engine using internal cir)7.5 E
(cular queue instead of system pipe.)-.18 E F1<83>130.152 684 Q F2
(L2TP/PPTP tunnel shutdown is now delayed for better LAC/P)7.5 E
(AC inter)-.92 E(operation.)-.18 E(Changes since version 5.0b3:)90 702 Q
F1<83>105.152 720 Q F2(New featur)7.5 E(es:)-.18 E 0 Cg EP
%%Page: 9 9
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(9)338.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF .543
(If Framed-Netmask RADIUS attribute != 255.255.255.255 mpd will cr)8.043
F .543(eate Framed-IP-)-.18 F(Addr)140 108 Q(ess/Framed-Netmask r)-.18 E
(oute to the client side.)-.18 E F1<83>130.152 126 Q F2 2.233(Added r)
9.733 F 2.233(eporting peer MAC addr)-.18 F 2.234
(ess and interface to AAA.)-.18 F 2.234(Added NAS-Port-Id)7.234 F
(RADIUS attribute support.)140 138 Q F1<83>130.152 156 Q F2
(New 'iface' command added.)7.5 E F1<83>130.152 174 Q F2
(Added IPv6 support for T)7.5 E(ee and DialOnDemand.)-.92 E F1<83>
130.152 192 Q F2('set iface addrs' now able to set IPv6 addr)7.5 E
(esses.)-.18 E F1<83>130.152 210 Q F2 1.225
(ACCT_INTERIM_LIM_RECV and ACCT_INTERIM_LIM_XMIT attributes added to)
8.725 F(ext-auth.)140 222 Q F1<83>105.152 240 Q F2(Bug\214xes:)7.5 E F1
<83>130.152 258 Q F2(Fixed /32 r)7.5 E(outes pr)-.18 E(ocessing.)-.18 E
F1<83>130.152 276 Q F2(Fixed crash on r)7.5 E(epeater shutdown.)-.18 E
F1<83>130.152 294 Q F2(Fixed 'cr)7.5 E
(eate link ' command syntax check.)-.18 E F1<83>130.152 312 Q F2
(Fixed r)7.5 E(edial delay.)-.18 E F1<83>130.152 330 Q F2
(Many small tunings and \214xes.)7.5 E F1<83>105.152 348 Q F2
(Performance impr)7.5 E(ovements:)-.18 E F1<83>130.152 366 Q F2 1.772
(Netgraph management completely r)9.272 F 4.273(ewritten. Now)-.18 F
4.273(6s)4.273 G 1.773(ockets per daemon used to)-4.273 F .28
(communicate with netgraph instead of 4 sockets per link befor)140 378 R
.28(e. This gives signi\214cant)-.18 F(performance bene\214t due to r)
140 390 Q(educed pevent engine over)-.18 E(head.)-.18 E F1<83>130.152
408 Q F2(Internal memory management r)7.5 E(ewritten.)-.18 E
(Changes since version 5.0b1:)90 426 Q F1<83>105.152 444 Q F2
(New featur)7.5 E(es:)-.18 E F1<83>130.152 462 Q F2
(Implemented type-dif)7.5 E(fer)-.18 E(entiated traf)-.18 E
(\214c accounting based on mpd-limit traf)-.18 E(\214c \214lters.)-.18 E
F1<83>130.152 480 Q F2(Added 'set link max-childr)7.5 E
(en ...' command for DoS pr)-.18 E(otection.)-.18 E F1<83>130.152 498 Q
F2(Implemented user privilege levels "admin"/"operator"/"user".)7.5 E F1
<83>130.152 516 Q F2 -.92(We)7.665 G 2.665(bc).92 G .165(onsole r)-2.665
F .165
(ewritten and allows now execute any commands allowed by privileges.)
-.18 F(Added plain-text command interface.)140 528 Q F1<83>130.152 546 Q
F2(New 'show sessions' and 'show customer' commands added.)7.5 E F1<83>
130.152 564 Q F2 .742(Implemented one-shot operation mode to allow mpd \
to be used in complicated dial)8.242 F(setups.)140 576 Q F1<83>130.152
594 Q F2(Acct-Session-Id attribute now pr)7.5 E(esent in auth r)-.18 E
(equest.)-.18 E F1<83>130.152 612 Q F2(Show to auth r)7.5 E
(eal PPPoE session name r)-.18 E(eceived fr)-.18 E(om peer.)-.18 E F1
<83>105.152 630 Q F2(Changes:)7.5 E F1<83>130.152 648 Q F2
(Rewritten PPPoE, L2TP)7.5 E 2.5(,T)-1.29 G
(CP and UDP link types to ful\214ll new dynamic design.)-2.5 E F1<83>
130.152 666 Q F2(MPPC r)7.5 E(elated options moved fr)-.18 E
(om 'set ccp' to the new 'set mppc' command.)-.18 E F1<83>130.152 684 Q
F2('set bundle r)7.5 E(etry' command r)-.18 E
(enamed to 'set bundle fsm-timeout'.)-.18 E F1<83>130.152 702 Q F2
(Number of auth r)7.5 E(etries incr)-.18 E(eased to 5.)-.18 E F1<83>
130.152 720 Q F2(PPTP windowing is disabled by default.)7.5 E 0 Cg EP
%%Page: 10 10
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(10)333.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF(Impr)7.5
E(oved uni\214ed command err)-.18 E(or r)-.18 E(eporting.)-.18 E F1<83>
130.152 114 Q F2
(Users list is now global and the same for console and web.)7.5 E F1<83>
105.152 132 Q F2(Bug\214xes:)7.5 E F1<83>130.152 150 Q F2
(Fixed memory leak on link/bundle shutdown.)7.5 E F1<83>130.152 168 Q F2
(Fixed r)7.5 E(efer)-.18 E(ence \(memory\) leak on console close.)-.18 E
F1<83>130.152 186 Q F2(Fixed net\215ow setup err)7.5 E(ors handeling.)
-.18 E F1<83>130.152 204 Q F2(Impr)7.5 E
(oved IfaceIp[v6]IfaceUp\(\) err)-.18 E(ors handeling.)-.18 E F1<83>
130.152 222 Q F2(Restor)7.5 E 2.5(el)-.18 G
(ink MRU to default after use.)-2.5 E
(Should help with some EAP-TLS cases.)5 E F1<83>130.152 240 Q F2 .44
(MPPC now automaically disables unusable subpr)7.94 F 2.94(otocols. For)
-.18 F .44(example, it is impossi-)2.94 F
(ble to use MPPE encryption without MSCHAP.)140 252 Q F1<83>130.152 270
Q F2(Fixed FSM instantiation to \214x LCP keep-alives.)7.5 E F1<83>
130.152 288 Q F2(Fixed 'set eap ...' context.)7.5 E F1<83>130.152 306 Q
F2(Implemented P)7.5 E(AP-ACK packet r)-.92 E(etransmit.)-.18 E F1<83>
130.152 324 Q F2('show mem' command now r)7.5 E
(eturns output to console instead of stdout.)-.18 E F1<83>130.152 342 Q
F2(Many small \214xes.)7.5 E(Changes since version 4:)90 360 Q F1<83>
105.152 378 Q F2(Design changes:)7.5 E F1<83>130.152 396 Q F2 .222
(Removed static link - bundle r)7.722 F 2.722(elations. Links)-.18 F
.221(now choose their bundles using negoti-)2.721 F .031
(ated parameters when they r)140 408 R .032(each NETWORK phase.)-.18 F
.032(The bene\214t of it)79.564 F 1.077(is simple and complete client a\
nd server multilink operation. Also it gives ability to)140 420 R
(implement mor)140 432 Q 2.5(ec)-.18 G(omplicated LAC, P)-2.5 E
(AC and TSA setups then it was possible befor)-.92 E(e.)-.18 E F1<83>
130.152 450 Q F2 1.325
(Implemented template based dynamic link/bundle cr)8.825 F 3.826
(eation. It)-.18 F 1.326(allows signi\214cantly)3.826 F -.18(re)140 462
S(duce amount of con\214guration r).18 E(equir)-.18 E
(ed to operate big access servers.)-.18 E 2.71(Link may be autocr)140
486 R 2.709(eated by incoming call r)-.18 F 2.709(equest fr)-.18 F 2.709
(om device or by DoD/BoD)-.18 F -.18(re)140 498 S 2.21(quest fr).18 F
2.211(om bundle. Bundle may be autocr)-.18 F 2.211(eated by the link r)
-.18 F 2.211(eached NETWORK)-.18 F(phase.)140 510 Q F1<83>130.152 528 Q
F2 3.095 -.92(To s)8.755 H 1.255(implify con\214guration link and phys \
layers separated since version 4.2 ar).92 F 3.754(en)-.18 G(ow)-3.754 E
-.18(re)140 540 S(joined again into a single link layer.).18 E F1<83>
105.152 558 Q F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 576 Q F2
(Added P)7.5 E(AM authentication and accounting.)-.92 E F1<83>130.152
594 Q F2(Added dynamic IP addr)7.5 E(esses pools support.)-.18 E F1<83>
130.152 612 Q F2 .176(Added new 'ext-acct' accounting)7.676 F .176
(backend as full-featur)5.176 F .176(ed alternative to 'radius-acct'.)
-.18 F F1<83>105.152 630 Q F2(Changes:)7.5 E F1<83>130.152 648 Q F2 .112
(Massive changes in con\214guration commands. Y)7.612 F .112
(ou should r)-.92 F .111(ead the manual and exam-)-.18 F
(ples for the new con\214guration techniques.)140 660 Q F1<83>130.152
678 Q F2(Fr)7.5 E(eeBSD 4.x and old DragonFly r)-.18 E(eleases ar)-.18 E
2.5(en)-.18 G(ot supported anymor)-2.5 E(e.)-.18 E
(Changes since version 4.2.2:)90 696 Q F1<83>105.152 714 Q F2
(New featur)7.5 E(es:)-.18 E 0 Cg EP
%%Page: 11 11
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(11)333.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF
(Added L2TP local hostname con\214guration.)7.5 E F1<83>130.152 114 Q F2
(Added L2TP length and dataseq options.)7.5 E F1<83>130.152 132 Q F2
1.913(L2TP local hostname and secr)9.413 F 1.913
(et at server side is now con\214gurable depending on)-.18 F
(client addr)140 144 Q(ess.)-.18 E F1<83>130.152 162 Q F2
(Reimplemented RADIUS Class attribute support.)7.5 E F1<83>130.152 180 Q
F2(Added PPPoE AC-name speci\214cation for the server side.)7.5 E F1<83>
130.152 198 Q F2(Added IP accounting with ng_ipacct node support.)7.5 E
F1<83>130.152 216 Q F2(Added con\214gur)7.5 E 2.5(es)-.18 G
(cript for better system featur)-2.5 E(es detection.)-.18 E F1<83>
130.152 234 Q F2
('show version' command now shows compiled-in system featur)7.5 E(es.)
-.18 E F1<83>130.152 252 Q F2 .178('session ...' and 'msession ...' com\
mands to select link/bundle by their curr)7.678 F .177(ent session)-.18
F(IDs added.)140 264 Q F1<83>105.152 282 Q F2(Bug\214xes:)7.5 E F1<83>
130.152 300 Q F2(Fixed race condition on PPTP tunnel cr)7.5 E
(eation/death.)-.18 E F1<83>130.152 318 Q F2(Fixed crash when stdout r)
7.5 E(edir)-.18 E(ected to /dev/null.)-.18 E F1<83>130.152 336 Q F2
(Fixed memory leak in pr)7.5 E(oxy-arp.)-.18 E F1<83>130.152 354 Q F2
(Fixed Dial-on-Demand functionality br)7.5 E(oken in 4.2.)-.18 E F1<83>
130.152 372 Q F2(Do not set ACCM for a Sync links.)7.5 E F1<83>130.152
390 Q F2(Fixed Sync mode detection for L2TP links.)7.5 E F1<83>105.152
408 Q F2(Performance impr)7.5 E(ovements:)-.18 E F1<83>130.152 426 Q F2
(Added support for 64bit ng_ppp counters wher)7.5 E 2.5(ea)-.18 G
(vailable.)-2.5 E(Changes since version 4.2.1:)90 444 Q F1<83>105.152
462 Q F2(Bug\214xes:)7.5 E F1<83>130.152 480 Q F2
(Fixed build and stack over\215ow on Fr)7.5 E(eeBSD 5.x.)-.18 E F1<83>
130.152 498 Q F2(Fixed startup script dependencies.)7.5 E
(Changes since version 4.2:)90 516 Q F1<83>105.152 534 Q F2(Bug\214xes:)
7.5 E F1<83>130.152 552 Q F2(Fixed default r)7.5 E(oute support bug.)
-.18 E F1<83>130.152 570 Q F2(Fixed memory leak in L2TP link cr)7.5 E
(eation.)-.18 E(Changes since version 4.1:)90 588 Q F1<83>105.152 606 Q
F2(New featur)7.5 E(es:)-.18 E F1<83>130.152 624 Q F2 .427
(Implemented link r)7.927 F .427(epeater functionality \(aka LAC/P)-.18
F .427(AC\). New "phys" and "r)-.92 F(epeater")-.18 E(layers added.)140
636 Q F1<83>130.152 654 Q F2
(PPTP now supports listening on multiple dif)7.5 E(fer)-.18 E(ent IPs.)
-.18 E F1<83>130.152 672 Q F2
(L2TP now supports tunnel authentication with shar)7.5 E(ed secr)-.18 E
(et.)-.18 E F1<83>130.152 690 Q F2(Implemented traf)7.5 E
(\214c \214ltering using ng_bpf.)-.18 E F1<83>130.152 708 Q F2
(Implemented fast traf)7.5 E(\214c shaping/rate-limiting using ng_car.)
-.18 E 0 Cg EP
%%Page: 12 12
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(12)333.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF
(Added workar)7.5 E(ound for W)-.18 E
(indows 2000 PPPoE MRU negotiation bug.)-.55 E F1<83>130.152 114 Q F2
.155(Implemented minimal client side of auth-driven callback \(w/o numb\
er speci\214cation\).)7.655 F F1<83>130.152 132 Q F2(Restor)7.5 E
(ed contr)-.18 E(ol console on stdin.)-.18 E F1<83>130.152 150 Q F2
(Added multiline console command history.)7.5 E F1<83>130.152 168 Q F2
(Added new 'ext-auth' auth backend as full-featur)7.5 E
(ed alternative to 'radius-auth'.)-.18 E F1<83>130.152 186 Q F2
(Added support for some new ng_nat featur)7.5 E(es.)-.18 E F1<83>130.152
204 Q F2(Implemented PPTP/L2TP SetLinkInfo sending to P)7.5 E(AC/LAC.)
-.92 E F1<83>130.152 222 Q F2 .741(NetFlow generation for both incoming\
 and outgoing packets same time is now sup-)8.24 F 4.141(ported. NOTE:)
140 234 R 3.481 -.92(To h)4.141 H 1.641(ave mor).92 F 4.141(et)-.18 G
1.641(hen 1000 interfaces with NetFlow in 6-ST)-4.141 F 1.64(ABLE you)
-.74 F .299(may need to incr)140 246 R .299(ease NG_NETFLOW_MAXIF)-.18 F
.299(ACES constant in net\215ow.h and r)-.74 F(ebuild)-.18 E
(ng_net\215ow kernel module.)140 258 Q F1<83>130.152 276 Q F2
(Added mpd-dr)7.5 E(op-user vendor speci\214c accounting r)-.18 E
(eply attribute support.)-.18 E F1<83>105.152 294 Q F2(Changes:)7.5 E F1
<83>130.152 312 Q F2('set link type ...' command is depr)7.5 E
(ecated now. Use 'set phys type ...' instead.)-.18 E F1<83>130.152 330 Q
F2(-a, -n, -N, and -t bundle options ar)7.5 E 2.5(ed)-.18 G(epr)-2.5 E
(ecated now. Use 'set iface enable ...' instead.)-.18 E F1<83>130.152
348 Q F2 .92(ng_tee, ng_nat, ng_net\215ow and other netgraph nodes betw\
een ng_ppp anf ng_iface)8.42 F(now cr)140 360 Q
(eated when NCP \(IPCP/IPV6CP\) goes up instead of startup time.)-.18 E
F1<83>130.152 378 Q F2(Auth subsystem r)7.5 E(efactor)-.18 E
(ed to avoid incorr)-.18 E(ect cr)-.18 E(oss-level dependencies.)-.18 E
F1<83>130.152 396 Q F2(Physical device level r)7.5 E(efactor)-.18 E
(ed to r)-.18 E(emove link and bundle levels dependencies.)-.18 E F1<83>
130.152 414 Q F2 .197(While accepting calls PPTP)7.696 F 2.697(,L)-1.29
G(2TP)-2.697 E 2.697(,T)-1.29 G .197(CP and UDP links ar)-2.697 F 2.697
(en)-.18 G .197(ow trying to use link with)-2.697 F
(most speci\214c peer addr)140 426 Q(ess con\214gur)-.18 E(ed.)-.18 E F1
<83>130.152 444 Q F2 .15(Removed setting up local IPv4 addr)7.65 F .15
(ess r)-.18 F .15(outing to loopback.)-.18 F .15(/usr/sbin/ppp does not)
5.15 F(doing it.)140 456 Q F1<83>105.152 474 Q F2(Bug\214xes:)7.5 E F1
<83>130.152 492 Q F2(Fixed thr)7.5 E(ead-safety r)-.18 E
(elated crash in accounting.)-.18 E F1<83>130.152 510 Q F2
(Fixed assertion in PPTP on contr)7.5 E
(ol connection fail while answering.)-.18 E F1<83>130.152 528 Q F2
(Fixed assertion in L2TP on contr)7.5 E(ol message sending failur)-.18 E
(e.)-.18 E F1<83>130.152 546 Q F2(Fixed br)7.5 E
(oken L2TP outcall mode.)-.18 E F1<83>130.152 564 Q F2
(Updated chat scripts to detect incoming modem calls speed.)7.5 E F1<83>
105.152 582 Q F2(Performance impr)7.5 E(ovements:)-.18 E F1<83>130.152
600 Q F2(Calls to ifcon\214g and r)7.5 E(oute pr)-.18 E(ograms r)-.18 E
(eplaced by internal functions.)-.18 E F1<83>130.152 618 Q F2(Wher)7.5 E
2.5(ep)-.18 G(ossible system\(\) calls r)-2.5 E
(eplaced by fork\(\)+execv\(\) to avoid shell execution.)-.18 E F1<83>
130.152 636 Q F2 3.835(Added connect r)11.335 F 3.835
(equests storm overload pr)-.18 F 6.335(otection. Mpd)-.18 F 3.835
(will dr)6.335 F 3.835(op incoming)-.18 F -.18(re)140 648 S
(quests when message queue r).18 E(each some de\214ned length.)-.18 E
(Changes since version 4.1r)90 666 Q(c2:)-.18 E F1<83>105.152 684 Q F2
(Changes:)7.5 E F1<83>130.152 702 Q F2(Default value of link's max-r)7.5
E(edial parameter changed to -1.)-.18 E F1<83>130.152 720 Q F2
(Bundle's nor)7.5 E(etry option is enabled by default now.)-.18 E 0 Cg
EP
%%Page: 13 13
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(13)333.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF
(Bug\214xes:)7.5 E F1<83>130.152 114 Q F2(Better up/down r)7.5 E
(eason tracking.)-.18 E .419(Mpd version was bumped fr)90 132 R .418
(om 4.0r)-.18 F .418(c2 to 4.1r)-.18 F .418(c2 due to lar)-.18 F .418
(ge number of changes done since 4.0b4)-.18 F(and Fr)90 144 Q
(eeBSD ports version number con\215ict.)-.18 E
(Changes since version 4.0r)90 162 Q(c1:)-.18 E F1<83>105.152 180 Q F2
(Bug\214xes:)7.5 E F1<83>130.152 198 Q F2(Idle timeout \214xed.)7.5 E F1
<83>130.152 216 Q F2
(Fixed bug with 'set l2tp self ' speci\214ed at the server side.)7.5 E
F1<83>130.152 234 Q F2
(Device type check for device-speci\214c commands added.)7.5 E F1<83>
130.152 252 Q F2(IPCP r)7.5 E(eject is not fatal by itself now.)-.18 E
F1<83>130.152 270 Q F2 .055(Up/down-script will now be called not for t\
he whole interface, but for each of negoti-)7.554 F(ated pr)140 282 Q
(otocols. Pr)-.18 E(oto parameter should be checked in the script!)-.18
E F1<83>130.152 300 Q F2(Fixed ng_ppp link bandwidth con\214guration.)
7.5 E(Changes since version 4.0b5:)90 318 Q F1<83>105.152 336 Q F2
(New featur)5 E(es:)-.18 E F1<83>130.152 354 Q F2(Integrated W)7.5 E
(eb server added.)-.92 E F1<83>130.152 372 Q F2(NA)7.5 E 2.5(Ts)-.74 G
(upport by ng_nat\(4\) added.)-2.5 E F1<83>130.152 390 Q F2
(L2TP \(RFC 2661\) device type implemented.)7.5 E F1<83>130.152 408 Q F2
(UDP device type was completely r)7.5 E(ewritten. Now it:)-.18 E F1<83>
155.152 426 Q F2 .17(does not r)7.67 F(equir)-.18 E 2.67(em)-.18 G .17
(anual 'open' command on the server side, it behaves just like)-2.67 F
(any other device type;)165 438 Q F1<83>155.152 456 Q F2
(allows many connections to the same server UDP port;)7.5 E F1<83>
155.152 474 Q F2 1.82(allows not to specify peer addr)9.32 F 1.82
(ess/port for incoming connections \(so it will)-.18 F(work thr)165 486
Q(ough dif)-.18 E(fer)-.18 E(ent NA)-.18 E 1.8 -.9(Ts a)-.74 H(nd \214r)
.9 E(ewalls\);)-.18 E F1<83>155.152 504 Q F2 .734
(allows not to specify self addr)8.234 F .734
(ess/port for outgoing connections \(so it is easier)-.18 F
(to con\214gur)165 516 Q(e\);)-.18 E F1<83>130.152 534 Q F2 .153
(TCP device type was completely r)7.653 F .154
(ewritten. It has some minor issues due to limitation)-.18 F
(of ng_ksocket module, but now IT WORKS! :\))140 546 Q F1<83>130.152 564
Q F2(Compr)7.5 E(ession Pr)-.18 E(edictor)-.18 E(-1 \(RFC 1978\) added.)
-.18 E F1<83>130.152 582 Q F2(Compr)7.5 E
(ession De\215ate \(RFC 1979\) added.)-.18 E F1<83>130.152 600 Q F2
(Encryption DESE \(RFC 1969\) support was r)7.5 E(eimplemented.)-.18 E
F1<83>130.152 618 Q F2(Encryption DESE-bis \(RFC 2419\) support added.)
7.5 E F1<83>130.152 636 Q F2(New command 'show phys' added.)7.5 E F1<83>
130.152 654 Q F2(New command 'show summary' added.)7.5 E F1<83>130.152
672 Q F2(Support for ipfw tables added to RADIUS ACL's.)7.5 E F1<83>
130.152 690 Q F2(New commands 'set global start...' added..)7.5 E F1<83>
130.152 708 Q F2
(Added support of calling/called numbers \(mostly for PPTP/L2TP\).)7.5 E
0 Cg EP
%%Page: 14 14
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(14)333.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF(Changes:)
7.5 E F1<83>130.152 114 Q F2("lcp" layer in open/close commands r)7.5 E
(eplaced by "link".)-.18 E F1<83>130.152 132 Q F2 1.097
(Auth con\214guration \(set auth ...\) moved fr)8.597 F 1.097
(om bundle layer to lcp.)-.18 F 1.096(It works per link)6.096 F(now.)140
144 Q F1<83>130.152 162 Q F2(MPPE policy option moved fr)7.5 E
(om auth layer to ccp.)-.18 E F1<83>105.152 180 Q F2(Bug\214xes:)7.5 E
F1<83>130.152 198 Q F2(Fixed a few bugs on amd64 and spar)7.5 E
(c64 platforms.)-.18 E F1<83>130.152 216 Q F2
(Phys layer was made stateless to r)7.5 E(emove race condition.)-.18 E
F1<83>130.152 234 Q F2(Link layer changed to r)7.5 E
(emove race conditions on LinkDown\(\).)-.18 E F1<83>130.152 252 Q F2
(Fixed race condition in accepting PPPoE connections.)7.5 E F1<83>
130.152 270 Q F2(Link up/down r)7.5 E(eason r)-.18 E(ecor)-.18 E
(ding is now mor)-.18 E 2.5(ea)-.18 G(ccurate.)-2.5 E F1<83>130.152 288
Q F2(Complete link shutdown pr)7.5 E(ocedur)-.18 E 2.5(eo)-.18 G 2.5(na)
-2.5 G(uth failur)-2.5 E 2.5(ei)-.18 G(mplemented.)-2.5 E F1<83>130.152
306 Q F2(Fixed several small PPTP level pr)7.5 E(ocessing issues.)-.18 E
F1<83>130.152 324 Q F2
(Removed limitation about PPTP which must be in the bundle alone.)7.5 E
F1<83>130.152 342 Q F2(Fixed MSCHAP auth which was br)7.5 E
(oken in 4.0b5.)-.18 E F1<83>130.152 360 Q F2(Fixed memory leak in P)7.5
E(AP and CHAP auth on the client side.)-.92 E F1<83>130.152 378 Q F2
(Fixed some CCP negotiation issues.)7.5 E F1<83>130.152 396 Q F2
(Fixed thr)7.5 E(eads-r)-.18 E(elated crash in internal auth.)-.18 E F1
<83>130.152 414 Q F2(Fixed crash on incoming when no fr)7.5 E
(ee PPTP link found.)-.18 E F1<83>130.152 432 Q F2(Bug in "r)7.5 E
(ubber bandwidth" algorithm \214xed.)-.08 E F1<83>130.152 450 Q F2
(Bug and possible crash \214xed in DoD code.)7.5 E F1<83>130.152 468 Q
F2(Fixed bug in AUTHPROT)7.5 E 2.5(On)-.18 G(egotiation.)-2.5 E F1<83>
130.152 486 Q F2(Fixed bug in RAD_MICROSOFT_MS_CHAP2_SUCCESS handeling.)
7.5 E(Needs testing.)5 E(Changes since version 4.0b4:)90 504 Q F1<83>
105.152 522 Q F2(New featur)5 E(es:)-.18 E F1<83>130.152 540 Q F2
(IPv6 support:)7.5 E F1<83>155.152 558 Q F2 .46
(IPV6CP support added, NCPs and IF)10.46 F .46(ACE calls was r)-.74 F
.46(ewritten to support many)-.18 F(NCPs.)165 570 Q F1<83>155.152 588 Q
F2(Console now supports IPv6.)41 E F1<83>155.152 606 Q F2
(UDP and TCP link types now support IPv6.)41 E F1<83>155.152 624 Q F2
.993(PPTP link type is r)41 F .993(eady to support IPv6, but r)-.18 F
(equir)-.18 E .992(es ng_pptpgr)-.18 F .992(e\(4\) to)-.18 F
(support IPv6.)165 636 Q F1<83>155.152 654 Q F2
(NetFlow export over IPv6 is supported.)41 E F1<83>155.152 672 Q F2
1.648(The following featur)41 F 1.649(es do not yet support IPv6: T)-.18
F 1.649(cpMSSFix, NetFlow)-1.11 F(,)-.92 E -.92(Te)165 684 S
(e, DialOnDemand.).92 E F1<83>130.152 702 Q F2
(TCP link type now compiles and works but is not yet r)7.5 E
(eady for pr)-.18 E(oduction usage.)-.18 E F1<83>130.152 720 Q F2
(NetFlow data generation on outgoing interface is supported.)7.5 E 0 Cg
EP
%%Page: 15 15
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(15)333.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF
(Added a possibility to use an existing ng_net\215ow\(4\) node.)7.5 E F1
<83>130.152 114 Q F2(Added a possibility to specify network interface n\
ames instead of IP addr)7.5 E(esses.)-.18 E F1<83>130.152 132 Q F2
(Added mor)7.5 E 2.5(el)-.18 G(og levels to decr)-2.5 E
(ease log \214le size.)-.18 E F1<83>105.152 150 Q F2(Changes:)7.5 E F1
<83>130.152 168 Q F2(Default ar)7.5 E
(gument of open/close commands changed fr)-.18 E(om iface to lcp.)-.18 E
F1<83>105.152 186 Q F2(Bug\214xes:)7.5 E F1<83>130.152 204 Q F2
(Fixed races between startup pr)7.5 E(ocess and client connecting.)-.18
E F1<83>130.152 222 Q F2(Fixed a few crashes in console.)7.5 E F1<83>
130.152 240 Q F2 2.489(Incoming call pr)9.99 F 2.489
(ocessing signi\214cantly r)-.18 F 2.489
(eworked to \214x some aspects of multilink)-.18 F
(server functionality.)140 252 Q F1<83>130.152 270 Q F2 .087
(The shutdown of mpd is now much mor)7.587 F 2.587(eg)-.18 G .088
(raceful: the netgraph nodes ar)-2.587 F 2.588(ec)-.18 G .088
(losed, the)-2.588 F 3.151
(accounting RADIUS packets for closing links ar)140 282 R 5.651(es)-.18
G 3.151(ent, new connections ar)-5.651 F 5.65(en)-.18 G(ot)-5.65 E
(accepted during shutdown.)140 294 Q F1<83>130.152 312 Q F2 .246
(Fixed races in \214lling of RADIUS packets. In particular)7.746 F 2.746
(,R)-.74 G(AD_NAS_POR)-2.746 E 2.746(Tv)-.37 G .247(alue in the)-2.746 F
(RADIUS could be wr)140 324 Q(ong.)-.18 E F1<83>130.152 342 Q F2 .308
(RADIUS support r)7.808 F .307
(ewritten to use poll\(2\) instead of select\(2\), allowing to cr)-.18 F
.307(eate a big-)-.18 F(ger number of links.)140 354 Q F1<83>130.152 372
Q F2 .195(Fixed a pr)7.695 F .196(oblem with identifying corr)-.18 F
.196(ect interface for pr)-.18 F .196(oxy-arp when alias addr)-.18 F
(esses)-.18 E(ar)140 384 Q 2.5(eu)-.18 G(sed.)-2.5 E F1<83>130.152 402 Q
F2(Fixed memory leaks and crashes when mor)7.5 E 2.5(et)-.18 G
(han 256 PPTP bundles ar)-2.5 E 2.5(ei)-.18 G 2.5(nu)-2.5 G(se.)-2.5 E
F1<83>130.152 420 Q F2(Fixed crash in PPPoE when mor)7.5 E 2.5(et)-.18 G
(han 64 par)-2.5 E(ent Ethernet interfaces used.)-.18 E F1<83>105.152
438 Q F2(Performance impr)7.5 E(ovements:)-.18 E F1<83>130.152 456 Q F2
.396(Message and PPPoE subsystems r)7.897 F .396(eworked to decr)-.18 F
.396(ease number of open \214les per bun-)-.18 F(dle.)140 468 Q
(Changes since version 4.0b3:)90 486 Q F1<83>105.152 504 Q F2
(BugFix: \214x crash in pr)5 E(ocessing of MS domain name fr)-.18 E
(om RADIUS server.)-.18 E F1<83>105.152 522 Q F2(New featur)5 E
(e: automatic cr)-.18 E
(eation, con\214guring and attaching of ng_net\215ow\(4\) node.)-.18 E
F1<83>105.152 540 Q F2
(ng_tee\(4\) now can be inserted on a per bundle basis.)5 E F1<83>
105.152 558 Q F2(New featur)5 E(e: on Fr)-.18 E(eeBSD 6.0 and higher ng\
_tcpmss\(4\) is utilized if doing TCP MSS \214xup.)-.18 E F1<83>105.152
576 Q F2(BugFix: tcpmss\214x now works for both incoming and outgoing T\
CP segments.)5 E F1<83>105.152 594 Q F2
(New options: update-limit-in, update-limit-out.)5 E F1<83>105.152 612 Q
F2(Fixed loss of statistics when -t options is used.)5 E F1<83>105.152
630 Q F2(Fixed chat scripting, modem links not br)5 E(oken anymor)-.18 E
(e.)-.18 E(Changes since version 4.0b2:)90 648 Q F1<83>105.152 666 Q F2
(BugFix: make PPPoE interface contr)5 E(ol events r)-.18 E
(ecurring, PPPoE is not br)-.18 E(oken anymor)-.18 E(e.)-.18 E F1<83>
105.152 684 Q F2(Added a new)5 E/F3 10/Courier@0 SF(startup)2.5 E F2
(section to the con\214g-\214le, wich is loaded once at startup.)2.5 E
F1<83>105.152 702 Q F2(Added a new)5 E F3(global)2.5 E F2
(con\214g space for all the global settings.)2.5 E F1<83>105.152 720 Q
F2(BugFix: do not generate new challenges while r)5 E
(etransmitting them.)-.18 E 0 Cg EP
%%Page: 16 16
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(16)333.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF(Fix)5 E
/F3 10/Courier@0 SF(va_args)2.5 E F2(bug on certain non-i386 platforms.)
2.5 E F1<83>105.152 114 Q F2(Auto-load)5 E F3(ng_ether)2.5 E F2
(for PPPoE connections; \214x default path for unde\214ned service.)2.5
E F1<83>105.152 132 Q F2 .965(Rewrite the console-stuf)5 F .966
(f. Multiple telnet connections ar)-.18 F 3.466(en)-.18 G .966
(ow allowed. Ther)-3.466 F 3.466(ei)-.18 G 3.466(sn)-3.466 G 3.466(oi)
-3.466 G(nput-)-3.466 E(console anymor)115 144 Q
(e, must use telnet instead.)-.18 E F1<83>105.152 162 Q F2
(BugFix: The dir)5 E(ectly con\214gur)-.18 E(ed passwor)-.18 E 2.5(dw)
-.18 G(as not taken into account when using P)-2.5 E(AP.)-.92 E F1<83>
105.152 180 Q F2(Disallow empty usernames safely.)5 E
(Changes since version 4.0b1:)90 198 Q F1<83>105.152 216 Q F2
(Fixed a race-condition wich caused a dead-lock.)5 E F1<83>105.152 234 Q
F2(RADIUS)5 E F1<83>130.152 252 Q F2
(Fixed several race-conditions when sending accounting r)5 E(equests.)
-.18 E F1<83>130.152 270 Q F2(Use the username fr)5 E
(om the access-accept packet \(if pr)-.18 E(esent\) for accounting r)
-.18 E(equests.)-.18 E
(Changes since version 3 \(most of this work was sponsor)90 288 Q
(ed by SURFnet\):)-.18 E F1<83>105.152 306 Q F2 1.416
(Design changes: Mpd uses now a thr)5 F 1.416
(ead-based event system using libpdel, these libpdel)-.18 F(parts ar)115
318 Q 2.5(en)-.18 G(ow integrated:)-2.5 E F1<83>130.152 336 Q F2
(typed_mem\(3\))5 E F1<83>130.152 354 Q F2(pevent\(3\))5 E F1<83>130.152
372 Q F2(alog\(3\))5 E(Mpd uses a "Giant Mutex" for pr)115 396 Q
(otecting its r)-.18 E(esour)-.18 E(ces.)-.18 E F1<83>105.152 414 Q F2
(Major new featur)5 E(es:)-.18 E F1<83>130.152 432 Q F2 .654
(Implemented the Extensible Authentication Pr)5 F .655
(otocol RFC 2284 \(EAP\). Curr)-.18 F .655(ently only)-.18 F 1.611
(EAP-MD5 is supported \(client and server side\).)140 444 R 1.611
(EAP negotiaton can be enabled at)6.611 F(link level.)140 456 Q F1<83>
130.152 474 Q F2(Implemented OPIE \(One-time Passwor)5 E
(ds In Everything\).)-.18 E F1<83>130.152 492 Q F2
(Implemented authentication against systems passwor)5 E 2.5(dd)-.18 G
(atabase)-2.5 E F3(master.passwd)2.5 E F2(.)A F1<83>130.152 510 Q F2
(utmp/wtmp logging.)5 E F1<83>105.152 528 Q F2
(Rewrites of the authentication subsystem:)5 E F1<83>130.152 546 Q F2
(Make authentication and accounting r)5 E(equests asynchr)-.18 E
(onous using paction\(3\).)-.18 E F1<83>130.152 564 Q F2 1.166
(Authentication backends ar)5 F 3.666(ea)-.18 G 1.166
(cting now independently fr)-3.666 F 1.166(om the r)-.18 F 1.167
(est of Mpd, using)-.18 F(some internal str)140 576 Q
(ucts as interface.)-.08 E F1<83>130.152 594 Q F2(The)5 E F3(mpd.secret)
3.221 E F2 .721
(\214le is now used as one authentication backends of many)3.221 F 3.22
(,i)-1.11 G 3.22(th)-3.22 G .72(as no)-3.22 F(special r)140 606 Q
(ole anymor)-.18 E(e, i.e. it could be disabled.)-.18 E F1<83>130.152
624 Q F2(Generate a session-id at bundle and link level for using with \
accounting r)5 E(equests.)-.18 E F1<83>105.152 642 Q F2(RADIUS r)5 E
(elated changes:)-.18 E F1<83>130.152 660 Q/F4 10/Palatino-Bold@0 SF
(IMPOR)5 E -.92(TA)-.55 G(NT).92 E F2 6.336(:M)C 3.836
(pd needs now an enhanced libradius, her)-6.336 F 6.336(ea)-.18 G 4.196
-.18(re t)-6.336 H 3.836(he patchsets:).18 F F3 -3.5(4-STABLE 5-CURRENT)
140 672 R F1<83>130.152 690 Q F2(Remember and send the RAD_ST)5 E -.74
(AT)-.74 G 2.5(Ea).74 G(ttribute.)-2.5 E F1<83>130.152 708 Q F2
(Message-Authenticator support.)5 E 0 Cg EP
%%Page: 17 17
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(17)333.68 E/F1 8
/Palatino-Roman@0 SF<83>130.152 96 Q/F2 10/Palatino-Roman@0 SF(EAP Pr)5
E(oxy Support.)-.18 E F1<83>105.152 114 Q F2 .948(Added a new option fo\
r PPTP links for disabling the windowing mechanism speci\214ed by)5 F
.29(the pr)115 126 R .29
(otocol. Disabling this will cause Mpd to violate the pr)-.18 F .29
(otocol, possibly confusing other)-.18 F .293(PPTP peers, but often r)
115 138 R .292
(esults in better performance. The windowing mechanism is a design)-.18
F(err)115 150 Q .639(or in the PPTP pr)-.18 F .639(otocol; L2TP)-.18 F
3.139(,t)-1.29 G .639(he successor to PPTP)-3.139 F 3.139(,r)-1.29 G .64
(emoves it. Y)-3.319 F .64(ou need a r)-.92 F .64(ecent ver)-.18 F(-)
-.18 E(sion of Fr)115 162 Q
(eeBSD \(NGM_PPTPGRE_COOKIE >= 1082548365\) in or)-.18 E
(der to get this featur)-.18 E(e.)-.18 E/F3 10/Courier@0 SF
(set pptp disable windowing)115 186 Q F1<83>105.152 204 Q F2
(Added a new commandline option)5 E F3(-t)2.5 E F2
(for adding ng_tee into the netgraph.)2.5 E(Submitted by: Gleb Smirnof)
115 228 Q(f, glebius at cell dot sick dot r)-.18 E(u)-.08 E F1<83>
105.152 246 Q F2(Removed con\214guration parameters:)5 E F1<83>130.152
264 Q F2(bundle:)5 E F3(radius-fallback)2.5 E F1<83>130.152 282 Q F2
(iface:)5 E F3(radius-session)5.006 E F2(,)A F3(radius-idle)5.006 E F2
(,)A F3(radius-mtu)5.006 E F2(,)A F3(radius-route)5.006 E F2(,)A F3
(radius-)5.006 E(acl)140 294 Q F1<83>130.152 312 Q F2(ipcp:)5 E F3
(radius-ip)2.5 E F2(Moved con\214guration parameters:)115 348 Q F1<83>
130.152 366 Q F2(bundle to auth:)5 E F3(radius-auth)2.5 E F2(,)A F3
(radius-acct)2.5 E F2(,)A F3(authname)2.5 E F2(,)A F3(password)2.5 E F2
(,)A F3(max-logins)2.5 E F1<83>130.152 384 Q F2(radius to auth:)5 E F3
(acct-update)2.5 E F1<83>130.152 402 Q F2(ccp to auth:)5 E F3(radius)2.5
E F2(and r)2.5 E(enamed to)-.18 E F3(mppc-pol)2.5 E F2
(New con\214guration parameters:)115 438 Q F1<83>130.152 456 Q F2(link:)
5 E F3(keep-ms-domain)2.617 E F2 2.617(,t)C .117(his pr)-2.617 F .117
(events Mpd fr)-.18 F .117(om stripping the MS-Domain, this is can)-.18
F(be useful when using IAS as RADIUS server.)140 468 Q F1<83>130.152 486
Q F2(radius:)5 E F3(message-authentic)3.929 E F2 3.929(,t)C 1.429
(his adds the Message-Authenticator attribute to the)-3.929 F(RADIUS r)
140 498 Q(equest.)-.18 E F1<83>130.152 516 Q F2(auth:)5 E F3(internal)
3.127 E F2 3.127(,c)C(ontr)-3.127 E .627(oles the usage of the)-.18 F F3
(mpd.secret)3.127 E F2 .627(\214le \(internal authentication)3.127 F
(backend\).)140 528 Q F1<83>130.152 546 Q F2(auth:)5 E F3(opie)2.5 E F2
2.5(,e)C(nables/disables the OPIE authentication backend.)-2.5 E F1<83>
130.152 564 Q F2(auth:)5 E F3(system)2.5 E F2 2.5(,e)C
(nables/disables authentication against systems passwor)-2.5 E 2.5(dd)
-.18 G(atabase.)-2.5 E F1<83>130.152 582 Q F2(auth:)5 E F3(utmp-wtmp)2.5
E F2 2.5(,e)C(nables/disables utmp/wtmp logging.)-2.5 E(database.)5 E F1
<83>130.152 600 Q F2(auth:)5 E F3(timeout)2.5 E F2 2.5(,c)C(on\214gur)
-2.5 E(eable timeout for the authentication phase.)-.18 E F1<83>130.152
618 Q F2(eap:)5 E F3(radius-proxy)4.943 E F2 4.943(,t)C 2.443
(his causes Mpd to pr)-4.943 F 2.442(oxy all EAP r)-.18 F 2.442
(equests to the RADIUS)-.18 F(server)140 630 Q 2.996(,M)-.74 G .496
(pd only makes the initial Identity-Request \(this saves one r)-2.996 F
.497(ound-trip\), every)-.18 F 1.504(other r)140 642 R 1.504(equests ar)
-.18 F 4.004(ef)-.18 G(orwar)-4.004 E 1.503(ded to the RADIUS server.)
-.18 F 1.503(This adds the possibility sup-)6.503 F .163
(porting every EAP-T)140 654 R .163(ype of the RADIUS server)-.9 F 2.663
(,w)-.74 G .163(ithout implementing each EAP-T)-2.663 F(ype)-.9 E
(into Mpd.)140 666 Q F1<83>130.152 684 Q F2(eap:)5 E F3(md5)2.5 E F2 2.5
(,E)C(AP-T)-2.5 E
(ype MD5, it's the same as CHAP-MD5, but inside EAP frames.)-.9 E F1<83>
105.152 702 Q F2(Removed de\214nes)5 E F3(ENCRYPTION_MPPE)2.5 E F2(and)
2.5 E F3(COMPRESSION_MPPC)2.5 E F2 2.5(,t)C(hey ar)-2.5 E 2.5(en)-.18 G
(ow built in.)-2.5 E F1<83>105.152 720 Q F2(Get rid of)5 E F3(IA_CUSTOM)
2.5 E F2(de\214ne.)2.5 E 0 Cg EP
%%Page: 18 18
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(18)333.68 E/F1 8
/Palatino-Roman@0 SF<83>105.152 96 Q/F2 10/Palatino-Roman@0 SF
(BugFix: Fixed a mem-leak in the pptp-ctrl stuf)5 E(f.)-.18 E 0 Cg EP
%%Page: 19 19
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(19)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(2. Installation)90 102 R/F2 14
/Helvetica-Bold@0 SF 3.892(2.1 Getting)90 142 R(mpd)3.892 E/F3 10
/Palatino-Roman@0 SF .582(Mpd is supplied as a)90 178 R/F4 10
/Palatino-Bold@0 SF .582(FreeBSD port)3.082 F F3 3.082(,u)C .582
(nder the name)-3.082 F/F5 10/Courier@0 SF(net/mpd5)3.082 E F3 5.582(.T)
C(her)-5.582 E(efor)-.18 E .582(e, the simplest way to)-.18 F .429
(get mpd onto your machine is to install the mpd package or port.)90 190
R .43(For information on how to do)5.43 F(this, see the)90 202 Q F4
(FreeBSD ports web page)2.5 E F3(.)A 1.6
(Mpd can also be compiled and installed manually.)90 220 R 1.599
(This is useful for example if you want to)6.599 F
(change the set of device types supported by mpd.)90 232 Q F2 3.892
(2.2 Installing)90 254 R(mpd)3.892 E F3 5.965(If you use the Fr)90 290 R
5.966(eeBSD package or port, mpd will be automatically installed into)
-.18 F F5(/usr/local/sbin/mpd5)90 302 Q F3 5.175(.w)C .175
(ith the default set of device types compiled into it.)-5.175 F .175
(In or)5.175 F .175(der to r)-.18 F(un,)-.08 E 1.189
(mpd needs a few con\214guration \214les. The dir)90 314 R(ectory)-.18 E
F5(/usr/local/etc/mpd5)3.689 E F3 1.189(is cr)3.689 F 1.19
(eated to hold)-.18 F 2.5(them. In)90 326 R
(it you will \214nd some sample con\214guration \214les.)2.5 E(Befor)90
344 Q 2.5(ey)-.18 G(ou can r)-2.5 E(un mpd, you must set up your site-s\
peci\214c con\214guration \214les. These \214les ar)-.08 E(e:)-.18 E F5
(mpd.conf)120 362 Q F3 .034(This \214le de\214nes one or mor)150 374 R
(e)-.18 E F4(con\214gurations)2.534 E F3 5.034(.W)C .034
(hen mpd is invoked, you specify the)-5.034 F 1.615(name of a con\214gu\
ration on the command line. This con\214guration \(which mer)150 386 R
(ely)-.18 E 2.287(consists of a series of mpd commands\) is loaded.)150
398 R 2.287(If no con\214guration is given,)7.287 F
('default' con\214guration is loaded.)150 410 Q .913
(Each con\214guration de\214nes one or mor)150 428 R 3.413(eb)-.18 G
.913(undles, links and r)-3.413 F 3.414(epeaters. They)-.18 F .914
(can be)3.414 F 1.524(de\214ned with the)150 440 R F5(create)4.024 E F3
4.023(command. Subsequent)4.023 F 1.523(commands in the con\214guration)
4.023 F(con\214gur)150 452 Q 2.5(et)-.18 G
(he various layers for that item.)-2.5 E F5(mpd.secret)120 470 Q F3 .31
(This \214le contains login, passwor)150 482 R 2.811(dp)-.18 G .311
(airs. This is wher)-2.811 F 2.811(em)-.18 G .311
(pd looks to \214nd all authen-)-2.811 F
(tication information. This \214le should be r)150 494 Q
(eadable only by)-.18 E F5(root)2.5 E F3(.)A F5(mpd.script)120 512 Q F3
(This \214le contains chat scripts for modem devices.)150 524 Q F2 3.892
(2.3 Building)90 546 R(mpd)3.892 E F3 .405
(If you choose to build mpd yourself to customize it, the pr)90 582 R
.404(ocess is straightforwar)-.18 F .404(d. First, edit the)-.18 F F5
(Makefile)90 594 Q F3 .054(to de\214ne \(or unde\214ne\) the various de\
vice types and options you want to support. Run)2.554 F('con\214gur)90
606 Q(e' script and then type)-.18 E F5(make depend all)2.5 E F3(to r)
2.5 E(ebuild the binary.)-.18 E
(The various build-time de\214nitions in the Make\214le ar)90 624 Q 2.5
(eb)-.18 G(elow:)-2.5 E F5(MPD_CONF_DIR)120 642 Q F3
(The default con\214guration dir)150 654 Q(ectory wher)-.18 E 2.5(em)
-.18 G(pd looks for)-2.5 E F5(mpd.conf)2.5 E F3 2.5(,e)C(tc.)-2.5 E F5
(PHYSTYPE_MODEM)120 672 Q(PHYSTYPE_TCP)120 690 Q(PHYSTYPE_UDP)120 708 Q
0 Cg EP
%%Page: 20 20
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(20)333.68 E/F1 10
/Courier@0 SF(PHYSTYPE_NG_SOCKET)120 96 Q(PHYSTYPE_PPTP)120 114 Q
(PHYSTYPE_L2TP)120 132 Q(PHYSTYPE_PPPOE)120 150 Q/F2 10/Palatino-Roman@0
SF(De\214ne these to include support for the corr)150 168 Q
(esponding device type.)-.18 E F1(ENCRYPTION_DES)120 186 Q F2
(These enable support for the corr)150 204 Q
(esponding encryption types.)-.18 E F1(SYSLOG_FACILITY)120 222 Q F2 1.36
(Mpd normally logs via)150 234 R F1(syslog\(3\))3.86 E F2 1.36
(using the facility)3.86 F F1(LOG_DAEMON)3.86 E F2 3.86(.Y)C 1.36
(ou can cus-)-4.78 F(tomize the facility her)150 246 Q(e.)-.18 E 0 Cg EP
%%Page: 21 21
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(21)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(3. Running)90 102 R(Mpd)4.448 E/F2 14
/Helvetica-Bold@0 SF 3.892(3.1 In)90 142 R -.42(vo)-.56 G(king mpd).42 E
/F3 10/Palatino-Roman@0 SF(Mpd is invoked by \214rst setting up your co\
n\214guration \214les, and then r)90 178 Q(unning)-.08 E/F4 8
/Courier-Bold@0 SF(mpd [)110 194 Q/F5 8/Courier-Oblique@0 SF(options)4.8
E/F6 8/Courier@0 SF 4.8(][)4.8 G F5(configuration)A F6(])4.8 E F3 .755
(On startup mpd r)90 224 R .755(un commands fr)-.08 F .755(om the)-.18 F
/F7 10/Courier@0 SF(startup)3.255 E F3 3.255(label. After)3.255 F .755
(that, if)3.255 F/F8 10/Palatino-Italic@0 SF(con\214guration)3.255 E F3
.755(is supplied,)3.255 F .458(mpd looks in)90 236 R F7(mpd.conf)2.957 E
F3 .457(for a matching label, and r)2.957 F .457(uns the corr)-.08 F
.457(esponding commands. If)-.18 F F8(con\214gu-)2.957 E(ration)90 248 Q
F3(is not supplied, mpd looks for the con\214guration named)2.5 E F7
(default)2.5 E F3(.)A .07(Mpd can either be r)90 266 R .071
(un in interactive mode or in the backgr)-.08 F .071
(ound as a daemon. In interactive mode)-.18 F
(mpd accepts commands typed at the console.)90 278 Q .342
(Mpd understands the following command line options.)90 296 R .341
(Each option has a short, single character)5.342 F
(form, as well as an equivalent long form.)90 308 Q F7 6
(-b --background)120 326 R F3(Run as a backgr)150 338 Q(ound daemon.)
-.18 E F7 6(-d --directory)120 356 R F8(dir)6 E F3 1.464
(This option allows you to specify a dif)150 368 R(fer)-.18 E 1.464
(ent dir)-.18 F 1.464(ectory for the mpd con\214guration)-.18 F
(\214les other than the default)150 380 Q F7(/usr/local/etc/mpd)2.5 E F3
(.)A F7 6(-f --file)120 398 R F8(\214lename)6 E F3
(Specify an initial con\214guration \214le other than the default,)150
410 Q F7(mpd.conf)2.5 E F3(.)A F7 6(-o --one-shot)120 428 R F3 .303
(This option for)150 440 R .303
(ces mpd terminate itself after the last link disappear.)-.18 F .302
(Link templates)5.302 F(ar)150 452 Q 2.5(en)-.18 G(ot counted as links.)
-2.5 E F7 6(-p --pidfile)120 470 R F8(\214lename)6 E F3 .552
(Mpd will open and lock)150 482 R F8(\214lename)3.052 E F3 .552
(and write its pr)3.052 F .552(ocess ID befor)-.18 F 3.052(es)-.18 G
.553(tarting. If another)-3.052 F 7.218(mpd pr)150 494 R 7.218
(ocess is alr)-.18 F 7.217(eady r)-.18 F 7.217
(unning, mpd will not start.)-.08 F 7.217(The default is)12.217 F F7
(/var/run/mpd.pid)150 506 Q F3(.)A F7 6(-k --kill)120 524 R F3 -.55(Wi)
150 536 S .498
(th this option, pd will attempt to kill any existing mpd pr).55 F .499
(ocess befor)-.18 F 2.999(eb)-.18 G(eginning)-2.999 E 1.683
(execution. The pr)150 548 R 1.683(evious pr)-.18 F 1.682
(ocess must have written its pr)-.18 F 1.682(ocess ID in the PID \214le)
-.18 F F7(/var/run/mpd.pid)150 560 Q F3
(\(or the \214le you specify with the)2.5 E F7(--pidfile)2.5 E F3
(option\).)2.5 E F7 6(-s --syslog-ident)120 578 R F8(ident)6 E F3 .419
(Mpd normally logs via)150 590 R F7(syslog\(3\))2.919 E F3 .419
(with the identi\214er)2.919 F F7(mpd)2.919 E F3 2.919(.T)C .42
(his option allows you)-2.919 F(to change that identi\214er.)150 602 Q
F7 6(-m --pam-service)120 620 R F8(service)6 E F3 2.14
(Mpd normally invoke)150 632 R F7(pam\(3\))4.639 E F3 2.139
(with the service)4.639 F F7(mpd)4.639 E F3 4.639(.T)C 2.139
(his option allows you to)-4.639 F(change that service.)150 644 Q F7 6
(-v --version)120 662 R F3
(Displays the version number of mpd and exits.)150 674 Q F7 6(-h --help)
120 692 R F3(Displays a usage message and exits.)150 704 Q(Mpd r)90 722
Q(esponds to the following signals while it is r)-.18 E(unning:)-.08 E 0
Cg EP
%%Page: 22 22
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(22)333.68 E/F1 10
/Palatino-Roman@0 SF(SIGTERM)120 96 Q
(Attempt to gracefully shut down all active connections and exit.)150
108 Q(SIGUSR1)120 126 Q .475(This signal causes mpd to initiate a conne\
ction with the \214rst link. If mpd is alr)150 138 R(eady)-.18 E
(attempting to connect, this signal has no ef)150 150 Q(fect.)-.18 E
(SIGUSR2)120 168 Q .048(This signal has the opposite ef)150 180 R .048
(fect, namely)-.18 F 2.548(,i)-1.11 G 2.548(tc)-2.548 G .048
(auses mpd to close the \214rst link. If the)-2.548 F(link is alr)150
192 Q(eady in a closed state, this signal has no ef)-.18 E(fect.)-.18 E
/F2 14/Helvetica-Bold@0 SF 3.892(3.2 Con\214guration)90 214 R(\214le f)
3.892 E(ormat)-.28 E F1(Mpd uses thr)90 250 Q(ee dif)-.18 E(fer)-.18 E
(ent con\214guration \214les when it executes. These \214les ar)-.18 E
2.5(ed)-.18 G(escribed below.)-2.5 E/F3 12/Helvetica-Bold@0 SF 3.336
(3.2.1 General)90 270 R(pr)3.336 E -3.096(oper ties)-.24 F F1
(For all of the con\214guration \214les, the following things ar)90 306
Q 2.5(et)-.18 G -.08(ru)-2.5 G(e:).08 E/F4 8/Palatino-Roman@0 SF<83>
105.152 324 Q F1 .206
(Any line whose \214rst character is a number sign \()5 F/F5 10
/Courier@0 SF(#)A F1 2.706(\)i)C 2.706(sc)-2.706 G(onsider)-2.706 E .207
(ed a comment and is ignor)-.18 F(ed.)-.18 E F4<83>105.152 342 Q F1
1.004
(Strings may be quoted using double quotes. The string is decoded accor)
5 F 1.003(ding to normal C)-.18 F(language r)115 354 Q(ules.)-.08 E F3
3.336(3.2.2 mpd.conf)90 374 R F1(An)90 410 Q/F6 10/Palatino-Italic@0 SF
(entry)2.946 E F1 .446(consists of a)2.946 F F6(label)2.946 E F1 .447
(followed by a sequence of mpd commands.)2.946 F 2.947(Al)5.447 G .447
(abel begins at the \214rst)-2.947 F .06
(column and ends with a colon character. Commands ar)90 422 R 2.559(ei)
-.18 G .059(ndented with a tab character and follow)-2.559 F
(the label on the next and subsequent lines.)90 434 Q(Her)90 452 Q 3.23
(ei)-.18 G 3.23(sa)-3.23 G 3.23(ne)-3.23 G(xample)-3.23 E F5(mpd.conf)
3.23 E F1 .73(that contains a single con\214guration)3.23 F F5(client)
3.23 E F1 .73(that de\214nes a single)3.23 F(bundle template)90 464 Q F5
(B1)2.5 E F1(and one link)2.5 E F5(L1)2.5 E F1(:)A/F7 8/Courier@0 SF(#)
110 480 Q 4.8(#m)110 490 S(pd.conf configuration file)-4.8 E(#)110 500 Q
(client:)110 520 Q(create bundle template B1)146 530 Q
(create link static L1 modem)146 550 Q(set modem device /dev/cuau0)146
560 Q(set modem speed 115200)146 570 Q(set modem script DialPeer)146 580
Q(set modem idle-script AnswerCall)146 590 Q
(set modem var $DialPrefix "DT")146 600 Q
(set modem var $Telephone "1234567")146 610 Q(set link no pap chap eap)
146 620 Q(set link accept pap)146 630 Q(set auth authname "MyLogin")146
640 Q(set auth password "MyPassword")146 650 Q(set link max-redial 0)146
660 Q(set link action bundle B1)146 670 Q(open)146 680 Q F1 .085
(Commands ar)90 704 R 2.585(ei)-.18 G .085
(ndependent and executed one by one as if they wer)-2.585 F 2.584(ee)
-.18 G(nter)-2.584 E .084(ed using console. Most)-.18 F .753
(command operation depends on the active context, which includes curr)90
716 R .754(ently active link, bundle)-.18 F .404(and r)90 728 R 2.903
(epeater. Information)-.18 F .403
(about active context is shown at the console command pr)2.903 F 2.903
(ompt. Some)-.18 F(commands, like)90 740 Q F5(link)2.5 E F1(,)A F5
(bundle)2.5 E F1(,)A F5(repeater)2.5 E F1(and)2.5 E F5(create)2.5 E F1
(can change this context.)2.5 E 0 Cg EP
%%Page: 23 23
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(23)333.68 E/F1 12
/Helvetica-Bold@0 SF 3.336(3.2.3 mpd.secret)90 98 R/F2 10
/Palatino-Roman@0 SF 1.538(This \214le contains login, passwor)90 134 R
4.038(dp)-.18 G 1.539(airs, one entry per line.)-4.038 F 1.539
(Each entry may have an optional)6.539 F(thir)90 146 Q 2.695(da)-.18 G
-.18(rg)-2.695 G .195(ument, which is an IP addr).18 F .194
(ess with optional netmask width. This is used when negotiat-)-.18 F
.251(ing IP addr)90 158 R .251(esses with the corr)-.18 F .251
(esponding peer.)-.18 F 2.091 -.92(We r)5.251 H .252
(estrict the allowable IP addr).74 F .252(esses we'll assign)-.18 F
(to the peer to lie within the speci\214ed range.)90 170 Q .128
(In the example below)90 188 R 2.628(,w)-.92 G 2.627(ed)-2.628 G .127(e\
\214ne two ISP accounts that we use to connect to the Internet. Also, w\
e)-2.627 F .193(have thr)90 200 R .194(ee friends who ar)-.18 F 2.694
(ea)-.18 G .194(llowed to connect to us, and we want to r)-2.694 F .194
(estrict the IP addr)-.18 F .194(esses that)-.18 F
(we'll let them have. Finally)90 212 Q 2.5(,t)-1.11 G
(he last user's passwor)-2.5 E 2.5(di)-.18 G 2.5(sr)-2.5 G
(etrieved by an external pr)-2.68 E(ogram.)-.18 E/F3 8/Courier@0 SF(#)
110 228 Q 4.8(#m)110 238 S(pd.secret configuration file)-4.8 E(#)110 248
Q 4.8(#m)110 268 S 4.8(yt)-4.8 G(wo ISP accounts)-4.8 E 14.4
(mylogin1 password1)110 278 R 14.4(mylogin2 "Xka)110 288 R(\\r\\n")4.8 E
4.8(#m)110 308 S 4.8(yt)-4.8 G(hree friends)-4.8 E 38.4
(bob "akd\\"ix23")110 318 R(192.168.1.100)14.4 E 28.8(jerry "33dk88kz3")
110 328 R(192.168.1.101)14.4 E 33.6(phil "w*d9m&_4X")110 338 R
(192.168.1.128/25)14.4 E 4.8(#A)110 358 S 4.8(ne)-4.8 G
(xternal password access program)-4.8 E 19.2
(gregory "!/usr/local/etc/mpd/get_passwd.sh")110 368 R F2(Her)90 398 Q
(e)-.18 E/F4 10/Courier@0 SF(bob)2.748 E F2(and)2.748 E F4(jerry)2.748 E
F2 .248(must negotiate)2.748 F F4(192.168.1.100)2.748 E F2(and)2.748 E
F4(192.168.1.101)2.748 E F2 2.748(,r)C(espectively)-2.928 E 2.748(,w)
-1.11 G(hile)-2.748 E F4(phil)90 410 Q F2(can ask for any addr)2.5 E
(ess fr)-.18 E(om)-.18 E F4(192.168.1.128)2.5 E F2(thr)2.5 E(ough)-.18 E
F4(192.168.1.255)2.5 E F2(.)A .384(The leading `)90 428 R .384
(`!'' means that the passwor)-.37 F 2.884(df)-.18 G .384(or user)-2.884
F F4(gregory)2.884 E F2 .385(is not stor)2.884 F .385(ed in the)-.18 F
F4(mpd.secret)2.885 E F2(\214le)2.885 E(dir)90 440 Q 3.288
(ectly. Instead,)-.18 F .787(the named pr)3.288 F .787(ogram is r)-.18 F
.787(un with the username being authenticated as an addi-)-.08 F 16.816
(tional ar)90 452 R 16.816
(gument \(so in this case the command line would be)-.18 F -.37(``)90
464 S F4 .869(/usr/local/etc/mpd/get_passwd.sh gregory).37 F F2 .869
(''\). The command string may include ini-)B 1.2(tial, \214xed ar)90 476
R 1.2(guments as well. This pr)-.18 F 1.2
(ogram should print the plaintext passwor)-.18 F 3.7(df)-.18 G 1.2
(or the named)-3.7 F .895(user as a single line to standar)90 488 R
3.395(do)-.18 G .894(utput, and then exit.)-3.395 F F4(Mpd)5.894 E F2
.894(will block for this operation, so the)3.394 F(pr)90 500 Q 1.707
(ogram should r)-.18 F 1.707(espond and exit quickly.)-.18 F 1.707
(If ther)6.707 F 4.207(ei)-.18 G 4.207(sa)-4.207 G 4.207(ne)-4.207 G(rr)
-4.207 E(or)-.18 E 4.208(,t)-.74 G 1.708(he command should print an)
-4.208 F(empty line, or just not print anything.)90 512 Q .683
(As a special case, if the username in the)90 530 R F4(mpd.secret)3.183
E F2 .683(\214le is `)3.183 F .683
(`*'', then this line must be last as it)-.37 F .03
(matches any username.)90 542 R .031(Then it is up to the external pr)
5.03 F .031(ogram to determine whether the username)-.18 F
(is valid. This wildcar)90 554 Q 2.5(dm)-.18 G(atching only works for `)
-2.5 E(`!'' lines.)-.37 E .553(The total length of the executed command\
 must be less than 128 characters.)90 572 R .553(The pr)5.553 F .553
(ogram is r)-.18 F(un)-.08 E .936(as the same user who r)90 584 R(uns)
-.08 E F4(mpd)3.436 E F2 3.436(,w)C .936(hich is usually)-3.436 F F4
(root)3.436 E F2 3.436(,s)C 3.436(ot)-3.436 G .936(he usual car)-3.436 F
3.436(es)-.18 G .937(hould be taken with)-3.436 F .843(scripts r)90 596
R .843(un as r)-.08 F .842(oot, e.g., make sur)-.18 F 3.342(et)-.18 G
.842(he script is not world-r)-3.342 F .842(eadable or world-writable.)
-.18 F(Standar)5.842 E(d)-.18 E 1.428(input and standar)90 608 R 3.928
(de)-.18 G(rr)-3.928 E 1.428(or ar)-.18 F 3.928(ei)-.18 G 1.428
(nherited fr)-3.928 F 1.429(om the par)-.18 F(ent)-.18 E F4(mpd)3.929 E
F2(pr)3.929 E 3.929(ocess. Note)-.18 F 1.429(that any additional)3.929 F
(ar)90 620 Q(guments will be visible to users on the local machine r)
-.18 E(unning)-.08 E F4(ps\(1\))2.5 E F2(.)A F1 3.336(3.2.4 mpd.script)
90 640 R F2 .464(This \214le has a format similar to)90 676 R F4
(mpd.conf)2.964 E F2 2.964(,b)C .464
(ut it contains chat script commands instead of mpd)-2.964 F .39(comman\
ds. Each line contains a single command, and labels identify starting p\
oints and/or sub-)90 688 R -.18(ro)90 700 S(utines in the script.).18 E
(See)90 718 Q/F5 10/Palatino-Italic@0 SF(Chat Scripting)2.5 E F2
(\(section 6.)2.5 E 2.5(,p)5 G
(age 73\) for a complete description of chat scripting.)-2.5 E 0 Cg EP
%%Page: 24 24
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(24)333.68 E/F1 14
/Helvetica-Bold@0 SF 3.892(3.3 Mpd)90 100 R(command line interface)3.892
E/F2 10/Palatino-Roman@0 SF .122(Mpd pr)90 136 R .121
(ovides to user a command line interface on stdin and TCP port. Her)-.18
F 2.621(em)-.18 G .121(pd commands can)-2.621 F .602(be enter)90 148 R
.602(ed to con\214gur)-.18 F 3.102(et)-.18 G .603(he various layers and\
 check the status of the de\214ned bundles and links.)-3.102 F .265
(The commands available at the command line interface ar)90 160 R 2.765
(ee)-.18 G .264(xactly the same ones available in the)-2.765 F/F3 10
/Courier@0 SF(mpd.conf)90 172 Q F2(con\214g \214le.)2.5 E .876
(At any given time, ther)90 190 R 3.377(ei)-.18 G 3.377(sa)-3.377 G .877
(lways exists an)-3.377 F/F4 10/Palatino-Italic@0 SF .877
(active context)3.377 F F2 .877(shich includes active link, bundle and)
3.377 F -.18(re)90 202 S .004(peater. These name ar).18 F 2.504(es)-.18
G .004(hown in the pr)-2.504 F .004(ompt. Her)-.18 F 2.504(ei)-.18 G
2.503(sa)-2.504 G 2.503(ne)-2.503 G .003(xample of r)-2.503 F .003
(unning mpd with a con\214g-)-.08 F(uration in)90 214 Q F3(mpd.conf)2.5
E F2(that de\214nes a bundle)2.5 E F3(myisp)2.5 E F2
(containing two links)2.5 E F3(modem1)2.5 E F2(and)2.5 E F3(modem2)2.5 E
F2(:)A/F5 8/Courier@0 SF 4.8($m)110 230 S(pd config1)-4.8 E
(Multi-link PPP daemon for FreeBSD)110 240 Q(process 26177 started, ver\
sion 5.0 \(root@orphanage.alkar.net 13:16 22-Sep-2007\))110 260 Q
([modem1])110 270 Q F2 .195(By that time, mpd has alr)90 300 R .195
(eady r)-.18 F .195
(ead in and executed all the commands associated with the con\214g-)-.18
F(uration)90 312 Q F3(config1)2.5 E F2 2.5(,w)C
(hich de\214nes the bundle)-2.5 E F3(myisp)2.5 E F2(.)A 1.84 -.92(To c)
90 330 T(ontr).92 E(ol mpd r)-.18 E
(untime you also can connect to mpd's T)-.08 E(elnet console.)-.92 E F5
4.8(>t)110 346 S(elnet 0 5005)-4.8 E(Trying 0.0.0.0...)110 356 Q
(Connected to 0.)110 366 Q(Escape character is '\000]'.)110 376 Q
(Multi-link PPP daemon for FreeBSD)110 386 Q(Username: Admin)110 406 Q
(Password:)110 416 Q(Mpd pid 1419, version 5.0a1 \(root@orphanage.alkar\
.net 13:16 22-Sep-2007\))110 426 Q([modem1])110 446 Q F2 1.254(The pr)90
470 R(ompt)-.18 E F3([modem1])3.754 E F2 1.254(shows the curr)3.754 F
1.253(ently active link \()-.18 F F3(modem1)A F2 1.253
(\). Any link speci\214c commands)B(issued at this point will apply to)
90 482 Q F3(modem1)2.5 E F2(.)A 1.84 -.92(To c)90 500 T
(hange the active link, bundle or r).92 E(epeater)-.18 E 2.5(,u)-.74 G
(se the)-2.5 E F3(link)2.5 E F2(,)A F3(bundle)2.5 E F2(or)2.5 E F3
(repeater)2.5 E F2(command:)2.5 E F5([modem1] link modem2)110 516 Q
([modem2])110 526 Q F2 .985(Now any commands enter)90 556 R .985
(ed apply to)-.18 F F3(myisp)3.485 E F2(or)3.485 E F3(modem2)3.485 E F2
3.486(,a)C 3.486(sa)-3.486 G(ppr)-3.486 E .986
(opriate. This technique works)-.18 F .974(the same way in)90 568 R F3
(mpd.conf)3.474 E F2 3.474(.A)C .974(lso, if changing the link r)-3.474
F(equir)-.18 E .974(es changing bundles as well, mpd)-.18 F
(will do that too.)90 580 Q .467(The available commands ar)90 598 R
2.967(ed)-.18 G .467(escribed in the next chapter.)-2.967 F .468
(When mpd is r)5.467 F .468(unning, the)-.08 F F3(help)2.968 E F2(can)
2.968 E(be used to get mor)90 610 Q 2.5(ei)-.18 G
(nformation on a speci\214c command:)-2.5 E 0 Cg EP
%%Page: 25 25
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(25)333.68 E/F1 8
/Courier@0 SF([modem2] help show)110 94 Q
(Commands available under "show":)110 104 Q 9.6(bundle :)114.8 114 R
(Bundle status)4.8 E(repeater : Repeater status)76.8 E 24(ccp :)114.8
124 R(CCP status)4.8 E 24(ecp :)91.2 F(ECP status)4.8 E 24(eap :)114.8
134 R(EAP status)4.8 E 9.6(events :)91.2 F(Current events)4.8 E 19.2
(ipcp :)114.8 144 R(IPCP status)4.8 E 9.6(ipv6cp :)86.4 F(IPV6CP status)
4.8 E 14.4(iface :)114.8 154 R(Interface status)4.8 E 9.6(routes :)62.4
F(IP routing table)4.8 E 9.6(layers :)114.8 164 R(Layers to open/close)
4.8 E 9.6(device :)43.2 F(Physical device status)4.8 E 19.2(link :)114.8
174 R(Link status)4.8 E 19.2(auth :)86.4 F(Auth status)4.8 E 9.6
(radius :)114.8 184 R(RADIUS status)4.8 E 24(lcp :)76.8 F(LCP status)4.8
E 24(nat :)114.8 194 R(NAT status)4.8 E 24(mem :)91.2 F(Memory map)4.8 E
4.8(console :)114.8 204 R(Console status)4.8 E 24(web :)72 F(Web status)
4.8 E 9.6(global :)114.8 214 R(Global settings)4.8 E 14.4(types :)67.2 F
(Supported device types)4.8 E 4.8(version :)114.8 224 R(Version string)
4.8 E 4.8(summary :)72 F(Daemon status summary)4.8 E([modem2])110 234 Q
/F2 10/Palatino-Roman@0 SF(Mpd allows you to use only a pr)90 258 Q
(e\214x of a command, as long as the command is unambigous:)-.18 E F1
([modem2] b)110 274 Q(Defined bundles:)110 284 Q 38.4(Bundle Links)148.4
294 R 38.4(------ -----)148.4 304 R 43.2(myisp modem2[DOWN])148.4 314 R
([modem2] s)110 324 Q(s: ambiguous command)110 334 Q 0 Cg EP
%%Page: 26 26
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(26)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(4. Con\214guring)90 102 R(Mpd)4.448 E/F2 14
/Helvetica-Bold@0 SF 3.892(4.1 General)90 142 R(mpd commands)3.892 E/F3
10/Palatino-Roman@0 SF(This chapter describes general mpd commands that\
 do not apply to a speci\214c layer.)90 178 Q/F4 10/Courier@0 SF
(create bundle [ template | static ])120 196 Q/F5 10/Palatino-Italic@0
SF(name)6 E F3([)2.5 E F5(template)2.5 E F3(])2.5 E(Cr)150 208 Q .628(e\
ate new bundle with speci\214ed name, optionally based on speci\214ed t\
emplate.)-.18 F(If)5.628 E .446('template' option is speci\214ed, bundl\
e will not operate itself, but will be used to cr)150 220 R(e-)-.18 E
1.18(ate new bundles on demand.)150 232 R 1.18
(If 'static' option is speci\214ed, it will be a permanent)6.18 F .131
(bundle which will not disappear after operation completes.)150 244 R
.131(Maximum name length)5.131 F
(is 10 characters for templates and 15 characters for the r)150 256 Q
(est of bundles.)-.18 E F4(create link [ template | static ])120 274 Q
F5(name)6 E F3(\()2.5 E F5(type)2.5 E F3(|)2.5 E F5(template)2.5 E F3
(\))2.5 E(Cr)150 286 Q 1.016(eate new link with speci\214ed name and ty\
pe, optionally based on speci\214ed tem-)-.18 F 2.526(plate. If)150 298
R .027('template' option is speci\214ed, link will not operate itself, \
but will be used to)2.526 F(cr)150 310 Q 1.251
(eate new links on demand.)-.18 F 1.251
(If 'static' option is speci\214ed, it will be a permanent)6.251 F .283
(link which will not disapear after operation complete.)150 322 R .284
(Maximum name length is 10)5.283 F
(characters for templates and 15 characters for the r)150 334 Q
(est of links.)-.18 E F4(destroy bundle [)150 364 Q F5(name)6 E F3(])2.5
E(destr)150 388 Q 1.396(oy link [)-.18 F F5(name)3.896 E F3 1.396
(]" Destr)3.896 F 1.396(oy existing link/bundle.)-.18 F 1.396
(Note that if link is in use, it)6.396 F .065
(may not disapear after command r)150 400 R .065
(eturns, it may take some time to pr)-.18 F .065(operly close it.)-.18 F
F4(bundle [)120 418 Q F5(name)6 E F3(])2.5 E .489
(This command changes the curr)150 430 R .488
(ently active bundle to the bundle named)-.18 F F5(name)2.988 E F3 2.988
(.T)C(he)-2.988 E(curr)150 442 Q 1.436(ently active link is also change\
d, to the \214rst link of the bundle. If no)-.18 F F5(name)3.937 E F3
(is)3.937 E .099(given, this command lists all of the de\214ned bundles\
 and their constituent links.)150 454 R(The)5.098 E
(new bundle will be r)150 466 Q(e\215ected in the pr)-.18 E(ompt.)-.18 E
F4(link [)120 484 Q F5(name)6 E F3(|)2.5 E F5([number])2.5 E F3(])2.5 E
.622(This command changes the curr)150 496 R .622
(enly active link to the link named)-.18 F F5(name)3.122 E F3 3.122(.I)C
3.123(ft)-3.122 G .623(his link)-3.123 F .996
(does not belong to the curr)150 508 R .996
(ently active bundle, then the curr)-.18 F .996(ently active bundle is)
-.18 F 1.146(changed to the bundle that owns link)150 520 R F5(name)
3.647 E F3 6.147(.T)C 1.147(he new link will be r)-6.147 F 1.147
(e\215ected in the)-.18 F(pr)150 532 Q 4.206(ompt. Link)-.18 F F5
(number)4.206 E F3(\(RAD_NAS_POR)4.206 E 1.705
(T\) can be speci\214ed in hex form in squar)-.37 F(e)-.18 E
(brackets in place of name.)150 544 Q F4(repeater [)120 562 Q F5(name)6
E F3(])2.5 E 1.638(This command changes the curr)150 574 R 1.638
(enly active r)-.18 F 1.638(epeater to the r)-.18 F 1.639(epeater named)
-.18 F F5(name)4.139 E F3(.)A 1.569(The curr)150 586 R 1.569
(ently active phys is also changed, to the \214rst phys of the r)-.18 F
1.568(epeater. If no)-.18 F F5(name)150 598 Q F3 .805
(is given, this command lists all of the de\214ned r)3.305 F .806
(epeaters and their constituent)-.18 F 2.5(physes. The)150 610 R
(new phys will be r)2.5 E(e\215ected in the pr)-.18 E(ompt.)-.18 E F4
(iface [)120 628 Q F5(iface)6 E F3(])2.5 E 1.839
(This command changes the curr)150 640 R 1.839
(enly active bundle to the bundle using interface)-.18 F F5(iface)150
652 Q F3(.)A F4(msession [)120 670 Q F5(msesid)6 E F3(])2.5 E 1.526
(This command changes the curr)150 682 R 1.527
(enly active bundle to the bundle holding session)-.18 F
(with multilink session ID)150 694 Q F5(msesid)2.5 E F3(.)A F4
(session [)120 712 Q F5(sesid)6 E F3(])2.5 E .219
(This command changes the curr)150 724 R .218
(enly active link to the link holding session with ses-)-.18 F(sion ID)
150 736 Q F5(sesid)2.5 E F3(.)A 0 Cg EP
%%Page: 27 27
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(27)333.68 E/F1 10
/Courier@0 SF(authname [)120 96 Q/F2 10/Palatino-Italic@0 SF(name)6 E/F3
10/Palatino-Roman@0 SF(])2.5 E 1.828(This command changes the curr)150
108 R 1.828(enly active link to the link holding session with)-.18 F
1.966(peer auth name)150 120 R F2(name)4.466 E F3 4.466(.I)C 4.466(fC)
-4.466 G 4.465(Ia)-4.466 G -.18(rg)-4.465 G 1.965(ument is pr).18 F
1.965(esent login comparasion will be case)-.18 F(insensitive.)150 132 Q
F1(load [)120 150 Q F2(\214le)6 E F3(])2.5 E F2(label)2.5 E F3 .422
(This command causes mpd to r)150 162 R .423(ead the entry for)-.18 F F2
(label)2.923 E F3 .423(out of)2.923 F F1(mpd.conf)2.923 E F3 .423
(or other \214le)2.923 F 1.101(if speci\214ed and execute the corr)150
174 R 1.101(esponding commands.)-.18 F F2(\214le)3.601 E F3 1.101
(can be r)3.601 F 1.1(elative or abso-)-.18 F .783
(lute \214le path or http/https/ftp URL. Note, that r)150 186 R .784
(emote \214le access may be less r)-.18 F(eli-)-.18 E(able.)150 198 Q F1
(show [)120 216 Q F2(item)6 E F3(])2.5 E
(This command displays various status information. The valid values for)
150 228 Q F2(item)2.5 E F3(ar)2.5 E(e:)-.18 E(bundle)180 246 Q
(Show status information about the curr)210 258 Q(ently active bundle.)
-.18 E(link)180 276 Q(Show status information about the curr)210 288 Q
(ently active link.)-.18 E -.18(re)180 306 S(peater).18 E
(Show status information about the curr)210 318 Q(ently active r)-.18 E
(epeater.)-.18 E(iface)180 336 Q .728
(Show status information about the interface layer associated with the)
210 348 R(curr)210 360 Q(ently active bundle.)-.18 E -.18(ro)180 378 S
(utes).18 E(Show the curr)210 390 Q(ent IP r)-.18 E(outing table.)-.18 E
(ipcp)180 408 Q .402(Show status information about the IP contr)210 420
R .402(ol pr)-.18 F .403(otocol associated with)-.18 F(the curr)210 432
Q(ently active bundle.)-.18 E(ippool)180 450 Q
(Show status information about con\214gur)210 462 Q(es IP pools.)-.18 E
(ccp)180 480 Q .384(Show status information about the compr)210 492 R
.384(ession contr)-.18 F .383(ol pr)-.18 F .383(otocol asso-)-.18 F
(ciated with the curr)210 504 Q(ently active bundle.)-.18 E(lcp)180 522
Q 2.332(Show status information about the link contr)210 534 R 2.333
(ol pr)-.18 F 2.333(otocol associated)-.18 F(with the curr)210 546 Q
(ently active link.)-.18 E(nat)180 564 Q(Show information about NA)210
576 Q 2.5(To)-.74 G 2.5(nt)-2.5 G(he curr)-2.5 E(ently active bundle.)
-.18 E(auth)180 594 Q(Show status information about Authentication.)210
606 Q(eap)180 624 Q(Show status information about EAP.)210 636 Q(radius)
180 654 Q(Information r)210 666 Q(elating to RADIUS authentication.)-.18
E(pr)180 684 Q(oto)-.18 E(Show pr)210 696 Q
(otocol statistics for the curr)-.18 E(ently active bundle and link.)
-.18 E(types)180 714 Q
(Show the device types supported by this version of mpd.)210 726 Q 0 Cg
EP
%%Page: 28 28
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(28)333.68 E/F1 10
/Palatino-Roman@0 SF(layers)180 96 Q .489
(Show the names of the layers that ar)210 108 R 2.989(ev)-.18 G .489
(alid as ar)-2.989 F .489(guments to the)-.18 F/F2 10/Courier@0 SF(open)
2.989 E F1(and)210 120 Q F2(close)2.5 E F1(commands.)2.5 E(l2tp)180 138
Q(Show active L2TP tunnels.)210 150 Q(pptp)180 168 Q
(Show active PPTP tunnels.)210 180 Q(events)180 198 Q
(Show all pending events \(for debugging mpd\).)210 210 Q(mem)180 228 Q
1.737(Show distribution of dynamically allocated memory \(for debugging)
210 240 R(mpd\).)210 252 Q(version)180 270 Q(Show r)210 282 Q
(unning mpd version and supported featur)-.08 E(es.)-.18 E(sessions [)
180 300 Q/F3 10/Palatino-Italic@0 SF(param value)2.5 E F1(])2.5 E 2.238
(Show active sessions conforming speci\214ed param/value.)210 312 R -.92
(Av)7.238 G(ailable).92 E
(params: iface, ip, bundle, msession, link, session, user)210 324 Q 2.5
(,p)-.74 G(eer.)-2.5 E(customer)180 342 Q(Show active customer details.)
210 354 Q(summary)180 372 Q(Show status summary.)210 384 Q(console)180
402 Q(Show console summary.)210 414 Q(web)180 432 Q
(Show web server summary.)210 444 Q(user)180 462 Q
(Show de\214ned console users.)210 474 Q(net\215ow)180 492 Q
(Show status information about NetFlow.)210 504 Q F2(set ...)120 522 Q
F1 .153(This command sets various con\214guration information. Further \
details ar)150 540 R 2.654(ec)-.18 G(ontained)-2.654 E
(in later sections in this chapter.)150 552 Q(The valid completions for)
5 E F2(set)2.5 E F1(ar)2.5 E(e:)-.18 E F2(set global startrule)180 570 Q
F3(num)6 E F1(set global startpipe)210 594 Q F3(num)2.5 E F1
(set global startqueue)210 618 Q F3(num)2.5 E F1 1.877
(set global starttable)210 642 R F3(num)4.377 E F1 4.377("T)C 1.876
(hese commands de\214ne initial values for)-4.377 F .855
(autonumeration of ipfw r)210 654 R .856
(ules, pipes, queues and tables.)-.08 F .856(Defaults ar)5.856 F(e)-.18
E(10000, 10000, 10000 and 32 accor)210 666 Q(dingly.)-.18 E F2
(set global pptptimeout)180 684 Q F3(seconds)6 E F1 .252
(set global l2tptimeout)210 708 R F3(seconds)2.751 E F1 2.751("S)C .251
(et PPTP/L2TP tunnels inactivity shut-)-2.751 F(down delay.)210 720 Q
(Default is 10 seconds.)210 738 Q 0 Cg EP
%%Page: 29 29
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(29)333.68 E/F1 10
/Courier@0 SF(set global pptplimit)180 96 Q/F2 10/Palatino-Italic@0 SF
(num)6 E/F3 10/Palatino-Roman@0 SF 4.625(set global l2tplimit)210 120 R
F2(num)7.125 E F3 7.125("L)C 4.626(imit maximum number of calls per)
-7.125 F .603(PPTP/L2TP tunnel. When limit is r)210 132 R .603
(eached new tunnel will be cr)-.18 F(eated)-.18 E .891
(for the next call.)210 144 R .891
(This option violates PPTP RFC which r)5.891 F(equir)-.18 E .891
(es only)-.18 F 1.808(one tunnel existing for the P)210 156 R 1.808
(AC/PNS pair)-.92 F 4.308(,b)-.74 G 1.808(ut it can incr)-4.308 F 1.808
(ease busy)-.18 F(tunnels stability.)210 168 Q 4.344(Defaults ar)210 186
R 6.844(e1)-.18 G 4.344(00 \(10 for L2TP befor)-6.844 F 6.845(eF)-.18 G
-.18(re)-6.845 G 4.345(eBSD 6.3-ST).18 F 4.345(ABLE and)-.74 F
(7.0-RELEASE\).)210 198 Q F1(set global max-children)180 216 Q F2(num)6
E F3 .739(This option speci\214es global maximum number of links, cr)210
228 R .738(eated using)-.18 F
(template, that could exist at the same time.)210 240 Q
(The default value is 10000.)210 258 Q F1(set global qthreshold)180 276
Q F2(min max)6 E F3
(This option speci\214es global message queue limit thr)210 288 Q
(esholds.)-.18 E(The default values ar)210 306 Q 2.5(e6)-.18 G 2.5(4a)
-2.5 G(nd 256.)-2.5 E F1(set global filter)180 324 Q F2(num)6 E F3(add)
2.5 E F2(\215tnum \215t)2.5 E F3 .861(set global \214lter)210 348 R F2
(num)3.362 E F3 .862(clear" These commands de\214ne or clear traf)3.362
F .862(\214c \214l-)-.18 F 1.123(ters to be used by r)210 360 R 1.123
(ules submitted by)-.08 F F2(AAA)3.622 E F3 1.122(\(section 4.10.1)3.622
F 3.622(,p)5 G 1.122(age 50\))-3.622 F(during authentication.)210 372 Q
F1(set global enable)180 390 Q F2(option ...)6 E F3 .228
(set global disable)210 414 R F2 .229(option ...)2.729 F F3 5.229("T)C
.229(hese commands con\214gur)-5.229 F 2.729(ev)-.18 G .229
(arious global)-2.729 F(options.)210 426 Q(The)210 444 Q/F4 10
/Palatino-Bold@0 SF(enable)5.182 E F3(and)5.181 E F4(disable)5.181 E F3
2.681(commands determine whether or not we)5.181 F(want the corr)210 456
Q(esponding option.)-.18 E(The options available ar)210 474 Q(e:)-.18 E
F1(one-shot)180 492 Q F3 1.462(This option for)210 504 R 1.462
(ces mpd terminate itself after the last link disappear.)-.18 F
(Link templates ar)210 516 Q 2.5(en)-.18 G(ot counted as links.)-2.5 E
(The default is disable.)210 534 Q F1(tcp-wrapper)180 552 Q F3 -.55(Wi)
210 564 S .692(th this option mpd uses).55 F F1(/etc/hosts.allow)3.191 E
F3 .691(everytime a connec-)3.191 F .325(tion is made fr)210 576 R .325
(om the client. This is useful if you would like to r)-.18 F(estrict)
-.18 E 2.934(access to mpd. This option af)210 588 R 2.933
(fects all TCP connections, including)-.18 F
(PPTP and the TCP device layer.)210 600 Q(The default is disable.)210
618 Q F1(agent-cid)180 636 Q F3 3.357(Display PPPoE)210 648 R F2
(ADSL-Agent-Cir)5.857 E(cuit-Id)-.18 E F3 3.357(option in)5.857 F F2
3.357(show session)5.857 F F3(com-)5.858 E(mand.)210 660 Q
(The default is disable.)210 678 Q F1(session-time)180 696 Q F3
(Display session time in seconds in)210 708 Q F2(show session)2.5 E F3
(command.)2.5 E(The default is disable.)210 726 Q 0 Cg EP
%%Page: 30 30
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(30)333.68 E/F1 10
/Courier@0 SF(set user)180 96 Q/F2 10/Palatino-Italic@0 SF
(username password)6 E/F3 10/Palatino-Roman@0 SF([)210 108 Q F2(admin)A
F3(|)A F2(operator)A F3(|)A F2(user)A F3 4.085
(]" This command con\214gur)B 4.085(es which users ar)-.18 F(e)-.18 E
1.018(allowed to connect to the console.)210 120 R 1.018
(It may be invoked multiple times)6.018 F(with dif)210 132 Q(fer)-.18 E
(ent usernames.)-.18 E F1(set bundle ...)180 150 Q F3 2.816
(Set bundle layer con\214guration parameters for the curr)210 162 R
2.816(ently active)-.18 F(bundle.)210 174 Q F1(set link ...)180 192 Q F3
(Set link layer con\214guration parameters for the curr)210 204 Q
(ently active link.)-.18 E F1(set iface ...)180 222 Q F3 1.929
(Set interface layer con\214guration parameters for the curr)210 234 R
1.929(ently active)-.18 F(bundle.)210 246 Q F1(set nat ...)180 264 Q F3
(Set NA)210 276 Q 2.5(Tc)-.74 G(on\214guration parameters for the curr)
-2.5 E(ently active bundle.)-.18 E F1(set ipcp ...)180 294 Q F3 3.085
(Set IP contr)210 306 R 3.085(ol pr)-.18 F 3.085
(otocol con\214guration parameters for the curr)-.18 F(ently)-.18 E
(active bundle.)210 318 Q F1(set ccp ...)180 336 Q F3 .135(Set compr)210
348 R .135(ession contr)-.18 F .135(ol pr)-.18 F .135
(otocol con\214guration parameters for the cur)-.18 F(-)-.18 E -.18(re)
210 360 S(ntly active bundle.).18 E F1(set auth ...)180 378 Q F3
(Con\214gur)210 390 Q(es the authentication subsystem.)-.18 E F1
(set radius ...)180 408 Q F3(Con\214gur)210 420 Q(es RADIUS.)-.18 E F1
(set eap ...)180 438 Q F3(Con\214gur)210 450 Q(es the EAP.)-.18 E F1
(set debug ...)180 468 Q F2(level)A F3(Sets the)210 480 Q F1
(netgraph\(3\))2.5 E F3(debugging level. Default is zer)2.5 E(o.)-.18 E
F1(set modem ...)180 498 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 510
R 1.265(ently active)-.18 F(link, which must have type)210 522 Q/F4 10
/Palatino-Bold@0 SF(modem)2.5 E F3(.)A F1(set ng ...)180 540 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 552
R 1.265(ently active)-.18 F(link, which must have type)210 564 Q F4
(netgraph)2.5 E F3(.)A F1(set tcp ...)180 582 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 594
R 1.265(ently active)-.18 F(link, which must have type)210 606 Q F4(tcp)
2.5 E F3(.)A F1(set udp ...)180 624 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 636
R 1.265(ently active)-.18 F(link, which must have type)210 648 Q F4(udp)
2.5 E F3(.)A F1(set pptp ...)180 666 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 678
R 1.265(ently active)-.18 F(link, which must have type)210 690 Q F4
(pptp)2.5 E F3(.)A F1(set l2tp ...)180 708 Q F3 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 720
R 1.265(ently active)-.18 F(link, which must have type)210 732 Q F4
(l2tp)2.5 E F3(.)A 0 Cg EP
%%Page: 31 31
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(31)333.68 E/F1 10
/Courier@0 SF(set pppoe ...)180 96 Q/F2 10/Palatino-Roman@0 SF 1.265
(Sets device speci\214c con\214guration parameters for the curr)210 108
R 1.265(ently active)-.18 F(link, which must have type)210 120 Q/F3 10
/Palatino-Bold@0 SF(pppoe)2.5 E F2(.)A F1(set console ...)180 138 Q F2
(Sets console speci\214c con\214guration parameters)210 150 Q F1
(set web ...)180 168 Q F2
(Sets web server speci\214c con\214guration parameters)210 180 Q F1
(unset ...)120 198 Q F2 1.407(This command allows to unsets some of con\
\214guration information set using)150 216 R F1(set)3.908 E F2(command.)
150 228 Q F1(open [)120 246 Q/F4 10/Palatino-Italic@0 SF(layer)6 E F2
-25(]T)2.5 G 1.169
(his command causes an OPEN event to be sent to the corr)25 F 1.168
(esponding layer or)-.18 F
(\214nite state machine \(FSM\). The valid layers ar)150 258 Q(e:)-.18 E
(iface)180 276 Q .254(Interface layer. Opening this layer con\214gur)210
288 R .255(es the interface and installs)-.18 F 1.138(any r)210 300 R
1.138(outes. If dial-on-demand is enabled, nothing else happens until)
-.18 F(ther)210 312 Q 2.824(ei)-.18 G 2.824(so)-2.824 G .324
(utgoing traf)-2.824 F .324(\214c. If dial-on-demand is disabled ther)
-.18 F 2.824(en)-.18 G 2.824(or)-2.824 G(eason)-3.004 E
(to open this layer manually.)210 324 Q(bund)180 342 Q 3.038
(Bundle layer. This layer r)210 354 R(epr)-.18 E 3.037
(esents the multi-link bundle `)-.18 F(`virtual)-.37 E
(link'' and is normally opened and closed automatically.)210 366 Q(ipcp)
180 384 Q .221(IP contr)210 396 R .221(ol pr)-.18 F .221
(otocol FSM. This is normally opened and closed automat-)-.18 F(ically.)
210 408 Q(ccp)180 426 Q(Compr)210 438 Q 2.953(ession contr)-.18 F 2.953
(ol pr)-.18 F 2.953(otocol FSM.)-.18 F 2.952
(This is normally opened and)7.953 F(closed automatically.)210 450 Q
(link)180 468 Q 1.127(Link contr)210 480 R 1.127(ol pr)-.18 F 1.127
(otocol FSM. This is default layer for open/close com-)-.18 F 2.5
(mands. Opening)210 492 R
(of this layer initiates outgoing call by this link.)2.5 E(device)180
510 Q(Device layer.)210 522 Q
(This is normally opened and closed automatically.)5 E(Normally)150 540
Q 3.508(,o)-1.11 G 1.008(nly the)-3.508 F F1(iface)3.508 E F2(and)3.508
E F1(link)3.508 E F2 1.007
(layers should be explicitly opened or closed.)3.508 F 1.276
(This is because the other layers ar)150 552 R 3.777(ep)-.18 G -.18(ro)
-3.777 G 1.277(grammed to automatically open and close).18 F .348
(when appr)150 564 R .348(opriate. Note that the)-.18 F F3(SIGUSR1)2.847
E F2(and)2.847 E F3(SIGUSR2)2.847 E F2 .347(signals ar)2.847 F 2.847(ea)
-.18 G 2.847(na)-2.847 G(lternative)-2.847 E
(way to open and close the \214rst link.)150 576 Q F1(close [)120 594 Q
F4(layer)6 E F2 -25(]T)2.5 G .839
(his command causes a CLOSE event to be sent to the corr)25 F .84
(esponding layer or)-.18 F(\214nite state machine \(FSM\).)150 606 Q F1
(log [)120 624 Q F4(+/-\215ag ...)6 E F2 -25(]M)2.5 G 1.924
(pd supports several dif)25 F(fer)-.18 E 1.924
(ent logging \215ags. Every line logged by mpd is)-.18 F .26
(tagged with one \(or mor)150 636 R .26
(e\) of these \215ags. By turning the \215ags on or of)-.18 F .26
(f, that particu-)-.18 F .095(lar type of logging is enabled or disable\
d. This allows you to customize logging ver)150 648 R(-)-.18 E(bosity.)
150 660 Q -.55(Wi)150 678 S .916(thout any ar).55 F .916(guments, the)
-.18 F F1(log)3.416 E F2 .917(command shows the curr)3.417 F .917
(ent set of logging \215ags.)-.18 F 2.231 -.92(To e)150 690 T .391
(nable a logging \215ag, add the).92 F F1(+)2.891 E F4(\215ag)A F2(ar)
2.891 E 2.891(gument. T)-.18 F 2.891(od)-.92 G .39
(isable a logging \215ag, add the)-2.891 F F1(-)150 702 Q F4(\215ag)A F2
(ar)2.5 E(gument.)-.18 E(These ar)150 720 Q 2.5(et)-.18 G
(he various \215ags supported by mpd and their corr)-2.5 E
(esponding categories:)-.18 E 0 Cg EP
%%Page: 32 32
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(32)333.68 E/F1 10
/Palatino-Roman@0 SF(auth*)180 96 Q(Link authentication events)210 108 Q
(bund*)180 126 Q(Bundle layer events)210 138 Q(ccp*)180 156 Q(Compr)210
168 Q(ession events and negotiation)-.18 E(chat*)180 186 Q
(Modem chat script)210 198 Q(console*)180 216 Q
(Log to the console as well as the log \214le)210 228 Q(echo)180 246 Q
(Echo/r)210 258 Q(eply packets for all FSM's)-.18 E(ecp*)180 276 Q
(Encryption events and negotiation)210 288 Q(frame)180 306 Q
(Dump all frames transmitted and r)210 318 Q(eceived)-.18 E(fsm*)180 336
Q(All FSM events \(except echo and r)210 348 Q(esets\))-.18 E(iface*)180
366 Q(Interface layer events)210 378 Q(ipcp*)180 396 Q(IP contr)210 408
Q(ol pr)-.18 E(otocol events and negotiation)-.18 E(ipv6cp*)180 426 Q
(IPv6 contr)210 438 Q(ol pr)-.18 E(otocol events and negotiation)-.18 E
(lcp*)180 456 Q(Link contr)210 468 Q(ol pr)-.18 E
(otocol events and negotiation)-.18 E(link*)180 486 Q(Link layer events)
210 498 Q(phys*)180 516 Q(Device layer events)210 528 Q(radius*)180 546
Q(RADIUS authentication events)210 558 Q -.18(re)180 576 S(p*).18 E
(Repeater layer events)210 588 Q/F2 10/Courier@0 SF(help [)120 606 Q/F3
10/Palatino-Italic@0 SF(command)6 E F1 -25(]T)2.5 G .674(his gives a br\
ief description of the supplied command, or if an incomplete)25 F
(command is given, lists the available alternatives.)150 618 Q F2(exit)
120 636 Q F1 .149
(This command exits the console, but does not quit the mpd pr)6 F 2.649
(ocess. This)-.18 F(command)2.649 E
(is useful for disconnecting a telnet connection.)150 648 Q F2(shutdown)
120 666 Q F1(Close down all connections and quit the mpd pr)-18 E
(ocess.)-.18 E/F4 14/Helvetica-Bold@0 SF 3.892(4.2 Mpd)90 688 R(La)3.892
E -.14(ye)-.28 G -.21(rs).14 G F1 .068(Mpd consists of several)90 724 R
/F5 10/Palatino-Bold@0 SF(layers)2.568 E F1 2.568(,c)C(orr)-2.568 E .069
(esponding to the layer)-.18 F .069(ed natur)-.18 F 2.569(eo)-.18 G
2.569(ft)-2.569 G .069(he PPP pr)-2.569 F .069(otocol. Ther)-.18 F 2.569
(ea)-.18 G -.18(re)-2.569 G .54(two types of layers hierar)90 736 R .54
(chy connected with two dif)-.18 F(fer)-.18 E .54
(ent operation modes as "ppp terminator")-.18 F 0 Cg EP
%%Page: 33 33
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(33)333.68 E/F1 10
/Palatino-Roman@0 SF .17(and "ppp r)90 96 R 2.67(epeater". Operation)
-.18 F .17
(mode is getting chosen dynamically depending on link con\214gura-)2.67
F(tion and user auth name \(see 'set link action ...' command\).)90 108
Q .613(In "ppp terminator" mode such hierar)90 126 R .613(chy used:)-.18
F/F2 10/Palatino-Italic@0 SF(Interface)3.113 E/F3 10/Palatino-Bold@0 SF
.613(\(section 4.9)3.113 F 3.113(,p)5 G .613(age 45\))-3.113 F F1(->)
3.113 E F2(NCPs)3.112 E F3(\(section)3.112 E 2.5(4.7 ,)90 138 R .066
(page 44\))2.566 F F1(->)2.566 E F2(Compr)2.566 E(ession)-.18 E F3 .066
(\(section 4.6)2.566 F 2.566(,p)5 G .066(age 42\))-2.566 F F1(->)2.566 E
F2(Encryption)2.566 E F3 .066(\(section 4.5)2.566 F 2.567(,p)5 G .067
(age 41\))-2.567 F F1(->)2.567 E F2(Bundle)2.567 E F3(\(section 4.4)90
150 Q 2.5(,p)5 G(age 39\))-2.5 E F1(->)2.5 E F2(Links)2.5 E F3
(\(section 4.3)2.5 E 2.5(,p)5 G(age 34\))-2.5 E F1 1.71(In "ppp r)90 168
R 1.71(epeater" mode dif)-.18 F(fer)-.18 E 1.71(ent hierar)-.18 F 1.71
(chy used:)-.18 F F2(Link1)4.21 E F3 1.71(\(section 4.3)4.21 F 4.21(,p)5
G 1.71(age 34\))-4.21 F F1(->)4.21 E F3(Repeater)4.21 E F1(->)4.21 E F2
(Link2)90 180 Q F3(\(section 4.3)2.5 E 2.5(,p)5 G(age 34\))-2.5 E F1(A)
90 198 Q F2(link)2.851 E F3 .351(\(section 4.3)2.851 F 2.851(,p)5 G .351
(age 34\))-2.851 F F1 .352
(is a single point-to-point connection between the local machine and)
2.851 F 3.542(ar)90 210 S 1.042(emote peer machine, implemented by some\
 kind of physical device, such as a serial modem)-3.722 F
(connection or a virtual PPTP connection.)90 222 Q .432(Link parameters\
 include whether authentication is enabled in either dir)90 240 R .432
(ection, the authentication)-.18 F 1.245(type \(P)90 252 R 1.244(AP or \
CHAP\) used, keep-alive packets, multilink negotiation options and vari\
ous other)-.92 F(link speci\214c parameters.)90 264 Q 1.085
(Lower half of the link layer is the physical devices layer.)90 282 R
1.086(Con\214guration of device type speci\214c)6.086 F .074
(parameters happens at this layer.)90 294 R .073
(Each device has a speci\214c)5.073 F F2(type)2.573 E F1(corr)2.573 E
.073(esponding to one of the sup-)-.18 F .487
(ported device types in mpd.)90 306 R .487
(The type dictates how the device dependent part is con\214gur)5.487 F
.488(ed and)-.18 F(what it's capabilities ar)90 318 Q(e.)-.18 E(A)90 336
Q F2(bundle)3.67 E F3 1.17(\(section 4.4)3.67 F 3.67(,p)5 G 1.17
(age 39\))-3.67 F F1 1.17(is a collection of one or mor)3.67 F 3.67(el)
-.18 G 1.17(inks, all connecting to the same)-3.67 F -.18(re)90 348 S
.588(mote peer).18 F 3.088(,t)-.74 G .588
(hat together form a single multi-link PPP connection whose ef)-3.088 F
.589(fective bandwidth is)-.18 F
(the sum of the bandwidths of the individual links.)90 360 Q .038
(The bundle layer in ef)90 378 R .037
(fect lies just above the link layer.)-.18 F .037
(The bundle layer handles the task of mak-)5.037 F
(ing multiple physical links appear as a single virtual link.)90 390 Q
.773(At the bundle layer you con\214gur)90 408 R 3.273(em)-.18 G .773
(ulti-link PPP settings and the link management policy. The)-3.273 F
1.631(link management policy determines whether mpd tries to keep all t\
he links connected all the)90 420 R .575(time, or whether it adds and s\
ubtracts links depending on demand, and if so, accor)90 432 R .575
(ding to what)-.18 F(parameters.)90 444 Q -.55(Wi)90 462 S 1.506
(th each bundle is a corr).55 F(esponding)-.18 E F2(interface)4.005 E F3
1.505(\(section 4.9)4.005 F 4.005(,p)5 G 1.505(age 45\))-4.005 F F1
(layer)4.005 E 4.005(,w)-.74 G 1.505(hich corr)-4.005 F(esponds)-.18 E
(dir)90 474 Q .961(ectly to a system network interface accessible via)
-.18 F/F4 10/Courier@0 SF(ifconfig\(8\))3.461 E F1 3.461(,s)C .961
(uch as)-3.461 F F4(ng0)3.461 E F1 5.961(.T)C .961(he interface)-5.961 F
2.273(layer handles con\214guring the interface, bringing it up or down\
 as appr)90 486 R 2.273(opriate, assigning IP)-.18 F(addr)90 498 Q .187
(esses, setting up static r)-.18 F .187(outes and con\214guring pr)-.18
F 2.687(oxy-ARP. The)-.18 F .187(interface layer is also r)2.687 F
(espon-)-.18 E
(sible for implementing Dial-on-Demand and idle timeout functionality.)
90 510 Q 1.613(Each bundle has several corr)90 528 R 1.613
(esponding NCP layers as)-.18 F F2 1.613(IP Contr)4.113 F 1.613(ol Pr)
-.18 F 1.613(otocol \(IPCP\))-.18 F F3 1.613(\(section 4.7)4.113 F(,)5 E
.875(page 44\))90 540 R F1(and)3.375 E F2 .875(IPv6 Contr)3.375 F .875
(ol Pr)-.18 F .875(otocol \(IPv6CP\))-.18 F F3 .875(\(section 4.8)3.375
F 3.375(,p)5 G .875(age 45\))-3.375 F F1 3.375(,w)C .875
(hich manages the pr)-3.375 F(otocol)-.18 E 1.804
(speci\214c con\214guration of the interface.)90 552 R 1.804
(This layers handle the negotiation of local and r)6.804 F(emote)-.18 E
(addr)90 564 Q .606(esses and TCP header compr)-.18 F .606
(ession, as well as other optional IP r)-.18 F .607
(elated information such as)-.18 F(DNS servers and NBNS servers.)90 576
Q 2.157(Each bundle also has corr)90 594 R(esponding)-.18 E F2(compr)
4.657 E 2.157(ession \(CCP\))-.18 F F3 2.157(\(section 4.6)4.657 F 4.656
(,p)5 G 2.156(age 42\))-4.656 F F1(and)4.656 E F2(encryption)4.656 E
(\(ECP\))90 606 Q F3 .975(\(section 4.5)3.475 F 3.475(,p)5 G .975
(age 41\))-3.475 F F1 .975
(layers, which allow you to enable and con\214gur)3.475 F 3.475(ec)-.18
G(ompr)-3.475 E .975(ession and)-.18 F(encryption for data sent and r)90
618 Q(eceived over the bundle.)-.18 E(A)90 636 Q F3(repeater)3.131 E F1
.631
(is a collection of two physical devices \(links\). It is getting cr)
3.131 F .63(eated when ther)-.18 F 3.13(ei)-.18 G 3.13(sn)-3.13 G(eed)
-3.13 E 1.44(to forwar)90 648 R 3.94(dc)-.18 G 1.441
(onnection coming fr)-3.94 F 1.441
(om one physical device to another without modi\214cation. This)-.18 F
.222(technology is also known as LAC \(L2TP Access Concentrator\) and P)
90 660 R .221(AC \(PPTP Access Concentra-)-.92 F(tor\).)90 672 Q .355
(While the combination of all the various layers pr)90 690 R .356
(esents a lar)-.18 F .356(ge number of con\214guration options,)-.18 F
(mpd tries to have r)90 702 Q(easonable defaults for everything.)-.18 E
0 Cg EP
%%Page: 34 34
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(34)333.68 E/F1 14
/Helvetica-Bold@0 SF 3.892(4.3 Link)90 100 R(la)3.892 E -.14(ye)-.28 G
(r).14 E/F2 10/Palatino-Roman@0 SF .652
(This chapter describes commands that con\214gur)90 136 R 3.152(et)-.18
G .652(he link layer.)-3.152 F .652(All of these commands apply to)5.652
F(the curr)90 148 Q
(ently active link, i.e., the link shown at the command line pr)-.18 E
(ompt.)-.18 E/F3 10/Courier@0 SF(set link action \(bundle|forward\))120
166 Q/F4 10/Palatino-Italic@0 SF(name)6 E F2([)2.5 E F4 -.18(re)2.5 G
(gexp).18 E F2(])2.5 E F3(set link action drop [)120 184 Q F4 -.18(re)6
G(gexp).18 E F2(])2.5 E .359
(List of such command describes how incoming calls should be pr)150 202
R 2.86(ocessed. "bundle")-.18 F .209(means that connection should be pr)
150 214 R .209(ocessed locally with speci\214ed bundle. "forwar)-.18 F
(d")-.18 E 1.814(means that connection should be forwar)150 226 R 1.815
(ded using r)-.18 F 1.815(epeater to the speci\214ed link.)-.18 F("dr)
150 238 Q 2.504(op" means that connection should be dr)-.18 F 2.503
(opped. Optional "r)-.18 F 2.503(egexp" parameter)-.18 F(de\214nes r)150
250 Q(egular expr)-.18 E
(ession which will be checked against peer auth name.)-.18 E 2.376
(Actions fr)150 268 R 2.376(om list ar)-.18 F 4.876(ec)-.18 G 2.376
(hecked in or)-4.876 F 2.376(der of de\214nition until r)-.18 F 2.377
(egexp match will be)-.18 F .593(found. Actions pr)150 280 R .593
(ocessed at thr)-.18 F .592(ee points. First time they ar)-.18 F 3.092
(ec)-.18 G .592(hecked just after con-)-3.092 F .678
(nection acception, second time just after r)150 292 R .678
(eceiving peer's auth during LCP negotia-)-.18 F .067(tion and thir)150
304 R 2.567(dt)-.18 G .067
(ime when link is authenticated. As during \214rst check ther)-2.567 F
2.566(ei)-.18 G 2.566(sn)-2.566 G 2.566(op)-2.566 G(eer)-2.566 E .088
(auth name known yet, check will be skipped if ther)150 316 R 2.588(ea)
-.18 G .448 -.18(re m)-2.588 H(or).18 E 2.588(et)-.18 G .088
(hen one action speci-)-2.588 F(\214ed for link or if action has r)150
328 Q(egexp speci\214ed.)-.18 E F3(set link action clear)120 346 Q F2
(Clears link actions list.)150 364 Q F3(set link latency)120 382 Q F4
(micr)6 E(oseconds)-.18 E F3(set link bandwidth)120 400 Q F4
(bits-per-second)6 E F2 .164(These commands ar)150 418 R 2.663(er)-.18 G
.163(elevant when multi-link PPP is active.)-2.843 F .163(They af)5.163
F .163(fect the way in)-.18 F 1.462(which packets ar)150 430 R 3.962(ec)
-.18 G 1.462(hopped up into fragments befor)-3.962 F 3.963(eb)-.18 G
1.463(eing sent over the various)-3.963 F
(links that make up the bundle.)150 442 Q 2.92 -.92(To m)150 460 T 1.079
(otivate the idea, imagine a bundle that had a modem link and a 1.5Mbps\
 T1).92 F .301(link. If mpd sent each packet in two equal sized fragmen\
ts over these links, then by)150 472 R .346(the time the modem got ar)
150 484 R .346
(ound to transmitting the \214rst byte of its fragment, the T1)-.18 F
.271(link would have pr)150 496 R .271(obably alr)-.18 F .272
(eady sent the whole other fragment. Clearly this is not)-.18 F 1.92(ve\
ry good. By factoring in the latency and bandwidth parameters for each \
link,)150 508 R(mpd can distribute the fragments in a mor)150 520 Q 2.5
(ei)-.18 G(ntelligent way.)-2.5 E .053(Mpd attempts to distribute bytes\
 over the links so that \(if the con\214gur)150 538 R .054
(ed parameters)-.18 F(ar)150 550 Q 3.262(ea)-.18 G .761(ccurate\) the l\
ast byte of each fragment arrives at the peer at the same time on)-3.262
F 2.074(each link. This minimizes latency. However)150 562 R 4.575(,i)
-.74 G 4.575(fy)-4.575 G 2.075(ou only car)-4.575 F 4.575(ea)-.18 G
2.075(bout maximizing)-4.575 F(thr)150 574 Q
(oughput, simply set all of the latency values to zer)-.18 E(o.)-.18 E
1.227(If all of your links ar)150 592 R 3.727(eo)-.18 G 3.727(ft)-3.727
G 1.226(he same type and speed \(which is often the case\), then)-3.727
F .572(they should be con\214gur)150 604 R .572
(ed with the same values \(or just not con\214gur)-.18 F .573
(ed at all, since)-.18 F 1.156(all links default to the same values any\
way\). Then mpd will distribute packets in)150 616 R
(equal sized fragments over the links.)150 628 Q F3(set link mtu)120 646
Q F4(numbytes)6 E F3(set link mru)120 664 Q F4(numbytes)6 E F3
(set link mrru)120 682 Q F4(numbytes)6 E F2(The)150 700 Q F3 1.278
(set link mtu)3.778 F F2 1.278
(command sets the maximum transmit unit \(MTU\) value for)3.778 F 1.235
(the link.)150 712 R 1.235(This is the size of the lar)6.235 F 1.234
(gest single PPP frame \(minus PPP header\) that)-.18 F 1.438
(this link will transmit, unless the peer r)150 724 R 1.439
(equests an even lower value. The default)-.18 F(value is 1500 bytes.)
150 736 Q 0 Cg EP
%%Page: 35 35
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(35)333.68 E/F1 10
/Palatino-Roman@0 SF(The)150 96 Q/F2 10/Courier@0 SF 1.744(set link mru)
4.244 F F1 1.743(command sets maximum r)4.244 F 1.743
(eceive unit \(MRU\) value for the)-.18 F .695
(link, which is the size of the lar)150 108 R .696
(gest single PPP frame \(minus PPP header\) that this)-.18 F
(link is capable of r)150 120 Q
(eceiving. The default value is 1500 bytes.)-.18 E 2.731
(If PPP multilink is negotiated on a link, then these values ar)150 138
R 5.23(el)-.18 G 2.73(ess important,)-5.23 F .658(because multilink all\
ows PPP frames themselves to be fragmented, so a PPP frame)150 150 R
.859(up to MRRU bytes can always pass thr)150 162 R .859
(ough no matter how small the MTU is in a)-.18 F(particular dir)150 174
Q(ection.)-.18 E .16(Otherwise, mpd is r)150 192 R .161
(esponsible for making sur)-.18 F 2.661(et)-.18 G .161
(hat the MTU con\214gur)-2.661 F .161(ed on the sys-)-.18 F 1.473
(tem networking interface is low enough so that the lar)150 204 R 1.473
(gest transmitted IP packet)-.18 F 2.136(does not exceed the peer's neg\
otiated MRU after it becomes a PPP frame. This)150 216 R
(includes e.g. PPP encryption and/or compr)150 228 Q(ession over)-.18 E
(head.)-.18 E(However)150 246 Q 4.504(,m)-.74 G 2.004
(pd does not account for over)-4.504 F 2.003(head that occurs `)-.18 F
2.003(`outside'' of the PPP)-.37 F 2.207(frame. For example, when using\
 link types such as PPTP that encapsulate PPP)150 258 R 1.274
(frames within IP packets, a lar)150 270 R 1.274(ge outgoing `)-.18 F
1.273(`inner'' IP packet can r)-.37 F 1.273(esult in a frag-)-.18 F .74
(mented `)150 282 R .74(`outer'' IP packet, r)-.37 F .74
(esulting in suboptimal performance. In this situation it)-.18 F(may be\
 useful to set the link MTU to a lower value to avoid fragmentation.)150
294 Q F2(set link accmap)120 312 Q/F3 10/Palatino-Italic@0 SF(value)6 E
F1 1.377(This sets the desir)150 324 R 1.377(ed asynchr)-.18 F 1.377
(onous contr)-.18 F 1.376(ol-character map for the link at the local)
-.18 F 3.086(end. This)150 336 R .587(option is only r)3.087 F .587
(elevant for the asynchr)-.18 F .587(onous link types \(i.e.,)-.18 F/F4
10/Palatino-Bold@0 SF(modem)3.087 E F1(and)3.087 E F4(tcp)150 348 Q F1
2.5(\). It)B(determines which contr)2.5 E
(ol characters need to be escaped.)-.18 E(The)150 366 Q F3(value)4.488 E
F1 1.988(is expr)4.488 F 1.988
(essed as a 32-bit hex value; the default is)-.18 F F2(0x000a0000)4.487
E F1 4.487(,w)C(hich)-4.487 E(escapes the Contr)150 378 Q
(ol-S and Contr)-.18 E(ol-Q characters.)-.18 E F2(set link ident)120 396
Q F3(string)6 E F1 1.39(This enables the sending of an identi\214cation\
 string to the peer via the LCP Ident)150 408 R .436
(code. The Ident string is sent when the link is br)150 420 R .436
(ought up. This is useful for debug-)-.18 F 1.398
(ging, etc. and is meant to be human-r)150 432 R 1.398(eadable. However)
-.18 F 3.899(,i)-.74 G 3.899(tc)-3.899 G 1.399(onfuses some br)-3.899 F
(oken)-.18 E(PPP implementations.)150 444 Q
(Setting an empty string disables this featur)150 462 Q
(e; this is the default.)-.18 E F2(set link fsm-timeout)120 480 Q F3
(seconds)6 E F1 .049
(This command is analogous to the same command at the bundle layer)150
492 R 2.549(,b)-.74 G .049(ut it applies)-2.549 F 1.533
(to link-layer FSM's such as Link Contr)150 504 R 1.533(ol Pr)-.18 F
1.533(otocol \(LCP\).)-.18 F 1.533(The default is two sec-)6.533 F
(onds; normally this value should not be changed.)150 516 Q F2
(set link keep-alive)120 534 Q F3(seconds max)6 E F1 .519
(This command enables the sending of LCP echo packets on the link.)150
546 R .519(The \214rst echo)5.519 F .92(packet is sent after)150 558 R
F3(seconds)3.42 E F1 .92(seconds of quiet time \(i.e., no frames r)3.42
F .92(eceived fr)-.18 F .92(om the)-.18 F .331(peer on that link\).)150
570 R(After)5.331 E F3(seconds)2.831 E F1(mor)2.831 E 2.831(es)-.18 G
.331(econds, another echo r)-2.831 F .33(equest is sent.)-.18 F .33
(If after)5.33 F F3(max)150 582 Q F1 .898
(seconds of doing this no echo r)3.398 F .898(eply has been r)-.18 F
.898(eceived yet, the link is br)-.18 F(ought)-.18 E(down.)150 594 Q(If)
150 612 Q F3(seconds)4.479 E F1 1.979(is zer)4.479 F 1.979
(o, echo packets ar)-.18 F 4.478(ed)-.18 G 4.478(isabled. The)-4.478 F
1.978(default values ar)4.478 F 4.478<658c>-.18 G 1.978(ve second)-4.478
F(intervals with a maximum no-r)150 624 Q(eply time of forty.)-.18 E
.091(This featur)150 642 R 2.591(ei)-.18 G 2.591(se)-2.591 G .092
(specially useful with modems when the carrier detect signal is unr)
-2.591 F(e-)-.18 E .174(liable. However)150 654 R 2.674(,i)-.74 G 2.674
(ns)-2.674 G .174(ituations wher)-2.674 F 2.674(el)-.18 G .174(ines ar)
-2.674 F 2.674(en)-.18 G .173(oisy and modems spend a lot of time)-2.674
F -.18(re)150 666 S(training, the).18 E F3(max)2.5 E F1
(value may need to be bumped up to a mor)2.5 E 2.5(eg)-.18 G(ener)-2.5 E
(ous value.)-.18 E F2(set link max-redial)120 684 Q F3(num)6 E F1 1.021
(When a link fails to connect, mpd automatically r)150 696 R 1.021
(etries the connection.)-.18 F 1.021(This com-)6.021 F .745
(mand limits the number of consecutive r)150 708 R 3.245(etries. After)
-.18 F F3(num)3.245 E F1 .745(attempts, mpd will give)3.245 F(up.)150
720 Q 1.324(When ther)150 738 R 3.824(ei)-.18 G 3.824(sa)-3.824 G 1.324
(nother open event, new dial-on-demand traf)-3.824 F 1.324(\214c, etc.)
-.18 F 1.325(mpd will try)6.324 F 0 Cg EP
%%Page: 36 36
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(36)333.68 E/F1 10
/Palatino-Roman@0 SF(again, starting over at zer)150 96 Q(o.)-.18 E(If)
150 114 Q/F2 10/Courier@0 SF(max-redial)2.808 E F1 .307
(is set to -1, then mpd will never r)2.808 F 2.807(edial. This)-.18 F
.307(setting should be used)2.807 F(with links that ar)150 126 Q 2.5(ed)
-.18 G(edicated for dial-in.)-2.5 E(If)150 144 Q F2(max-redial)2.5 E F1
(is set to 0, then mpd will r)2.5 E(edial in\214nitely.)-.18 E
(The default value is -1.)150 162 Q F2(set link redial-delay)120 180 Q
/F3 10/Palatino-Italic@0 SF(seconds)6 E F1
(This command de\214nes time between connection r)150 192 Q(etries.)-.18
E(The default value is 1.)150 210 Q F2(set link max-children)120 228 Q
F3(num)6 E F1 1.248
(This template option speci\214es maximum number of links, cr)150 240 R
1.249(eated using this tem-)-.18 F
(plate, that could exist at the same time. V)150 252 Q
(alue 0 disables template.)-.92 E(The default value is 10000.)150 270 Q
F2(set link accept)120 288 Q F3(option ...)6 E F2(set link deny)120 306
Q F3(option ...)6 E F2(set link enable)120 324 Q F3(option ...)6 E F2
(set link disable)120 342 Q F3(option ...)6 E F2(set link yes)120 360 Q
F3(option ...)6 E F2(set link no)120 378 Q F3(option ...)6 E F1 1.309
(These commands con\214gur)150 396 R 3.809(ev)-.18 G 1.309
(arious link options. Most options ar)-3.809 F(e)-.18 E F3(bi-dir)3.809
E(ectional)-.18 E F1(in)3.809 E
(that they can be independently enabled and disabled in each dir)150 408
Q(ection.)-.18 E(The)150 426 Q/F4 10/Palatino-Bold@0 SF(enable)2.995 E
F1(and)2.995 E F4(disable)2.995 E F1 .495
(commands determine whether we want the corr)2.995 F(esponding)-.18 E
2.861(option. The)150 438 R F4(accept)2.861 E F1(and)2.861 E F4(deny)
2.861 E F1 .361(commands determine whether we will allow the peer)2.861
F(to r)150 450 Q(equest the corr)-.18 E(esponding option.)-.18 E .236
(Note that when talking about the authentication options P)150 468 R
.236(AP and CHAP)-.92 F 2.736(,w)-1.29 G .236(hen you)-2.736 F F4
(enable)150 480 Q F1 .27(an option you'r)2.77 F 2.77(es)-.18 G .27
(aying you ar)-2.77 F 2.77(eg)-.18 G .27(oing to r)-2.77 F(equir)-.18 E
2.77(eal)-.18 G .27(ogin and passwor)-2.77 F 2.77(df)-.18 G -.18(ro)
-2.77 G(m).18 E 2.05(the peer.)150 492 R 2.05(When you)7.05 F F4(accept)
4.55 E F1 2.05(an option you'r)4.55 F 4.55(es)-.18 G 2.05
(aying you will allow the peer to)-4.55 F -.18(re)150 504 S(quir).18 E
2.5(eal)-.18 G(ogin and passwor)-2.5 E 2.5(df)-.18 G -.18(ro)-2.5 G 2.5
(mu).18 G(s.)-2.5 E(The)150 522 Q F2(yes)2.783 E F1 .283
(command is the same as)2.783 F F4(enable)2.783 E F1(and)2.783 E F4
(accept)2.783 E F1 5.283(.T)C(he)-5.283 E F2(no)2.782 E F1 .282
(command is the same)2.782 F(as)150 534 Q F4(disable)2.5 E F1(and)2.5 E
F4(deny)2.5 E F1(.)A(The options available at the link layer ar)90 552 Q
(e:)-.18 E F2(pap)120 570 Q F1 -.92(PA)150 582 S 2.899(Ps).92 G .399
(tyle authentication. Note that this style of authentication is insecur)
-2.899 F .4(e, since the)-.18 F(passwor)150 594 Q 2.5(dc)-.18 G -.18(ro)
-2.5 G(sses the link in plaintext.).18 E(Default)150 612 Q F4(disable)
2.5 E F1(and)2.5 E F4(accept)2.5 E F1(.)A F2(chap)120 630 Q F1 1.134(CH\
AP style authentication. This style of authentication is safer than P)
150 642 R(AP)-.92 E 3.633(,b)-1.29 G(ecause)-3.633 E 2.024
(only a hash of the passwor)150 654 R 4.524(di)-.18 G 4.524(sp)-4.524 G
2.024(assed over the link.)-4.524 F 2.025(Mpd supports MD5 style)7.025 F
2.243(CHAP and Micr)150 666 R 2.243(osoft style CHAP versions 1 and 2.)
-.18 F 2.242(Mpd will pr)7.242 F 2.242(efer Micr)-.18 F(osoft)-.18 E
(CHAP over MD5 CHAP to get encryption keys.)150 678 Q
(This option is an alias for)150 696 Q F2 -3.5
(chap-md5 chap-msv1 chap-msv2)2.5 F(chap-md5)120 714 Q F1 -.9(Tr)150 726
S(aditional CHAP MD5 style authentication.).9 E 0 Cg EP
%%Page: 37 37
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(37)333.68 E/F1 10
/Palatino-Roman@0 SF(Default)150 96 Q/F2 10/Palatino-Bold@0 SF(disable)
2.5 E F1(and)2.5 E F2(accept)2.5 E F1(.)A/F3 10/Courier@0 SF(chap-msv1)
120 114 Q F1(Micr)150 126 Q(osoft CHAP style authentication.)-.18 E
(Default)150 144 Q F2(disable)2.5 E F1(and)2.5 E F2(deny)2.5 E F1(.)A F3
(chap-msv2)120 162 Q F1(Micr)150 174 Q
(osoft CHAP style authentication V)-.18 E(ersion 2.)-1.11 E(Default)150
192 Q F2(disable)2.5 E F1(and)2.5 E F2(accept)2.5 E F1(.)A F3(eap)120
210 Q F1 1.458(Extensible Authentication Pr)150 222 R 1.458
(otocol. For details see)-.18 F/F4 10/Palatino-Italic@0 SF 1.458
(the EAP chapter)3.958 F F1 1.458(\(section 4.3.1)3.958 F(,)5 E
(page 38\).)150 234 Q(Default)150 252 Q F2(disable)2.5 E F1(and)2.5 E F2
(accept)2.5 E F1(.)A F3(incoming)120 270 Q F1 1.288
(This option enables the acceptance of incoming connections.)150 282 R
1.287(If this option is dis-)6.287 F .244
(abled, mpd will not accept incoming connections using this link. T)150
294 R 2.745(oa)-.92 G .245(void races it is)-2.745 F
(advised to enable it after all other link options ar)150 306 Q 2.5(ec)
-.18 G(on\214gur)-2.5 E(ed.)-.18 E(The default is)150 324 Q F2(disable)
2.5 E F1(.)A F3(multilink)120 342 Q F1 1.05
(This command enables multi-link PPP on the link. This option is r)150
354 R(equir)-.18 E 1.05(ed in both)-.18 F(dir)150 366 Q .882
(ections if ther)-.18 F 3.383(ei)-.18 G 3.383(sm)-3.383 G(or)-3.383 E
3.383(et)-.18 G .883(han one link in the bundle. However)-3.383 F 3.383
(,m)-.74 G .883(ulti-link PPP is)-3.383 F .681(sometimes useful on sing\
le links when the link MTU is low; multi-link PPP allows)150 378 R
(arbitrarily long packets to go over a link in fragments.)150 390 Q
(The default is)150 408 Q F2(disable)2.5 E F1
(\(i.e., normal non-multilink PPP\).)2.5 E F3(shortseq)120 426 Q F1 .392
(This option is only meaningful if multi-link PPP is negotiated.)150 438
R .392(It pr)5.392 F .392(oscribes shorter)-.18 F
(multi-link fragment headers, saving two bytes on every frame.)150 450 Q
(The default is)150 468 Q F2(enable)2.5 E F1(and)2.5 E F2(accept)2.5 E
F1(.)A F3(acfcomp)120 486 Q F1(Addr)150 498 Q 1.356(ess and contr)-.18 F
1.356(ol \214eld compr)-.18 F 1.356
(ession. This option only applies to asynchr)-.18 F(onous)-.18 E
(link types. It saves two bytes per frame.)150 510 Q(The default is)150
528 Q F2(enable)2.5 E F1(and)2.5 E F2(accept)2.5 E F1(.)A F3(protocomp)
120 546 Q F1(Pr)150 558 Q(otocol \214eld compr)-.18 E
(ession. This option saves one byte per frame for most frames.)-.18 E
(The default is)150 576 Q F2(enable)2.5 E F1(and)2.5 E F2(accept)2.5 E
F1(.)A F3(magicnum)120 594 Q(check-magic)120 612 Q F1(The)150 624 Q F3
(magicnum)3.512 E F1 1.013
(option enables using a magic number for the local end of the PPP)3.512
F 4.215(link. This)150 636 R 1.714
(causes a unique number to be included in each LCP packet we send,)4.215
F(which helps detect loopback conditions.)150 648 Q(The)150 666 Q F3
(check-magic)4.094 E F1 1.594
(option causes mpd to verify that the peer's magic number is)4.094 F
(corr)150 678 Q(ect in all r)-.18 E(eceived LCP frames.)-.18 E .877
(Some old br)150 696 R .876
(oken PPP implementations do not handle magic numbers corr)-.18 F(ectly)
-.18 E 3.376(,s)-1.11 G(o)-3.376 E
(these options need to be disabled in these cases.)150 708 Q
(Default for both options is)150 726 Q F2(enable)2.5 E F1(.)A 0 Cg EP
%%Page: 38 38
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(38)333.68 E/F1 10
/Palatino-Roman@0 SF .795(Note that the two most common r)150 96 R .796
(easons for seeing `)-.18 F .796(`loopback condition detected'')-.37 F
(on a modem link ar)150 108 Q(e:)-.18 E/F2 8/Palatino-Roman@0 SF<83>
165.152 126 Q F1
(The modem is in command mode and is echoing back all of our frames.)7.5
E F2<83>165.152 144 Q F1 .368
(The PPP server is not in PPP mode, but is giving a shell pr)7.869 F
.368(ompt or somesuch)-.18 F(and echoing back all of our frames.)175 156
Q/F3 10/Courier@0 SF(passive)120 174 Q F1 .211(Enables passive mode for\
 this link. This is useful on some full time connections. See)150 186 R
(RFC 1661 for mor)150 198 Q 2.5(ei)-.18 G(nformation about this option.)
-2.5 E(Default)150 216 Q/F4 10/Palatino-Bold@0 SF(disable)2.5 E F1(.)A
F3(callback)120 234 Q F1 2.585(Enables PPP callback r)150 246 R 2.585
(equest. If the r)-.18 F 2.585(emote peer can/wants to, it will hangup)
-.18 F(immediately after connecting and call us back.)150 258 Q(Default)
150 276 Q F4(disable)2.5 E F1(.)A F3(no-orig-auth)120 294 Q F1(Normally)
150 306 Q 3.38(,i)-1.11 G 3.38(fP)-3.38 G .88
(AP or CHAP is enabled, we r)-4.3 F(equir)-.18 E 3.381(et)-.18 G .881
(he peer to authenticate to us at)-3.381 F .188(the beginning of each c\
onnection. This option temporarily disables this r)150 318 R(equir)-.18
E(ement)-.18 E .368(if we ar)150 330 R 2.868(et)-.18 G .368
(he one who originated the connection and the peer r)-2.868 F .368
(ejects our r)-.18 F .368(equest for)-.18 F 2.5(al)150 342 S(ogin.)-2.5
E(This is useful when the same link is used for both dial-in and dial-o\
ut.)150 360 Q(Default)150 378 Q F4(disable)2.5 E F1(.)A F3
(keep-ms-domain)120 396 Q F1(Normally)150 408 Q 3.412(,i)-1.11 G 3.412
(fu)-3.412 G .912(sing MS-CHAP)-3.412 F 3.412(,t)-1.29 G .912
(he MS-Domain is stripped and only the plain user)-3.412 F(-)-.18 E
2.272(name is used. Under certain cir)150 420 R 2.272
(cumstances the MS-Domain should be kept, for)-.18 F
(instance if IAS is used as RADIUS server.)150 432 Q(Default)150 450 Q
F4(disable)2.5 E F1(.)A F3(time-remain)120 468 Q F1(Send T)150 480 Q
(ime-Remaining LCP packet to the peer if AAA r)-.55 E
(eturned session timeout.)-.18 E(Default)150 498 Q F4(disable)2.5 E F1
(.)A F3(peer-as-calling)120 516 Q F1(For)150 528 Q .783
(ces mpd to send r)-.18 F .783(emote tunnel addr)-.18 F .782
(ess in Calling-Station-Id instead of addr)-.18 F(ess)-.18 E 2.46
(supplied by r)150 540 R 2.461
(emote peer via tunnel \(for PPTP and L2TP\).)-.18 F 2.461
(Can be enabled for)7.461 F(untr)150 552 Q(usted peers.)-.08 E
(Default is)150 570 Q F4(disable)2.5 E F1(.)A F3(report-mac)120 588 Q F1
(For)150 600 Q(ces mpd to send peer MAC addr)-.18 E
(ess and interface in Calling-Station-Id.)-.18 E(Default)150 618 Q F4
(disable)2.5 E F1(.)A/F5 12/Helvetica-Bold@0 SF 3.336(4.3.1 EAP)90 638 R
F1 1.38(This chapter describes commands that con\214gur)90 674 R 3.88
(et)-.18 G 1.38(he EAP \(Extensible Authentication Pr)-3.88 F(otocol\).)
-.18 E 1.22(Mpd supports natively only the EAP-T)90 686 R 1.221
(ype MD5; other EAP-T)-.9 F 1.221(ypes may be used in conjunction)-.9 F
(with a RADIUS server. All of these commands apply to the curr)90 698 Q
(ently active link.)-.18 E F3(set eap accept)120 716 Q/F6 10
/Palatino-Italic@0 SF(option ...)6 E 0 Cg EP
%%Page: 39 39
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(39)333.68 E/F1 10
/Courier@0 SF(set eap deny)120 96 Q/F2 10/Palatino-Italic@0 SF
(option ...)6 E F1(set eap enable)120 114 Q F2(option ...)6 E F1
(set eap disable)120 132 Q F2(option ...)6 E F1(set eap yes)120 150 Q F2
(option ...)6 E F1(set eap no)120 168 Q F2(option ...)6 E/F3 10
/Palatino-Roman@0 SF 1.036(These commands con\214gur)150 186 R 3.536(ev)
-.18 G 1.036(arious EAP options. Most options ar)-3.536 F(e)-.18 E F2
(bi-dir)3.536 E(ectional)-.18 E F3(in)3.536 E
(that they can be independently enabled and disabled in each dir)150 198
Q(ection.)-.18 E F1(md5)120 216 Q F3(EAP-T)150 228 Q 1.992
(ype MD5. It's the same as CHAP-MD5, except that is framed inside EAP)
-.9 F(packets.)150 240 Q(The default is disable and accept.)150 258 Q F1
(radius-proxy)120 276 Q F3(Causes Mpd to pr)150 288 Q(oxy all EAP r)-.18
E(equests to the RADIUS server.)-.18 E(The default is disable.)150 306 Q
/F4 14/Helvetica-Bold@0 SF 3.892(4.4 Bundle)90 340 R(la)3.892 E -.14(ye)
-.28 G(r).14 E F3 .006(This chapter describes commands that con\214gur)
90 376 R 2.505(et)-.18 G .005(he bundle layer.)-2.505 F .005
(All of these commands \(except)5.005 F F1(new)90 388 Q F3 2.5(\)a)C
(pply to the curr)-2.5 E
(ently active bundle, i.e., the bundle shown at the command line pr)-.18
E(ompt.)-.18 E F1(set bundle period)120 406 Q F2(seconds)6 E F3
(set bundle hiwat)150 430 Q F2(per)2.5 E(cent)-.18 E F3
(set bundle lowat)150 454 Q F2(per)2.5 E(cent)-.18 E F3
(set bundle min-con)150 478 Q F2(seconds)2.5 E F3(set bundle min-dis)150
502 Q F2(seconds)2.5 E F3 .282(set bundle links)150 526 R F2(link1)2.782
E F3([)2.782 E F2(...)2.782 E F3 .282(]" These commands ar)2.782 F 2.783
(eo)-.18 G .283(nly meaningful when bandwidth)-2.783 F 1.778
(management is enabled.)150 538 R 1.777
(Mpd will attempt to bring up a new link fr)6.777 F 1.777(om the list)
-.18 F 1.613(speci\214ed or take down an existing link when the utiliza\
tion goes above)150 550 R F2(hiwat)4.113 E F3(or)4.114 E(below)150 562 Q
F2(lowat)2.645 E F3(per)2.645 E .145(cent, r)-.18 F .145
(espectively. The utilization is sampled every)-.18 F F2(period)2.644 E
F3 .144(divided by)2.644 F 2.5(6p)150 574 S
(oints, and is averaged over the past)-2.5 E F2(period)2.5 E F3
(seconds.)2.5 E .515
(Mpd will not attempt to disconnect a link unless pr)150 592 R .516
(evious one was disconnected at)-.18 F(least)150 604 Q F2(min-dis)3.964
E F3 1.464(seconds befor)3.964 F 3.964(e. Similarly)-.18 F 3.963(,m)
-1.11 G 1.463(pd will not open a link unless pr)-3.963 F(evious)-.18 E
1.856(was opened at least)150 616 R F2(min-con)4.356 E F3 1.856
(seconds befor)4.356 F 1.857(e. These two parameters help pr)-.18 F
(event)-.18 E(oscillations, but cause slower r)150 628 Q(esponse time.)
-.18 E F1(set bundle fsm-timeout)120 646 Q F2(seconds)6 E F3 .851
(This sets the \214nite state machine \(FSM\) r)150 658 R .85
(etry interval for all FSM's on this bundle.)-.18 F 1.495(This command \
should only be used in exceptional situations, such as doing PPP)150 670
R(over high-latency satellite links.)150 682 Q
(The default is 2 seconds.)5 E F1(set bundle accept)120 700 Q F2
(option ...)6 E F3(set bundle deny)150 724 Q F2(option ...)2.5 E 0 Cg EP
%%Page: 40 40
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(40)333.68 E/F1 10
/Palatino-Roman@0 SF(set bundle enable)150 96 Q/F2 10/Palatino-Italic@0
SF(option ...)2.5 E F1(set bundle disable)150 120 Q F2(option ...)2.5 E
F1(set bundle yes)150 144 Q F2(option ...)2.5 E F1 1.05(set bundle no)
150 168 R F2 1.05(option ...)3.55 F F1 6.05("T)C 1.05
(hese commands con\214gur)-6.05 F 3.55(ev)-.18 G 1.05
(arious bundle options. Most)-3.55 F .647(options ar)150 180 R(e)-.18 E
F2(bi-dir)3.147 E(ectional)-.18 E F1 .648
(in that they can be independently enabled and disabled in)3.147 F
(each dir)150 192 Q(ection.)-.18 E(The)150 210 Q/F3 10/Palatino-Bold@0
SF(enable)2.995 E F1(and)2.995 E F3(disable)2.995 E F1 .495
(commands determine whether we want the corr)2.995 F(esponding)-.18 E
2.86(option. The)150 222 R F3(accept)2.86 E F1(and)2.861 E F3(deny)2.861
E F1 .361(commands determine whether we will allow the peer)2.861 F
(to r)150 234 Q(equest the corr)-.18 E(esponding option.)-.18 E(The)150
252 Q/F4 10/Courier@0 SF(yes)2.783 E F1 .283(command is the same as)
2.783 F F3(enable)2.783 E F1(and)2.783 E F3(accept)2.783 E F1 5.283(.T)C
(he)-5.283 E F4(no)2.782 E F1 .282(command is the same)2.782 F(as)150
264 Q F3(disable)2.5 E F1(and)2.5 E F3(deny)2.5 E F1(.)A
(The options available at the bundle layer ar)90 282 Q(e:)-.18 E F4
(bw-manage)120 300 Q F1 1.126(This command enables)150 312 R F2 1.126
(bandwidth management)3.626 F F1 3.626(,i)C 3.626(nw)-3.626 G 1.126
(hich mpd attempts to dynami-)-3.626 F
(cally adjust the number of connected links depending on the traf)150
324 Q(\214c load.)-.18 E .861(The pr)150 342 R .861
(oper functioning of bandwidth management depends on the corr)-.18 F
.861(ect latency)-.18 F 1.155(and bandwidth information con\214gur)150
354 R 1.155(ed for each link; see the)-.18 F F3 1.155(set link latency)
3.655 F F1(and)3.655 E F3(set link bandwidth)150 366 Q F1(commands.)2.5
E(The default for this option is of)150 384 Q 2.5(f-)-.18 G 2.5(-m)-2.5
G(pd connects the links `)-2.5 E(`all or none.'')-.37 E F4(round-robin)
120 402 Q F1 1.875(When multilink PPP is enabled and ther)150 414 R
4.375(ea)-.18 G 2.235 -.18(re t)-4.375 H 1.874(wo or mor).18 F 4.374(el)
-.18 G 1.874(inks connected, this)-4.374 F 1.115(option enables r)150
426 R 1.116(ound r)-.18 F 1.116(obin packet scheduling acr)-.18 F 1.116
(oss the links.)-.18 F 1.116(That is, instead of)6.116 F(br)150 438 Q
.953(eaking each packet into fragments and delivering the individual fr\
agments over)-.18 F .296
(all the links in the bundle, each packet is deliver)150 450 R .297
(ed whole over single link.)-.18 F .297(The link)5.297 F(is chosen by r)
150 462 Q(otating in r)-.18 E(ound-r)-.18 E
(obin fashion over all the links in the bundle.)-.18 E .1
(This option normally would r)150 480 R .099
(esult in higher latency and possible delays due to TCP)-.18 F 1.365
(packets being r)150 492 R 1.365(eceived out of or)-.18 F 1.365
(der; however)-.18 F 3.865(,i)-.74 G 3.865(tm)-3.865 G 1.366
(ay help in certain situations of)-3.865 F(high packet loss or br)150
504 Q(oken peer equipment.)-.18 E(The default is disable.)150 522 Q F4
(ipcp)120 540 Q F1 .323
(Enable/Disable IPCP negotiation. For details see)150 552 R F2 .323
(the IPCP layer chapter)2.823 F F1 .322(\(section 4.7)2.822 F(,)5 E
(page 44\).)150 564 Q(The default is enable.)150 582 Q F4(ipv6cp)120 600
Q F1(Enable/Disable IPV6CP negotiation.)150 612 Q
(The default is disable.)150 630 Q F4(compression)120 648 Q F1 .123
(Enable/Disable CCP \(Compr)150 660 R .123(ession Contr)-.18 F .123
(ol Pr)-.18 F .123(otocol\) negotiation. For details see)-.18 F F2(the)
2.624 E(compr)150 672 Q(ession layer chapter)-.18 E F1(\(section 4.6)2.5
E 2.5(,p)5 G(age 42\).)-2.5 E(The default is disable.)150 690 Q F4
(encryption)120 708 Q F1 1.264(Enable/Disable ECP \(Encryption Contr)150
720 R 1.263(ol Pr)-.18 F 1.263(otocol\) negotiation. For details see)
-.18 F F2(the)3.763 E(encryption layer chapter)150 732 Q F1
(\(section 4.5)2.5 E 2.5(,p)5 G(age 41\).)-2.5 E 0 Cg EP
%%Page: 41 41
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(41)333.68 E/F1 10
/Palatino-Roman@0 SF(The default is disable.)150 96 Q/F2 10/Courier@0 SF
(crypt-reqd)120 114 Q F1(Requir)150 126 Q 4.034(ee)-.18 G 4.034
(ncryption. When)-4.034 F 1.534
(encryption support is compiled into mpd, this option)4.034 F .413
(causes mpd to dr)150 138 R .413
(op the link if encryption cannot be successfully negotiated in both)
-.18 F(dir)150 150 Q(ections. This means in ef)-.18 E(fect, `)-.18 E
(`use encryption or do not connect at all.'')-.37 E
(The default is disable.)150 168 Q/F3 14/Helvetica-Bold@0 SF 3.892
(4.5 Encr)90 190 R(yption \(ECP\) la).14 E -.14(ye)-.28 G(r).14 E F1
.221(This chapter describes commands that con\214gur)90 226 R 2.721(et)
-.18 G .221(he Encryption Contr)-2.721 F .221(ol Pr)-.18 F .221
(otocol \(ECP\) layer. All)-.18 F(of these commands apply to the curr)90
238 Q(ently active bundle.)-.18 E 2.447 -.92(To u)90 256 T .606
(se ECP you should enable encryption at the bundle level.).92 F 2.446
-.92(To a)5.606 H .606(llow encryption to be negoti-).92 F
(ated you should enable her)90 268 Q 2.5(es)-.18 G(ome of encryption pr)
-2.5 E(otocols.)-.18 E/F4 10/Palatino-Bold@0 SF(Note:)90 286 Q F1 1.2
(In PPP)3.7 F 3.7(,e)-1.29 G 1.201
(ncryption should be handled by the ECP rather than CCP.)-3.7 F(However)
6.201 E 3.701(,M)-.74 G(icr)-3.701 E(osoft)-.18 E .84
(combined both compr)90 298 R .84(ession and encryption into their `)
-.18 F(`compr)-.37 E .84(ession'' algorithm \(MPPC\), which)-.18 F
(is confusing.)90 310 Q F2(set ecp key)120 328 Q/F5 10/Palatino-Italic@0
SF(string)6 E F1(Sets the encryption key.)150 346 Q F2(set ecp accept)
120 364 Q F5(option ...)6 E F2(set ecp deny)120 382 Q F5(option ...)6 E
F2(set ecp enable)120 400 Q F5(option ...)6 E F2(set ecp disable)120 418
Q F5(option ...)6 E F2(set ecp yes)120 436 Q F5(option ...)6 E F2
(set ecp no)120 454 Q F5(option ...)6 E F1 .636
(These commands con\214gur)150 472 R 3.136(ev)-.18 G .636
(arious ECP options. Each dir)-3.136 F .636(ection of traf)-.18 F .636
(\214c \(transmit)-.18 F 2.21(and r)150 484 R 2.21
(eceive\) is independent fr)-.18 F 2.21(om the other.)-.18 F 2.21
(All options default to)7.21 F F4(disable)4.71 E F1(and)4.71 E F4(deny)
150 496 Q F1(.)A(The)150 514 Q F4(enable)2.576 E F1(and)2.576 E F4
(disable)2.576 E F1 .076(commands determine whether we desir)2.576 F
2.576(et)-.18 G .076(he corr)-2.576 F(esponding)-.18 E 1.276
(option on r)150 526 R 1.276(eceived data.)-.18 F(The)6.276 E F4(accept)
3.776 E F1(and)3.775 E F4(deny)3.775 E F1 1.275
(commands determine whether we)3.775 F .754(will allow the peer to r)150
538 R .754(equest the corr)-.18 F .754
(esponding option \(which we must enable on)-.18 F
(our transmitted data\).)150 550 Q(The)150 568 Q F2(yes)2.783 E F1 .283
(command is the same as)2.783 F F4(enable)2.783 E F1(and)2.783 E F4
(accept)2.783 E F1 5.283(.T)C(he)-5.283 E F2(no)2.782 E F1 .282
(command is the same)2.782 F(as)150 580 Q F4(disable)2.5 E F1(and)2.5 E
F4(deny)2.5 E F1(.)A(The options available at the ECP layer ar)90 598 Q
(e:)-.18 E F2(dese-bis)120 616 Q F1 .27
(This option enables DESE-bis \(rfc 2419\) encryption.)150 628 R .27
(This algorithm implemented in)5.27 F(user)150 640 Q(-level, so r)-.18 E
(equir)-.18 E 2.5(em)-.18 G(uch CPU power on fast \(>10Mbit/s\) links.)
-2.5 E(The default is disable.)150 658 Q F2(dese-old)120 676 Q F1 1.871
(This option enables DESE \(rfc 1969\) encryption.)150 688 R 1.871
(This algorithm implemented in)6.871 F(user)150 700 Q(-level, so r)-.18
E(equir)-.18 E 2.5(em)-.18 G(uch CPU power on fast \(>10Mbit/s\) links.)
-2.5 E F4(Note:)150 718 Q F1 1.61(DESE pr)4.11 F 1.61(otocol is depr)
-.18 F 1.61(ecated. Because of data padding to the next 8 octets)-.18 F
(boundary)150 730 Q 4.012(,r)-1.11 G(equir)-4.192 E 1.512
(ed by block natur)-.18 F 4.012(eo)-.18 G 4.012(fD)-4.012 G 1.512
(ES encryption, dese-old option can have)-4.012 F(inter)150 742 Q 1.466
(operability issues with other pr)-.18 F 1.467
(otocols which work over it. As example, it is)-.18 F 0 Cg EP
%%Page: 42 42
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(42)333.68 E/F1 10
/Palatino-Roman@0 SF(incompatible with Pr)150 96 Q(edictor)-.18 E
(-1 and De\215ate compr)-.18 E(essions.)-.18 E(The default is disable.)
150 114 Q/F2 14/Helvetica-Bold@0 SF 3.892(4.6 Compression)90 136 R
(\(CCP\) la)3.892 E -.14(ye)-.28 G(r).14 E F1 .772
(This chapter describes commands that con\214gur)90 172 R 3.272(et)-.18
G .772(he Compr)-3.272 F .772(ession Contr)-.18 F .772(ol Pr)-.18 F .771
(otocol \(CCP\) layer.)-.18 F(All of these commands apply to the curr)90
184 Q(ently active bundle.)-.18 E 3.603 -.92(To u)90 202 T 1.763
(se CCP you should enable compr).92 F 1.763(ession at the bundle level.)
-.18 F 3.604 -.92(To a)6.764 H 1.764(llow compr).92 F 1.764
(ession to be)-.18 F(negotiated you should enable her)90 214 Q 2.5(es)
-.18 G(ome of compr)-2.5 E(ession pr)-.18 E(otocols.)-.18 E/F3 10
/Courier@0 SF(set ccp accept)120 232 Q/F4 10/Palatino-Italic@0 SF
(option ...)6 E F3(set ccp deny)120 250 Q F4(option ...)6 E F3
(set ccp enable)120 268 Q F4(option ...)6 E F3(set ccp disable)120 286 Q
F4(option ...)6 E F3(set ccp yes)120 304 Q F4(option ...)6 E F3
(set ccp no)120 322 Q F4(option ...)6 E F1 .538
(These commands con\214gur)150 340 R 3.038(ev)-.18 G .538
(arious CCP options. Each dir)-3.038 F .538(ection of traf)-.18 F .538
(\214c \(transmit)-.18 F 2.21(and r)150 352 R 2.21
(eceive\) is independent fr)-.18 F 2.21(om the other.)-.18 F 2.21
(All options default to)7.21 F/F5 10/Palatino-Bold@0 SF(disable)4.71 E
F1(and)4.71 E F5(deny)150 364 Q F1(.)A(The)150 382 Q F5(enable)2.576 E
F1(and)2.576 E F5(disable)2.576 E F1 .076
(commands determine whether we desir)2.576 F 2.576(et)-.18 G .076
(he corr)-2.576 F(esponding)-.18 E 1.275(option on r)150 394 R 1.275
(eceived data.)-.18 F(The)6.275 E F5(accept)3.775 E F1(and)3.775 E F5
(deny)3.776 E F1 1.276(commands determine whether we)3.776 F .754
(will allow the peer to r)150 406 R .754(equest the corr)-.18 F .754
(esponding option \(which we must enable on)-.18 F
(our transmitted data\).)150 418 Q(The)150 436 Q F3(yes)2.782 E F1 .282
(command is the same as)2.782 F F5(enable)2.783 E F1(and)2.783 E F5
(accept)2.783 E F1 5.283(.T)C(he)-5.283 E F3(no)2.783 E F1 .283
(command is the same)2.783 F(as)150 448 Q F5(disable)2.5 E F1(and)2.5 E
F5(deny)2.5 E F1(.)A(The options available at the CCP layer ar)90 466 Q
2.5(el)-.18 G(isted below.)-2.5 E F3(pred1)120 484 Q F1 .063
(This option enables Pr)150 496 R(edictor)-.18 E .062
(-1 \(RFC 1978\) compr)-.18 F 2.562(ession. Pr)-.18 F(edictor)-.18 E
.062(-1 compr)-.18 F .062(ession is)-.18 F(much faster then De\215ate.)
150 508 Q .377(This option r)150 526 R(equir)-.18 E .377(es ng_pr)-.18 F
.377(ed1 Netgraph node type, which is pr)-.18 F .378(esent since Fr)-.18
F(eeBSD)-.18 E(6.2-ST)150 538 Q .617(ABLE of 2007-01-28.)-.74 F .616
(If ther)5.616 F 3.116(ei)-.18 G 3.116(sn)-3.116 G 3.116(on)-3.116 G
(g_pr)-3.116 E .616(ed1 in system, this algorithm is sup-)-.18 F
(ported in user)150 550 Q(-level, but will consume mor)-.18 E 2.5(eC)
-.18 G(PU power.)-2.5 E(The default is disable.)150 568 Q F3(deflate)120
586 Q F1 1.052(This option enables De\215ate \(RFC 1979\) compr)150 598
R 3.552(ession. De\215ate)-.18 F(compr)3.553 E 1.053(ession usually)-.18
F(gives better compr)150 610 Q(ession ratio then Pr)-.18 E(edictor)-.18
E(-1.)-.18 E 4.031(This option r)150 628 R(equir)-.18 E 4.031
(es ng_de\215ate Netgraph node type, which is pr)-.18 F 4.031
(esent since)-.18 F(Fr)150 640 Q(eeBSD 6.2-ST)-.18 E
(ABLE of 2007-01-28.)-.74 E(The default is disable.)150 658 Q F3(mppc)
120 676 Q F1 .213(This option enables MPPC compr)150 688 R .213
(ession/encryption subpr)-.18 F 2.713(otocol. For)-.18 F .214
(details see)2.714 F F4(the)2.714 E(MPPC pr)150 700 Q(otocol chapter)
-.18 E F1(\(section 4.6.1)2.5 E 2.5(,p)5 G(age 43\).)-2.5 E
(The default is disable.)150 718 Q 0 Cg EP
%%Page: 43 43
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(43)333.68 E/F1 12
/Helvetica-Bold@0 SF 3.336(4.6.1 MPPC)90 98 R(pr)3.336 E(otocol)-.24 E
/F2 10/Palatino-Roman@0 SF 2.354(Mpd implements Micr)90 146 R 2.354
(osoft Point-to-point compr)-.18 F 2.354(ession \(MPPC\) CCP subpr)-.18
F 2.354(otol. T)-.18 F 4.854(oe)-.92 G 2.354(nable it,)-4.854 F
('mppc' option should be enabled at the CCP layer.)90 158 Q 1.472
(MPPC CCP subpr)90 176 R 1.472(otocol consists of MPPC compr)-.18 F
1.473(ession and MPPE encryption parts.)-.18 F 3.313 -.92(To m)6.473 H
(ake).92 E(MPPC CCP actually do something you should enable some of the\
m using options below.)90 188 Q/F3 10/Courier@0 SF(set mppc accept)120
206 Q/F4 10/Palatino-Italic@0 SF(option ...)6 E F3(set mppc deny)120 224
Q F4(option ...)6 E F3(set mppc enable)120 242 Q F4(option ...)6 E F3
(set mppc disable)120 260 Q F4(option ...)6 E F3(set mppc yes)120 278 Q
F4(option ...)6 E F3(set mppc no)120 296 Q F4(option ...)6 E F2
(These commands con\214gur)150 314 Q 2.5(ev)-.18 G(arious MPPC options.)
-2.5 E F3(compress)120 332 Q F2 1.844(Enables MPPC compr)150 344 R 1.844
(ession. This is the only compr)-.18 F 1.844(ession method supported by)
-.18 F(Micr)150 356 Q(osoft W)-.18 E(indows RAS.)-.55 E 1.724
(Note: This option r)150 374 R(equir)-.18 E 1.725
(es ng_mppc node to be built with compr)-.18 F 1.725(ession support,)
-.18 F 2.428(which is disabled by default, r)150 386 R 2.428
(equiring external compr)-.18 F 2.427(essor code.)-.18 F(Open-sour)7.427
E(ce)-.18 E 7.957(implementation of this code, based on RFC21)150 398 R
7.957(18, could be found at)-.55 F 1.35
(http://mavhome.dp.ua/MPPC/. But MPPC compr)150 410 R 1.35
(ession algorithm itself cover)-.18 F(ed)-.18 E 1.521
(by US patent, so you may need to contact Hi/Fn Inc. to obtain their pr)
150 422 R(oprietary)-.18 E 3.287(implementation. If)150 434 R .786
(kernel support is not detected, compr)3.287 F .786
(ession will not be negoti-)-.18 F 2.5(ated. Use)150 446 R
('show version' command to get actual status.)2.5 E
(The default is disable.)150 464 Q F3(e40)120 482 Q F2
(Enables 40-bit MPPE encryption.)150 494 Q(The default is disable.)150
512 Q F3(e56)120 530 Q F2(Enables 56-bit MPPE encryption.)150 542 Q
(The default is disable.)150 560 Q F3(e128)120 578 Q F2
(Enables 128-bit MPPE encryption.)150 590 Q .785(Note: in or)150 608 R
.785(der for MPPE encryption to work, MS-CHAPv1 or MS-CHAPv2 auth is)
-.18 F(mandatory)150 620 Q 3.355(,b)-1.11 G .855
(ecause the MPPE keys ar)-3.355 F 3.355(eg)-.18 G .855
(enerated using the authentication r)-3.355 F(esults.)-.18 E(If MS-CHAP\
 auth is not used by link, encryption will not be negotiated.)150 632 Q
(The default is disable.)150 650 Q F3(stateless)120 668 Q F2 1.12
(Enables stateless mode. This mode r)150 680 R(equir)-.18 E 1.12(es mor)
-.18 F 3.62(eC)-.18 G 1.12(PU time and is somewhat less)-3.62 F(secur)
150 692 Q(e, but allows faster r)-.18 E
(ecovery in the face of lost packets.)-.18 E(The default is disable.)150
710 Q 0 Cg EP
%%Page: 44 44
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(44)333.68 E/F1 10
/Courier@0 SF(policy)120 96 Q/F2 10/Palatino-Roman@0 SF 1.011
(If enabled, Mpd uses the MPPE-T)150 108 R 1.011
(ypes and MPPE-Policy info fr)-.9 F 1.011(om the authentica-)-.18 F
(tion backend.)150 120 Q(The default is disable.)150 138 Q/F3 14
/Helvetica-Bold@0 SF 3.892(4.7 IPCP)90 160 R(la)3.892 E -.14(ye)-.28 G
(r).14 E F2 .836(This chapter describes commands that con\214gur)90 196
R 3.336(et)-.18 G .836(he IP Contr)-3.336 F .836(ol Pr)-.18 F .836
(otocol \(IPCP\) layer. T)-.18 F 3.337(oe)-.92 G(nable)-3.337 E(IPCP)90
208 Q(,)-1.29 E F1(ipcp)3.71 E F2 1.21(option should be enabled at the \
bundle layer. All of these commands apply to the)3.71 F(curr)90 220 Q
(ently active bundle.)-.18 E F1(set ipcp ranges \()120 238 Q/F4 10
/Palatino-Italic@0 SF(local/width)A F2(|ippool)A F4(pool)2.5 E F2 2.5
(\)\()C F4 -.18(re)-2.5 G(mote/width).18 E F2(|ippool)A F4(pool)2.5 E F2
(\))A .04(This command determines what IP addr)150 250 R .041
(esses mpd will allow to be negotiated at the)-.18 F .076(local and r)
150 262 R .076(emote ends of the link. For each endpoint, we have a tar)
-.18 F .075(get addr)-.18 F .075(ess and a)-.18 F .219(netmask width.)
150 274 R(The)5.219 E F4(width)2.719 E F2 .219
(determines how \215exible we ar)2.719 F .22
(e, i.e., how close the actual)-.18 F 1.089(negotiated addr)150 286 R
1.089(ess must be to the tar)-.18 F 1.089(get addr)-.18 F 3.589(ess. A)
-.18 F F4(width)3.588 E F2 1.088(of 32 means they must)3.588 F 3.857
(match exactly; a)150 298 R F4(width)6.357 E F2 3.857(of zer)6.357 F
6.357(om)-.18 G 3.858(eans any addr)-6.357 F 3.858
(ess is suitable. For example,)-.18 F F1(192.168.1.17/25)150 310 Q F2
1.233(means that IP addr)3.733 F(ess)-.18 E F1(192.168.1.17)3.733 E F2
1.233(is desir)3.733 F 1.233(ed, but any IP)-.18 F(addr)150 322 Q
(ess in the range)-.18 E F1(192.168.1.0)2.5 E F2(thr)2.5 E(ough)-.18 E
F1(192.168.1.128)2.5 E F2(is acceptable.)2.5 E .528(By convention, the)
150 340 R F4(local)3.028 E F2(addr)3.028 E .528(ess may be)-.18 F F1
(0.0.0.0)3.028 E F2 .529(to r)3.029 F .529(equest that the r)-.18 F .529
(emote server)-.18 F .063(assign us an IP addr)150 352 R .063
(ess. Of course, for this to work the r)-.18 F .063
(emote side must know)-.18 F F4 2.562(ap)2.563 G(ri-)-2.562 E(ori)150
364 Q F2(what our local IP addr)2.5 E(ess should be.)-.18 E(The)150 382
Q F4 -.18(re)2.744 G(mote).18 E F2(addr)2.744 E .244(ess should)-.18 F
F4(not)2.744 E F2(be)2.744 E F1(0.0.0.0)2.744 E F2 2.744(.T)C .244
(his is so if the peer r)-2.744 F(equests)-.18 E F1(0.0.0.0)2.745 E F2
(,)A(we have some addr)150 394 Q(ess to give him.)-.18 E(The)5 E F4
(width)2.5 E F2(may of course be zer)2.5 E(o.)-.18 E 1.38
(It is also possible to specify ippool name to use for assigning r)150
412 R 1.38(emote ip.)-.18 F 1.38(In such)6.38 F
(case width 32 is assumed.)150 424 Q .566(If the two sides cannot agr)
150 442 R .566(ee on the IP addr)-.18 F .566(ess assignments after r)
-.18 F .567(epeated negotia-)-.18 F .982(tion attempts, then the connec\
tion will fail. This is manifested with the err)150 454 R .981(or mes-)
-.18 F(sage `)150 466 Q(`IPCP: not conver)-.37 E(ging.'')-.18 E F1
(set ipcp dns)120 484 Q F4(primary)6 E F2([)2.5 E F4(secondary)2.5 E F2
(])2.5 E 2.101(Some PPP clients r)150 496 R 2.102
(equest DNS server information fr)-.18 F 2.102(om their r)-.18 F 2.102
(emote peer.)-.18 F(This)7.102 E .772
(commands enables mpd to have an answer for any such clients.)150 508 R
.772(This command is)5.772 F .051
(especially useful for supplying information to PPTP clients.)150 520 R
.052(One or two DNS server)5.052 F(IP addr)150 532 Q
(esses may be given. An addr)-.18 E(ess of)-.18 E F1(0.0.0.0)2.5 E F2
(erases that entry.)2.5 E F1(set ipcp nbns)120 550 Q F4(primary)6 E F2
([)2.5 E F4(secondary)2.5 E F2(])2.5 E .183(Some Micr)150 562 R .183
(osoft PPP clients r)-.18 F .183
(equest NetBIOS name server \(NBNS\) information fr)-.18 F(om)-.18 E
1.452(their r)150 574 R 1.452(emote peer.)-.18 F 1.452
(This commands enables mpd to have an answer for any such)6.452 F 5.349
(clients. This)150 586 R 2.849
(command is especially useful for supplying information to PPTP)5.349 F
5.542(clients. One)150 598 R 3.042(or two NBNS server IP addr)5.542 F
3.043(esses may be given. An addr)-.18 F 3.043(ess of)-.18 F F1(0.0.0.0)
150 610 Q F2(erases that entry.)2.5 E F1(set ipcp accept)120 628 Q F4
(option ...)6 E F1(set ipcp deny)120 646 Q F4(option ...)6 E F1
(set ipcp enable)120 664 Q F4(option ...)6 E F1(set ipcp disable)120 682
Q F4(option ...)6 E F1(set ipcp yes)120 700 Q F4(option ...)6 E F1
(set ipcp no)120 718 Q F4(option ...)6 E F2 4.17
(These commands con\214gur)150 736 R 6.67(ev)-.18 G 4.17
(arious IPCP options. The)-6.67 F/F5 10/Palatino-Bold@0 SF(vjcomp)6.67 E
F2 4.17(option is)6.67 F F4(bi-)6.67 E 0 Cg EP
%%Page: 45 45
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(45)333.68 E/F1 10
/Palatino-Italic@0 SF(dir)150 96 Q(ectional)-.18 E/F2 10
/Palatino-Roman@0 SF
(in that it can be independently enabled and disabled in each dir)2.5 E
(ection.)-.18 E(The)150 114 Q/F3 10/Palatino-Bold@0 SF(enable)2.995 E F2
(and)2.995 E F3(disable)2.995 E F2 .495
(commands determine whether we want the corr)2.995 F(esponding)-.18 E
2.861(option. The)150 126 R F3(accept)2.861 E F2(and)2.861 E F3(deny)
2.861 E F2 .361(commands determine whether we will allow the peer)2.861
F(to r)150 138 Q(equest the corr)-.18 E(esponding option.)-.18 E(The)150
156 Q/F4 10/Courier@0 SF(yes)2.782 E F2 .282(command is the same as)
2.782 F F3(enable)2.783 E F2(and)2.783 E F3(accept)2.783 E F2 5.283(.T)C
(he)-5.283 E F4(no)2.783 E F2 .283(command is the same)2.783 F(as)150
168 Q F3(disable)2.5 E F2(and)2.5 E F3(deny)2.5 E F2(.)A
(The options available at the IPCP layer ar)90 186 Q(e:)-.18 E F4
(vjcomp)120 204 Q F2 1.873(This option enables V)150 216 R 1.873
(an Jacobson TCP header compr)-.92 F 1.873(ession, which saves several)
-.18 F .671(bytes per TCP data packet. Y)150 228 R .671
(ou almost always want this option.)-.92 F .671(This compr)5.671 F
(ession)-.18 E(inef)150 240 Q .238(fective for TCP connections with ena\
bled modern extensions like time stamping)-.18 F
(or SACK, which modify TCP options between sequential packets.)150 252 Q
(Default)150 270 Q F3(enable)2.5 E F2(and)2.5 E F3(accept)2.5 E F2(.)A
F4(req-pri-dns)120 288 Q(req-sec-dns)120 306 Q(req-pri-nbns)120 324 Q
(req-sec-nbns)120 342 Q F2 2.511(Enabling these options causes mpd to r)
150 360 R 2.511(equest primary and/or secondary DNS)-.18 F
(and/or NBNS servers fr)150 372 Q(om the r)-.18 E
(emote peer during negotiation.)-.18 E .718(If any DNS servers ar)150
390 R 3.218(es)-.18 G .718(upplied by the peer)-3.218 F 3.218(,t)-.74 G
.718(hey will appear as parameters to the)-3.218 F
(script speci\214ed by the)150 402 Q F4(set iface up-script)2.5 E F2
(command, if any.)2.5 E(Curr)150 420 Q(ently)-.18 E 3.011(,m)-1.11 G
.511
(pd does not use the NBNS values for anything; they just appear in the)
-3.011 F(log. A futur)150 432 Q 2.5(er)-.18 G
(evision may actually do something with them.)-2.68 E/F5 14
/Helvetica-Bold@0 SF 3.892(4.8 IPv6CP)90 454 R(la)3.892 E -.14(ye)-.28 G
(r).14 E F2 1.65(Mpd implements IPv6 Contr)90 490 R 1.649(ol Pr)-.18 F
1.649(otocol \(IPv6CP\) for IPv6 link level addr)-.18 F 1.649
(esses negotiation. T)-.18 F(o)-.92 E(enable IPv6CP)90 502 Q(,)-1.29 E
F4(ipv6cp)2.5 E F2(option should be enabled at the bundle layer.)2.5 E
(Now ther)90 520 Q 2.5(ei)-.18 G 2.5(sn)-2.5 G 2.5(oa)-2.5 G
(dditional con\214guration options pr)-2.5 E(esent at this layer.)-.18 E
F5 3.892(4.9 Interface)90 542 R(la)3.892 E -.14(ye)-.28 G(r).14 E F2
2.271(This chapter describes commands that con\214gur)90 578 R 4.771(et)
-.18 G 2.271(he interface layer.)-4.771 F 2.271(All of these commands)
7.271 F(apply to the curr)90 590 Q(ently active bundle.)-.18 E .384
(Note that while most of the time mpd is used for transmitting IP traf)
90 608 R .384(\214c, it is designed to support)-.18 F .5(other \(curr)90
620 R .5(ently unimplemented\) pr)-.18 F .501(otocols such as AppleT)
-.18 F .501(alk, IPX, etc. This is why the Interface)-.92 F .605
(layer \(which is pr)90 632 R .605(otocol independent\) is distinct fr)
-.18 F .605(om the)-.18 F F1 .605(IP Contr)3.105 F .605(ol Pr)-.18 F
.605(otocol \(IPCP\) layer)-.18 F F2(\(section)3.105 E 2.5(4.7 ,)90 644
R(page 44\) which is speci\214c to IP.)2.5 E F4(set iface name [)120 662
Q F1(name)6 E F2(])2.5 E .739(This command changes interface name fr)150
674 R .739(om default ngX to speci\214ed one.)-.18 F .74(If name)5.74 F
(ar)150 686 Q .119(gument is not speci\214ed, original ngX name is r)
-.18 F(estor)-.18 E 2.618(ed. Note)-.18 F .118(that inside Netgraph)
2.618 F(original ngX name is always used.)150 698 Q F4
(set iface description [)120 716 Q F1(description)6 E F2(])2.5 E
(This command changes interface description.)150 728 Q 0 Cg EP
%%Page: 46 46
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(46)333.68 E/F1 10
/Palatino-Roman@0 SF -.92(Te)150 96 S
(mplate may contain conversion speci\214cations:).92 E/F2 8/Courier@0 SF
(%% expands to single % sign;)170 112 Q(%a for interface local address;)
170 122 Q(%A for peer local address;)170 132 Q
(%i for system interface index;)170 142 Q(%I for interface name;)170 152
Q(%l for name of bundle's first link)170 162 Q
(%M for peer MAC address of bundle's first link)170 172 Q
(%o for local outer \("physical"\) address of bundle's first link)170
182 Q(%O for peer outer \("physical"\) address of bundle's first link)
170 192 Q(%P for peer outer \("physical"\) port of bundle's first link)
170 202 Q(%S for interface status \(DoD/UP/DOWN\))170 212 Q
(%t for type of bundle's first link \(pppoe, pptp, l2tp etc.\))170 222 Q
(%u for self auth name \(or dash if self auth name not used\))170 232 Q
(%U for peer auth name \(or dash if peer has not authenticated\))170 242
Q/F3 10/Courier@0 SF(set iface group [)120 266 Q/F4 10/Palatino-Italic@0
SF(gr)6 E(oup)-.18 E F1(])2.5 E
(This command add interface to speci\214c gr)150 278 Q(oup.)-.18 E F3
(set iface addrs [!])120 296 Q F4(local-ip)A F1([!])2.5 E F4 -.18(re)C
(mote-ip).18 E F1 2.287(This command is usually r)150 308 R(equir)-.18 E
2.288(ed when dial-on-demand is enabled.)-.18 F(Normally)7.288 E(,)-1.11
E .502(mpd con\214gur)150 320 R .502(es the interface with the IP addr)
-.18 F .502(esses that wer)-.18 F 3.001(en)-.18 G .501
(egotiated when con-)-3.001 F .344(necting the link.)150 332 R .344
(Since dial-on-demand con\214gur)5.344 F .344(es the interface befor)
-.18 F 2.844(ea)-.18 G .344(ctually con-)-2.844 F .951
(necting, mpd has to be told initial local and r)150 344 R .951
(emote IP addr)-.18 F .95(esses to give the inter)-.18 F(-)-.18 E 3.877
(face. These)150 356 R(addr)3.877 E 1.378(esses do not have to corr)-.18
F 1.378(espond to the `)-.18 F(`r)-.37 E 1.378
(eal'' ones; in fact, both)-.18 F(addr)150 368 Q 1.274
(esses can be completely \214ctional. If and when dif)-.18 F(fer)-.18 E
1.273(ent addr)-.18 F 1.273(esses ar)-.18 F 3.773(en)-.18 G(egoti-)
-3.773 E(ated later)150 380 Q 2.5(,m)-.74 G(pd will automatically r)-2.5
E(enumber the interface and adjust the r)-.18 E(outes.)-.18 E .221
(Also this command may be used to for)150 398 R .221
(ce speci\214ed addr)-.18 F .221(esses usage instead of nego-)-.18 F
1.119(tiated ones. It may be useful in some speci\214c cases, for examp\
le, to avoid r)150 410 R(outing)-.18 E 2.205(loop with miscon\214gur)150
422 R 2.205(ed PPTP server.)-.18 F 2.206
(In such case '!' mark speci\214es IPs to be)7.205 F(for)150 434 Q(ced.)
-.18 E F3(set iface route)120 452 Q F4(addr)6 E(ess[/width])-.18 E F1
.255(This command associates a r)150 464 R .254
(oute with the bundle. Whenever the interface is con\214g-)-.18 F(ur)150
476 Q 1.256(ed up, all associated r)-.18 F 1.256(outes ar)-.18 F 3.756
(ea)-.18 G 3.756(dded. A)-3.756 F -.18(ro)3.756 G 1.256(ute of).18 F/F5
10/Palatino-Bold@0 SF(default)3.756 E F1 1.257(indicates the default)
3.756 F -.18(ro)150 488 S 2.682(ute. Otherwise,).18 F .182(the r)2.682 F
.182(oute is a network addr)-.18 F .181
(ess with optional netmask width \(e.g.,)-.18 F F5(192.168.1.0/24)150
500 Q F1 .476(\). If the netmask width is omitted, a single host r)B
.477(oute is assumed \(i.e.,)-.18 F 2.5(aw)150 512 S(idth of 32\).)-2.5
E(Routes ar)150 530 Q 2.5(ea)-.18 G(utomatically r)-2.5 E
(emoved when the interface is br)-.18 E(ought down.)-.18 E F3
(set iface mtu)120 548 Q F4(value)6 E F1 2.5([o)2.5 G(verride ])-2.5 E
-.55(Wi)150 560 S 2.009(thout optional keywor).55 F(d)-.18 E F5
(override)4.508 E F1 4.508(,t)C 2.008
(his command sets an upper bound on the)-4.508 F 2.015
(MTU that will be con\214gur)150 572 R 2.015
(ed on the interface when the bundle comes up.)-.18 F(This)7.016 E .857
(value is not used at all during link negotiation; ther)150 584 R 3.357
(ea)-.18 G 1.217 -.18(re s)-3.357 H .857(eparate bundle and link).18 F
1.394(commands for con\214guring that.)150 596 R 1.394
(Even if a higher bundle MTU is negotiated, this)6.394 F
(limit will still apply.)150 608 Q .679
(This command is useful when you want to manually r)150 626 R .679
(estrict the MTU of the inter)-.18 F(-)-.18 E(face for other r)150 638 Q
(easons, e.g., if you'r)-.18 E 2.5(ea)-.18 G(lso doing IPSec.)-2.5 E
(The default is 1500.)150 656 Q .046(Optional keywor)150 674 R(d)-.18 E
F5(override)2.546 E F1 .047(allows you to override the r)2.546 F .047
(esult of link negotiation and)-.18 F 1.318
(set interface MTU to speci\214ed value.)150 686 R 1.317
(Such override can violate RFC 1661, so use)6.318 F .679
(with caution and at your own risk.)150 698 R .68
(This is useful when you deal with br)5.679 F .68(oken PPP)-.18 F
(peer negotiating too low value while higher MTU is known to work.)150
710 Q 0 Cg EP
%%Page: 47 47
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(47)333.68 E/F1 10
/Courier@0 SF(set iface idle)120 96 Q/F2 10/Palatino-Italic@0 SF
(seconds)6 E/F3 10/Palatino-Roman@0 SF .971(Sets the idle timeout value\
 for the bundle. If no incoming or outgoing packets ar)150 108 R(e)-.18
E .245(transmitted for)150 120 R F2(seconds)2.745 E F3 .245
(seconds, the connection is br)2.745 F .245
(ought down. An idle timeout of)-.18 F(zer)150 132 Q 2.5(od)-.18 G
(isables this featur)-2.5 E(e.)-.18 E 1.102(When the idle timeout occur\
s, if the dial-on-demand option is enabled, mpd goes)150 150 R .965
(back into dial-on-demand mode. Otherwise, the interface is br)150 162 R
.966(ought down and all)-.18 F(associated r)150 174 Q(outes r)-.18 E
(emoved.)-.18 E(The default is 0.)150 192 Q F1(set iface session)120 210
Q F2(seconds)6 E F3 1.061(Sets the session timeout value for the bundle\
. An session timeout of zer)150 222 R 3.56(od)-.18 G(isables)-3.56 E
(this featur)150 234 Q(e.)-.18 E(The default is 0.)150 252 Q F1
(set iface up-script)120 270 Q F2(script)6 E F1(set iface down-script)
120 288 Q F2(script)6 E F3 2.83(Mpd can optionally r)150 306 R 2.831
(un a user pr)-.08 F 2.831(ogram every time one of network pr)-.18 F
(otocols)-.18 E .659(\(IPCP/IPv6CP\) at the interface is br)150 318 R
.658(ought up or down.)-.18 F(The)5.658 E/F4 10/Palatino-Bold@0 SF
(up-script)3.158 E F3 .658(is called like)3.158 F(this:)150 330 Q/F5 8
/Courier-Oblique@0 SF
(script interface proto local-ip remote-ip authname)170 346 Q/F6 8
/Courier@0 SF 4.8([d)4.8 G(ns1)-4.8 E F5(server-ip)4.8 E F6 4.8(][d)4.8
G(ns2)-4.8 E F5(server-ip)4.8 E F6(])4.8 E F5(peer-address)170 356 Q F3
(If up-script exit status is not 0, mpd will kill r)150 380 Q
(espective pr)-.18 E(otocol.)-.18 E(The)150 398 Q F4(down-script)2.5 E
F3(is called like this:)2.5 E F5
(script interface proto local-ip remote-ip authname peer-address)170 414
Q F1(set iface enable)120 438 Q F2(option ...)6 E F3 .3
(set iface disable)150 462 R F2 .3(option ...)2.8 F F3 5.3("E)C .3
(nable and disable the various interface layer options for)-5.3 F
(the bundle.)150 474 Q(The options available at the interface layer ar)
90 492 Q(e:)-.18 E F1(on-demand)120 510 Q F3 .881(This option causes th\
e interface to operate in dial-on-demand mode, allowing you)150 522 R
.514(to have a `)150 534 R .514(`virtual full time'' connection.)-.37 F
.515(An OPEN event causes the interface to be)5.514 F(con\214gur)150 546
Q .832(ed, but the actual connection of the link is delayed until quali\
fying outgo-)-.18 F .99(ing traf)150 558 R .99(\214c is detected. Mor)
-.18 F(eover)-.18 E 3.491(,a)-.74 G .991
(fter an idle timeout, the interface is not br)-3.491 F(ought)-.18 E
(down; further traf)150 570 Q(\214c will bring the link back up again.)
-.18 E(The default is disable.)150 588 Q F1(proxy-arp)120 606 Q F3 .679
(When this option is enabled, if after link negotiation the peer's IP a\
ddr)150 618 R .678(ess is deter)-.18 F(-)-.18 E .159(mined to lie on a \
local subnet, then mpd will arrange for the local machine to install)150
630 R 2.5(ap)150 642 S -.18(ro)-2.5 G(xy ARP entry for the r).18 E
(emote machine's IP addr)-.18 E(ess.)-.18 E 1.262
(For example, suppose the local machine lies on a LAN with addr)150 660
R 1.261(ess 192.168.1.10,)-.18 F 2.61
(and another machine will be connecting via mpd and using the LAN addr)
150 672 R(ess)-.18 E 3.469
(192.168.1.20. Then these commands would set up pr)150 684 R 3.469
(oxy ARP for the r)-.18 F(emote)-.18 E(machine:)150 696 Q F6
(set iface enable proxy-arp)170 712 Q
(set ipcp ranges 192.168.1.10/32 192.168.1.20/32)170 732 Q 0 Cg EP
%%Page: 48 48
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(48)333.68 E/F1 10
/Palatino-Roman@0 SF(The default is disable.)150 96 Q/F2 10/Courier@0 SF
(keep-timeout)120 114 Q F1 .044(When this option is enabled, we ar)150
126 R 2.544(en)-.18 G .044(ot clear `)-2.544 F .045
(`session timeout'' counter. This is use-)-.37 F
(ful together with CoA r)150 138 Q(equests.)-.18 E
(The default is disable.)150 156 Q F2(tcpmssfix)120 174 Q F1 1.594(This\
 option causes mpd to adjust incoming and outgoing TCP SYN segments so)
150 186 R .924(that the r)150 198 R .924
(equested maximum segment size is not gr)-.18 F .924
(eater than the amount allowed)-.18 F(by the interface MTU.)150 210 Q
1.587(This is necessary in many setups to avoid pr)150 228 R 1.587
(oblems caused by r)-.18 F 1.587(outers that dr)-.18 F(op)-.18 E 3.943
(ICMP Datagram T)150 240 R 3.943(oo Big messages.)-.92 F -.55(Wi)8.943 G
3.944(thout these messages, the originating).55 F .218
(machine sends data, it passes the r)150 252 R .218(ogue r)-.18 F .218
(outer then hits a machine that has an MTU)-.18 F .057
(that is not big enough for the data.)150 264 R .057
(Because the IP Don't Fragment option is set, this)5.057 F 2.132
(machine sends an ICMP Datagram T)150 276 R 2.131
(oo Big message back to the originator and)-.92 F(dr)150 288 Q 1.743
(ops the packet.)-.18 F 1.743(The r)6.743 F 1.743(ogue r)-.18 F 1.743
(outer dr)-.18 F 1.744(ops the ICMP message and the originator)-.18 F
1.276(never gets to discover that it must r)150 300 R 1.275
(educe the fragment size or dr)-.18 F 1.275(op the IP Don't)-.18 F
(Fragment option fr)150 312 Q(om its outgoing data.)-.18 E 6.975
(The code is based on tcpmssd wich was written by Ruslan Ermilov)150 330
R(<r)150 342 Q(u@Fr)-.08 E(eeBSD.or)-.18 E 2.478
(g> based on work done by Patrick Bihan-Faou <patrick@mind-)-.18 F
(step.com>.)150 354 Q(The default is disable.)150 372 Q F2(tee)120 390 Q
F1 1.034(If enabled, a ng_tee\(4\) node will be inserted into the bundl\
e graph, right after the)150 402 R
(interface node. The tee node can be useful for debugging or traf)150
414 Q(\214c accounting.)-.18 E(The default is disable.)150 432 Q F2(nat)
120 450 Q F1 .96(Enable NA)150 462 R 3.46(Tf)-.74 G .96(or this bundle.)
-3.46 F(See)5.96 E/F3 10/Palatino-Italic@0 SF .96(the NA)3.46 F 3.46(Tc)
-.55 G(hapter)-3.46 E F1 .96(\(section 4.14)3.46 F 3.46(,p)5 G .96
(age 63\) for mor)-3.46 F(e)-.18 E(information.)150 474 Q
(The default is disable.)150 492 Q F2(netflow-in)120 510 Q(netflow-out)
120 528 Q(netflow-once)120 546 Q F1 .589
(If enabled, the bundle will participate in NetFlow generation. See)150
558 R F3 .59(the NetFlow chap-)3.089 F(ter)150 570 Q F1 1.484
(\(section 4.12.1)3.984 F 3.984(,p)5 G 1.483(age 60\) for mor)-3.984 F
3.983(ei)-.18 G 1.483(nformation. The net\215ow-out option is like)
-3.983 F .064(net\215ow-in, but generates NetFlow data for outgoing pac\
kets instead of incoming.)150 582 R(If)5.064 E(net\215ow-once enabled -\
 packet will be accounted only once while in kernel.)150 594 Q
(The default is disable.)150 612 Q F2(ipacct)120 630 Q F1 .139(If enabl\
ed, the bundle will participate in IP accounting with ng_ipacct node.)
150 642 R(See)5.138 E F3(the)2.638 E(IP Accounting chapter)150 654 Q F1
(\(section 4.12.2)2.5 E 2.5(,p)5 G(age 61\) for mor)-2.5 E 2.5(ei)-.18 G
(nformation.)-2.5 E(The default is disable.)150 672 Q/F4 14
/Helvetica-Bold@0 SF 3.892(4.10 A)90 694 R(uthentication, A)-.42 E
(uthorization and Accounting \(AAA\))-.42 E F1 .492(Mpd curr)90 730 R
.492(ently supports authentication against \(tried in this or)-.18 F
(der\))-.18 E F3 .493(external script)2.993 F F1 .493(\(section 4.10.2)
2.993 F(,)5 E 8.541(page 56\),)90 742 R F3(RADIUS)11.041 E F1 8.541
(\(section 4.10.1)11.041 F 11.041(,p)5 G 8.541(age 50\), P)-11.041 F
8.541(AM, systems passwor)-.92 F 11.041(dd)-.18 G(atabase)-11.041 E 0 Cg
EP
%%Page: 49 49
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(49)333.68 E/F1 10
/Palatino-Roman@0 SF(\()90 96 Q/F2 10/Courier@0 SF(master.passwd)A F1
(\), OPIE and internal)A F2(mpd.secret)2.5 E F1(\214le.)2.5 E .596
(This chapter describes commands that con\214gur)90 114 R 3.096(et)-.18
G .596(he Authentication subsystem of LCP layer. All)-3.096 F
(of these commands apply to the curr)90 126 Q(ently active link.)-.18 E
F2(set auth authname)120 144 Q/F3 10/Palatino-Italic@0 SF(login)6 E F1
.079(This command sets the authentication login name associated with th\
e link \(in multi-)150 156 R .423(link PPP)150 168 R 2.923(,t)-1.29 G
.424(hough each link is authenticated individually)-2.923 F 2.924(,t)
-1.11 G .424(hey all must use the same)-2.924 F .823(login name\). The)
150 180 R F3(login)3.323 E F1 .823(may have a corr)3.323 F .822
(esponding entry in)-.18 F F2(mpd.secret)3.322 E F1 3.322(.T)C(he)-3.322
E F3(login)3.322 E F1(and passwor)150 192 Q 2.5(da)-.18 G .36 -.18(re u)
-2.5 H(sed when the peer r).18 E(equir)-.18 E
(es us to authenticate ourselves.)-.18 E F2(set auth password)120 210 Q
F3(password)6 E F1 .124
(This command is normally not necessary. It causes mpd to)150 222 R F3
(not)2.624 E F1 .124(lookup the passwor)2.624 F(d)-.18 E(corr)150 234 Q
.358(esponding to)-.18 F F3(login)2.858 E F1(in)2.858 E F2(mpd.secret)
2.858 E F1 2.858(,b)C .357(ut rather to use)-2.858 F F3(password)2.857 E
F1 .357(instead. If you'r)2.857 F(e)-.18 E .133(too lazy to set up)150
246 R F2(mpd.secret)2.633 E F1 .133(and ar)2.633 F 2.633(eo)-.18 G .134
(nly dialing out, you can use this command)-2.633 F(instead.)150 258 Q
F2(set auth max-logins)120 276 Q F3(num)6 E F1([CI])2.5 E .358
(Limit the max. amount of concurr)150 288 R .358
(ent logins with the same username.)-.18 F .357(If set to zer)5.358 F
(o,)-.18 E 1.395(then this featur)150 300 R 3.895(ei)-.18 G 3.895(sd)
-3.895 G 1.395(isabled. If CI ar)-3.895 F 1.395(gument is pr)-.18 F
1.396(esent login comparasion will be)-.18 F(case insensitive.)150 312 Q
F2(set auth acct-update)120 330 Q F3(seconds)6 E F1
(Enables periodic accounting updates, if set to a value gr)150 342 Q
(eater then zer)-.18 E(o.)-.18 E F2(set auth timeout)120 360 Q F3
(seconds)6 E F1 1.814(Sets the timeout for the whole authentication pr)
150 372 R 4.314(ocess. It)-.18 F 1.814(defaults to 40 seconds.)4.314 F
.58(Under some cir)150 384 R .581
(cumstances the value should be changed; it usually depends on the)-.18
F 1.269(authentication backend and pr)150 396 R 3.769(otocol. E.g.)-.18
F 1.269(when using EAP with a slow RADIUS)3.769 F
(server this value should be incr)150 408 Q(eased.)-.18 E F2
(set auth extauth-script)150 438 Q F3(script)6 E F1 2.504
(set auth extacct-script)150 462 R F3(script)5.004 E F1 5.004("S)C 2.504
(ets scripts names for external authentication and)-5.004 F(accounting.)
150 474 Q F2(set auth enable)150 504 Q F3(option ...)6 E F1
(set auth disable)150 528 Q F3(option ...)2.5 E F1(")A
(The options available ar)90 546 Q(e:)-.18 E F2(internal)120 564 Q F1
(Enables authentication against the)150 576 Q F2(mpd.secret)2.5 E F1
(\214le.)2.5 E(Default)150 594 Q/F4 10/Palatino-Bold@0 SF(enable)2.5 E
F1(.)A F2(radius-auth)120 612 Q F1 2.596
(Enable authentication via RADIUS. For details see)150 624 R F3 2.596
(the RADIUS chapter)5.096 F F1(\(section)5.096 E 2.5(4.10.1 ,)150 636 R
(page 50\).)2.5 E(Default)150 654 Q F4(disable)2.5 E F1(.)A F2
(radius-acct)120 672 Q F1 .337
(Enable per link accounting via RADIUS. For details see)150 684 R F3
.338(the RADIUS chapter)2.838 F F1(\(section)2.838 E 2.5(4.10.1 ,)150
696 R(page 50\).)2.5 E(Default)150 714 Q F4(disable)2.5 E F1(.)A 0 Cg EP
%%Page: 50 50
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(50)333.68 E/F1 10
/Courier@0 SF(ext-auth)120 96 Q/F2 10/Palatino-Roman@0 SF 1.961
(Enable authentication by calling external script.)150 108 R 1.961
(This method pr)6.961 F 1.961(etended to be a)-.18 F(fullfeatur)150 120
Q .581(ed alternative to the)-.18 F/F3 10/Palatino-Bold@0 SF
(radius-auth)3.081 E F2 3.081(.F)C .581(or details see)-3.081 F/F4 10
/Palatino-Italic@0 SF .581(the External authentication)3.081 F(chapter)
150 132 Q F2(\(section 4.10.2)2.5 E 2.5(,p)5 G(age 56\).)-2.5 E(Default)
150 150 Q F3(disable)2.5 E F2(.)A F1(ext-acct)120 168 Q F2 .207
(Enable accounting by calling external script.)150 180 R .207
(This method pr)5.207 F .206(etended to be a fullfea-)-.18 F(tur)150 192
Q .484(ed alternative to the)-.18 F F3(radius-acct)2.984 E F2 2.984(.F)C
.485(or details see)-2.984 F F4 .485
(the External authentication chapter)2.985 F F2(\(section 4.10.2)150 204
Q 2.5(,p)5 G(age 56\).)-2.5 E(Default)150 222 Q F3(disable)2.5 E F2(.)A
F1(pam-auth)120 240 Q F2 1.5(Enables authentication using P)150 252 R
1.5(AM service "mpd".)-.92 F 1.5(This options can only be used)6.5 F
(with P)150 264 Q(AP.)-.92 E(Default)150 282 Q F3(disable)2.5 E F2(.)A
F1(pam-acct)120 300 Q F2(Enable accounting using P)150 312 Q
(AM service "mpd".)-.92 E(Default)150 330 Q F3(disable)2.5 E F2(.)A F1
(system-auth)120 348 Q F2 1.764
(Enables authentication against the systems passwor)150 360 R 4.265(dd)
-.18 G 4.265(atabase. This)-4.265 F 1.765(options can)4.265 F .925
(only be used with P)150 372 R .925(AP and MS-CHAP)-.92 F 3.425(,b)-1.29
G .925(ut not with CHAP-MD5. If you intend to)-3.425 F .869
(use this with MS-CHAP)150 384 R 3.369(,t)-1.29 G .869(hen the passwor)
-3.369 F .869(ds in the)-.18 F F1(master.passwd)3.369 E F2 .87
(must be NT)3.369 F(-)-.55 E 6.737(Hashes. Y)150 396 R 4.237
(ou can enable this by putting)-.92 F F1(:passwd_format=nth:)6.736 E F2
4.236(into your)6.736 F F1(/etc/login.conf)150 408 Q F2 2.5(,b)C
(ut you need at least Fr)-2.5 E(eeBSD 5.2.)-.18 E(Default)150 426 Q F3
(disable)2.5 E F2(.)A F1(system-acct)120 444 Q F2
(Enable accounting via utmp/wtmp.)150 456 Q(Default)150 474 Q F3
(disable)2.5 E F2(.)A F1(opie)120 492 Q F2 1.234
(Enables authentication using OPIE.)150 504 R 1.234(When using P)6.234 F
1.235(AP ther)-.92 F 3.735(ei)-.18 G 3.735(sn)-3.735 G 1.235(othing mor)
-3.735 F 3.735(et)-.18 G(odo.)-3.735 E 3.098
(For all other authentication pr)150 516 R 3.097
(otocols you have to put the username into the)-.18 F F1(mpd.secret)150
528 Q F2 2.43(\214le, but the speci\214ed passwor)4.93 F 4.93(di)-.18 G
4.93(st)-4.93 G 2.43(hen interpr)-4.93 F 2.43(eted as secr)-.18 F 2.43
(et pass)-.18 F .026(phrase. This is needed, because Mpd must be awar)
150 540 R 2.525(eo)-.18 G 2.525(ft)-2.525 G .025(he plaintext passwor)
-2.525 F 2.525(dw)-.18 G(hen)-2.525 E .395(using CHAP.)150 552 R .395
(The \(windows\) endusers could generate their actual r)5.395 F .395
(esponses them-)-.18 F(selfs using W)150 564 Q(inkey.)-.55 E F3(IMPOR)
150 588 Q -.92(TA)-.55 G(NT).92 E F2 4.518(:D)C 2.018
(isable the internal authentication when using OPIE and CHAP)-4.518 F(,)
-1.29 E(because otherwise users ar)150 600 Q 2.5(ea)-.18 G
(lso able to authenticate with their secr)-2.5 E(et pass phrase.)-.18 E
(Default)150 618 Q F3(disable)2.5 E F2(.)A F1(acct-mandatory)120 636 Q
F2 1.129(Makes accounting start mandatory. If enabled, on accounting st\
art failur)150 648 R 3.629(ec)-.18 G(onnec-)-3.629 E(tion will be dr)150
660 Q(opped.)-.18 E(Default)150 678 Q F3(enable)2.5 E F2(.)A/F5 12
/Helvetica-Bold@0 SF 3.336(4.10.1 RADIUS)90 698 R F2 .536
(This chapter describes RADIUS authentication backend.)90 734 R .536
(Mpd supports both user authentication)5.536 F 0 Cg EP
%%Page: 51 51
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(51)333.68 E/F1 10
/Palatino-Roman@0 SF 1.755(and session accounting using RADIUS.)90 96 R
1.755(RADIUS-Accounting and RADIUS-Authentication ar)6.755 F(e)-.18 E
(independant so it is possible to use them in any combination.)90 108 Q
4.038(All authentication methods ar)90 126 R 6.538(es)-.18 G 4.038
(upported with RADIUS \(P)-6.538 F(AP)-.92 E 6.538(,C)-1.29 G(HAP)-6.538
E 6.538(,M)-1.29 G 4.038(S-CHAPv1, MS-)-6.538 F(CHAPv2, EAP\). Passwor)
90 138 Q 2.5(dc)-.18 G(hanging is curr)-2.5 E(ently not supported.)-.18
E(All of these commands apply to the curr)90 156 Q(ently active link.)
-.18 E/F2 10/Courier@0 SF(set radius server)120 174 Q/F3 10
/Palatino-Italic@0 SF(name secr)6 E(et)-.18 E F1([)2.5 E F3(auth-port)
2.5 E F1([)2.5 E F3(acct-port)2.5 E F1(]])2.5 E(Con\214gur)150 186 Q
2.545(eR)-.18 G .046
(ADIUS server parameters. Multiple RADIUS servers may be con\214gur)
-2.545 F(ed)-.18 E 2.563(by r)150 198 R 2.562
(epeating this command, and up to 10 servers may be speci\214ed.)-.18 F
2.562(If one of)7.562 F
(auth/acct ports speci\214ed as 0, it will not be used for r)150 210 Q
(equests of that type.)-.18 E F2(unset radius server)120 228 Q F3(name)6
E F1([)2.5 E F3(auth-port)2.5 E F1([)2.5 E F3(acct-port)2.5 E F1(]])2.5
E(Deletes cpeci\214c RADIUS server fr)150 240 Q(om pool.)-.18 E F2
(set radius src-addr)120 258 Q F3(ipaddr)6 E F1(Con\214gur)150 270 Q
2.562(eI)-.18 G 2.562(Pa)-2.562 G(ddr)-2.562 E .062
(ess on the multihomed host that is used as a sour)-.18 F .062(ce addr)
-.18 F .062(ess for all)-.18 F -.18(re)150 282 S(quests.).18 E F2
(set radius timeout)120 300 Q F3(seconds)6 E F1
(Set the timeout for completion of RADIUS r)150 312 Q(equests.)-.18 E
(The default is 5 second.)150 330 Q F2(set radius retries)120 348 Q F3
(#r)6 E(etries)-.18 E F1(Set the number of r)150 360 Q
(etries for RADIUS r)-.18 E(equests.)-.18 E(The default is 3 r)150 378 Q
(etries.)-.18 E F2(set radius me)120 396 Q F3(IP)6 E F1(|)A F3(ifname)A
F1(|)A F3(hostname)A F1
(Send the given IP in the RAD_NAS_IP_ADDRESS attribute to the server.)
150 408 Q F2(set radius v6me)120 426 Q F3(IPv6)6 E F1
(Send the given IP in the RAD_NAS_IPV6_ADDRESS attribute to the server.)
150 438 Q F2(set radius identifier)120 456 Q F3(name)6 E F1 .826
(Send the given name in the RAD_NAS_IDENTIFIER attribute to the server.)
150 468 R .825(If not)5.825 F(set the local hostname is used.)150 480 Q
F2(set radius enable message-authentic)120 498 Q F1 1.488
(Adds the Message-Authenticator attribute to the RADIUS r)150 510 R
3.988(equest. The)-.18 F(Message-)3.988 E 2.412
(Authenticator is an HMAC-MD5 checksum of the entir)150 522 R 4.912(eA)
-.18 G 2.412(ccess-Request packet)-4.912 F .941(using the shar)150 534 R
.941(ed secr)-.18 F .941(et as the key. This should pr)-.18 F .942
(otect the RADIUS server against)-.18 F 1.222
(online dictionary attacks.)150 546 R 1.221
(This is mandatory when using the EAP-RADIUS-Pr)6.221 F(oxy)-.18 E
(and it's implicitly added to the r)150 558 Q(equest by Mpd.)-.18 E
(RADIUS internals)120 576 Q(RADIUS attributes supported by mpd:)150 594
Q 0 Cg EP
%%Page: 52 52
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(52)333.68 E/F1 8
/Courier@0 SF 14.4(NN)170 94 S 151.2(ame Access)-14.4 F(Accounting)33.6
E 16.8(Req Resp)314 104 R 16.8(Req Resp)16.8 F 14.4(1U)170 114 S 76.8
(ser-Name +)-14.4 F 31.2(++-)31.2 G 14.4(2U)170 124 S 57.6
(ser-Password +)-14.4 F 31.2(---)31.2 G 14.4(3C)170 134 S 57.6
(HAP-Password +)-14.4 F 31.2(---)31.2 G 14.4(4N)170 144 S 52.8
(AS-IP-Address +)-14.4 F 31.2(-+-)31.2 G 14.4(5N)170 154 S 81.6
(AS-Port +)-14.4 F 31.2(-+-)31.2 G 14.4(6S)170 164 S 62.4(ervice-Type +)
-14.4 F 31.2(-+-)31.2 G 14.4(7F)170 174 S 48(ramed-Protocol +)-14.4 F
31.2(-+-)31.2 G 14.4(8F)170 184 S 38.4(ramed-IP-Address -)-14.4 F 31.2
(++-)31.2 G 14.4(9F)170 194 S 38.4(ramed-IP-Netmask -)-14.4 F 31.2(++-)
31.2 G 4.8(11 Filter-Id)170 204 R 31.2(-+--)81.6 G 4.8(12 Framed-MTU)170
214 R 31.2(-+--)76.8 G 4.8(13 Framed-Compression)170 224 R 31.2(-+--)
38.4 G 4.8(18 Reply-Message)170 234 R 31.2(-+--)62.4 G 4.8
(22 Framed-Route)170 244 R 31.2(-+--)67.2 G 4.8(24 State)170 254 R 31.2
(+++-)100.8 G 4.8(25 Class)170 264 R 31.2(-++-)100.8 G 4.8
(27 Session-Timeout)170 274 R 31.2(-+--)52.8 G 4.8(28 Idle-Timeout)170
284 R 31.2(-+--)67.2 G 4.8(30 Called-Station-Id)170 294 R 31.2(+-+-)43.2
G 4.8(31 Calling-Station-Id)170 304 R 31.2(+-+-)38.4 G 4.8
(32 NAS-Identifier)170 314 R 31.2(+-+-)57.6 G 4.8(40 Acct-Status-Type)
170 324 R 31.2(--+-)48 G 4.8(42 Acct-Input-Octets)170 334 R 31.2(--+-)
43.2 G 4.8(43 Acct-Output-Octets)170 344 R 31.2(--+-)38.4 G 4.8
(44 Acct-Session-Id)170 354 R 31.2(+-+-)52.8 G 4.8(45 Acct-Authentic)170
364 R 31.2(--+-)57.6 G 4.8(46 Acct-Session-Time)170 374 R 31.2(--+-)43.2
G 4.8(47 Acct-Input-Packets)170 384 R 31.2(--+-)38.4 G 4.8
(48 Acct-Output-Packets)170 394 R 31.2(--+-)69.6 G 4.8
(49 Acct-Terminate-Cause)170 404 R 31.2(--+-)28.8 G 4.8
(50 Acct-Multi-Session-Id)170 414 R 31.2(--+-)24 G 4.8
(51 Acct-Link-Count)170 424 R 31.2(--+-)52.8 G 4.8
(52 Acct-Input-Gigawords)170 434 R 31.2(--+-)28.8 G 4.8
(53 Acct-Output-Gigawords)170 444 R 31.2(--+-)24 G 4.8
(60 CHAP-Challenge)170 454 R 31.2(+---)57.6 G 4.8(61 NAS-Port-Type)170
464 R 31.2(+-+-)62.4 G 4.8(64 Tunnel-Type)170 474 R 31.2(+-+-)108 G 4.8
(65 Tunnel-Medium-Type)170 484 R 31.2(+-+-)38.4 G 4.8
(66 Tunnel-Client-Endpoint)170 494 R 31.2(+-+-)19.2 G 4.8
(67 Tunnel-Server-Endpoint)170 504 R 31.2(+-+-)19.2 G 4.8
(85 Acct-Interim-Interval)170 514 R 31.2(-+--)24 G 4.8(87 NAS-Port-Id)
170 524 R 31.2(+-+-)108 G 4.8(88 Framed-Pool)170 534 R 31.2(-+--)108 G
4.8(90 Tunnel-Client-Auth-ID)170 544 R 31.2(+-+-)24 G 4.8
(91 Tunnel-Server-Auth-ID)170 554 R 31.2(+-+-)24 G 4.8
(95 NAS-IPv6-Address)170 564 R 31.2(+-+-)48 G 4.8(99 Framed-IPv6-Route)
170 574 R 31.2(-+--)43.2 G(Microsoft VSA \(311\))189.2 594 Q 14.4(1M)170
604 S 43.2(S-CHAP-Response +)-14.4 F 31.2(---)31.2 G 14.4(2M)170 614 S
57.6(S-CHAP-Error -)-14.4 F 31.2(+--)31.2 G 14.4(7M)170 624 S
(S-MPPE-Encryption-Policy -)-14.4 E 31.2(+--)31.2 G 14.4(8M)170 634 S
4.8(S-MPPE-Encryption-Types -)-14.4 F 31.2(+--)31.2 G 4.8
(10 MS-CHAP-Domain)170 644 R 31.2(-+--)57.6 G 4.8(11 MS-CHAP-Challenge)
170 654 R 31.2(+---)43.2 G 4.8(12 MS-CHAP-MPPE-Keys)170 664 R 31.2(-+--)
43.2 G 4.8(16 MS-MPPE-Send-Key)170 674 R 31.2(-+--)48 G 4.8
(17 MS-MPPE-Recv-Key)170 684 R 31.2(-+--)48 G 4.8(25 MS-CHAP2-Response)
170 694 R 31.2(+---)43.2 G 4.8(26 MS-CHAP2-Success)170 704 R 31.2(-+--)
48 G 4.8(28 MS-Primary-DNS-Server)170 714 R 31.2(-+--)24 G 4.8
(29 MS-Secondary-DNS-Server)170 724 R 31.2(-+--)14.4 G 4.8
(30 MS-Primary-NBNS-Server)170 734 R 31.2(-+--)19.2 G 0 Cg EP
%%Page: 53 53
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(53)333.68 E/F1 8
/Courier@0 SF 4.8(31 MS-Secondary-NBNS-Server -)170 94 R 31.2(+--)31.2 G
(DSL Forum VSA \(3561\))189.2 114 Q 14.4(1A)170 124 S 19.2
(DSL-Agent-Circuit-Id +)-14.4 F 31.2(-+-)31.2 G 14.4(2A)170 134 S 24
(DSL-Agent-Remote-Id +)-14.4 F 31.2(-+-)31.2 G(mpd VSA \(12341\))189.2
154 Q 14.4(1m)170 164 S 81.6(pd-rule -)-14.4 F 31.2(+--)31.2 G 14.4(2m)
170 174 S 81.6(pd-pipe -)-14.4 F 31.2(+--)31.2 G 14.4(3m)170 184 S 76.8
(pd-queue -)-14.4 F 31.2(+--)31.2 G 14.4(4m)170 194 S 76.8(pd-table -)
-14.4 F 31.2(+--)31.2 G 14.4(5m)170 204 S 43.2(pd-table-static -)-14.4 F
31.2(+--)31.2 G 14.4(6m)170 214 S 72(pd-filter -)-14.4 F 31.2(+--)31.2 G
14.4(7m)170 224 S 76.8(pd-limit -)-14.4 F 31.2(+--)31.2 G 14.4(8m)170
234 S 43.2(pd-input-octets -)-14.4 F 31.2(-+-)31.2 G 14.4(9m)170 244 S
38.4(pd-input-packets -)-14.4 F 31.2(-+-)31.2 G 4.8
(10 mpd-output-octets)170 254 R 31.2(--+-)43.2 G 4.8
(11 mpd-output-packets)170 264 R 31.2(--+-)38.4 G 4.8(12 mpd-link)170
274 R 31.2(+-+-)86.4 G 4.8(13 mpd-bundle)170 284 R 31.2(--+-)76.8 G 4.8
(14 mpd-iface)170 294 R 31.2(--+-)81.6 G 4.8(15 mpd-iface-index)170 304
R 31.2(--+-)52.8 G 4.8(16 mpd-input-acct)170 314 R 31.2(-+--)57.6 G 4.8
(17 mpd-output-acct)170 324 R 31.2(-+--)52.8 G 4.8(18 mpd-action)170 334
R 31.2(-+--)76.8 G 4.8(19 mpd-peer-ident)170 344 R 31.2(+-+-)57.6 G 4.8
(20 mpd-iface-name)170 354 R 31.2(-+--)57.6 G 4.8(21 mpd-iface-descr)170
364 R 31.2(-+--)52.8 G 4.8(22 mpd-iface-group)170 374 R 31.2(-+--)52.8 G
(154 mpd-drop-user)170 384 Q 31.2(---+)62.4 G/F2 10/Palatino-Roman@0 SF
1.84 -.92(To u)150 408 T
(se mpd VSA you should add such dictionary to your RADIUS server:).92 E
0 Cg EP
%%Page: 54 54
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(54)333.68 E/F1 8
/Courier@0 SF
(#----------------------------------------------------------)170 94 Q
4.8(#d)170 104 S(ictionary.mpd)-4.8 E 43.2(VENDOR mpd)170 124 R(12341)
62.4 E 9.6(BEGIN-VENDOR mpd)170 144 R 24(ATTRIBUTE mpd-rule)170 164 R
31.2(1s)33.6 G(tring)-31.2 E 24(ATTRIBUTE mpd-pipe)170 174 R 31.2(2s)
33.6 G(tring)-31.2 E 24(ATTRIBUTE mpd-queue 3)170 184 R(string)31.2 E 24
(ATTRIBUTE mpd-table 4)170 194 R(string)31.2 E 24
(ATTRIBUTE mpd-table-static)170 204 R 31.2(5s)31.2 G(tring)-31.2 E 24
(ATTRIBUTE mpd-filter)170 214 R 31.2(6s)24 G(tring)-31.2 E 24
(ATTRIBUTE mpd-limit 7)170 224 R(string)31.2 E 24
(ATTRIBUTE mpd-input-octets)170 234 R 31.2(8s)31.2 G(tring)-31.2 E 24
(ATTRIBUTE mpd-input-packets)170 244 R 31.2(9s)26.4 G(tring)-31.2 E 24
(ATTRIBUTE mpd-output-octets)170 254 R 21.6(10 string)26.4 F 24
(ATTRIBUTE mpd-output-packets)170 264 R 21.6(11 string)21.6 F 24
(ATTRIBUTE mpd-link)170 274 R 21.6(12 string)33.6 F 24
(ATTRIBUTE mpd-bundle)170 284 R 21.6(13 string)24 F 24
(ATTRIBUTE mpd-iface 14)170 294 R(string)26.4 E 24
(ATTRIBUTE mpd-iface-index)170 304 R 21.6(15 integer)36 F 24
(ATTRIBUTE mpd-input-acct)170 314 R 21.6(16 string)4.8 F 24
(ATTRIBUTE mpd-output-acct)170 324 R 21.6(17 string)36 F 24
(ATTRIBUTE mpd-action)170 334 R 21.6(18 string)24 F 24
(ATTRIBUTE mpd-peer-ident)170 344 R 21.6(19 string)4.8 F 24
(ATTRIBUTE mpd-iface-name)170 354 R 21.6(20 string)4.8 F 24
(ATTRIBUTE mpd-iface-descr)170 364 R 21.6(21 string)36 F 24
(ATTRIBUTE mpd-iface-group)170 374 R 21.6(22 string)36 F 24
(ATTRIBUTE mpd-drop-user)170 384 R 16.8(154 integer)9.6 F 19.2
(END-VENDOR mpd)170 404 R
(#----------------------------------------------------------)170 414 Q
/F2 10/Palatino-Roman@0 SF 1.86(Mpd allows RADIUS server to terminate u\
ser session by setting vendor speci\214c)150 438 R(mpd-dr)150 450 Q
(op-user attribute to nonzer)-.18 E 2.5(ov)-.18 G
(alue in accounting start/update r)-2.5 E(eply packet.)-.18 E
(RADIUS ACL's)120 468 Q 1.356(Mpd can use the Access Contr)150 486 R
1.356(ol Lists \(ACLs\) given by the RADIUS server.)-.18 F(This)6.356 E
.042(ACLs may include ipfw r)150 498 R .042
(ules, pipes, queues and tables and also mpd internal traf)-.08 F<8c63>
-.18 E .634(\214ltering/shaping/limiting featur)150 510 R .634
(es. That two sets ar)-.18 F 3.133(er)-.18 G .633(edundant. ipfw pr)
-3.313 F .633(oposed as)-.18 F(standar)150 522 Q 5.905(da)-.18 G 3.405
(nd universal solution, while internal \214lter/shaper/limiter based on)
-5.905 F
(ng_bpf+ng_car expected to work faster with big number of active links.)
150 534 Q(ipfw)120 552 Q -.92(Yo)150 570 S 2.5(uc).92 G
(an write in your RADIUS con\214guration something like:)-2.5 E F1
(mpd-table += "1=10.0.0.1",)170 586 Q(mpd-table += "1=10.0.0.15",)170
596 Q(mpd-pipe += "1=bw 10Kbyte/s",)170 606 Q
(mpd-pipe += "5=bw 20Kbyte/s",)170 616 Q
(mpd-rule += "1=pipe %p1 all from any to table\\\\\(%t1\\\\\) in",)170
626 Q
(mpd-rule += "2=pipe %p5 all from table\\\\\(%t1\\\\\) to any out",)170
636 Q(mpd-rule += "100=allow all from any to any",)170 646 Q F2 1.908
(When mpd r)150 670 R 1.908
(eceives these parameters it will call ipfw\(8\) to cr)-.18 F 1.907
(eate \214r)-.18 F 1.907(ewall r)-.18 F(ules,)-.08 E 1.231
(pipes and queues with unique numbers starting fr)150 682 R 1.231
(om 10000 \(con\214gurable via 'set)-.18 F 1.184
(global start...'\). %rX, %pX, %qX, %tX and %aX macr)150 694 R 1.183
(oses will be expanded within)-.18 F(mpd-r)150 706 Q .268
(ule and mpd-queue.)-.08 F 2.108 -.92(To t)5.268 H .269
(he end of each r).92 F .269(ule will be added "via ngX" to make)-.08 F
(the r)150 718 Q(ule apply only to that client's networking interface.)
-.08 E(Allowed macr)150 736 Q(oses:)-.18 E 0 Cg EP
%%Page: 55 55
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(55)333.68 E/F1 8
/Courier@0 SF(%rX IPFW rule pool)170 94 Q(%pX IPFW pipe pool)170 104 Q
(%qX IPFW queue pool)170 114 Q(%tX IPFW table pool)170 124 Q
(%a1 peer negotiated IP address)170 134 Q
(%a2 self negotiated IP address)170 144 Q/F2 10/Palatino-Roman@0 SF
(As a r)150 168 Q
(esult of this example we would get these commands executed:)-.18 E F1
(ipfw table 32 add 10.0.0.1)170 184 Q(ipfw table 32 add 10.0.0.15)170
194 Q(ipfw pipe 10000 config bw 10Kbyte/s)170 204 Q
(ipfw pipe 10001 config bw 20Kbyte/s)170 214 Q
(ipfw add 10000 pipe 10000 all from any to table\\\(32\\\) in via ng0)
170 224 Q
(ipfw add 10001 pipe 10001 all from table\\\(32\\\) to any out via ng0)
170 234 Q(ipfw add 10002 allow all from any to any via ng0)170 244 Q F2
(When the link goes down, all cr)150 274 Q(eated r)-.18 E
(ules will be r)-.08 E(emoved.)-.18 E .831(Note: As soon as mpd execute\
s ipfw commands using shell, shell's special charac-)150 292 R
(ters like "\(" and "\)" must be slashed.)150 304 Q -.92(Yo)150 322 S
3.37(uc).92 G .87(an specify)-3.37 F/F3 10/Palatino-Italic@0 SF .87
(mpd-table += "1=peer_addr")3.37 F F2 .87
(to use mpd-table with the peer negoti-)3.37 F(ated IP addr)150 334 Q
(ess.)-.18 E(internal \(ng_bpf/ng_car\))120 352 Q 1.405(Mpd can cr)150
370 R 1.405(eate complex per)-.18 F 1.404(-interface traf)-.18 F 1.404
(\214c \214ltering/limiting engines inside net-)-.18 F
(graph when it is r)150 382 Q
(equested by mpd-\214lter and mpd-limit RADIUS attributes.)-.18 E .734(\
mpd-\214lter attribute is a packet \214lter declaration for using in mp\
d-limit.)150 400 R(mpd-\214lter)5.735 E 1.737
(consists of two main parts: match/nomatch ver)150 412 R 1.737
(dict and the condition.)-.18 F(tcpdump)6.737 E(\(libpcap\) expr)150 424
Q(ession syntax used for conditions.)-.18 E(mpd-\214lter:)150 442 Q F3
(match)2.5 E F2(|)A F3(nomatch {condition})A F2 .519(mpd-limit attribut\
e is an action which should be done for packet. It consists of two)150
460 R(main parts: \214lter and action.)150 472 Q(mpd-limit:)150 490 Q F3
({\214lter} {action})2.5 E F2 .042(Filter can be or "all" \(any packet\
\) or "\215tX" \(packets matching to speci\214ed mpd-\214lter\).)150 508
R(\214lter:)150 526 Q F3(any)2.5 E F2(|)A F3(\215tX)A F2 2.98
(Action can be: "" \(do nothing, just account\), "pass" \(stop pr)150
544 R 2.98(ocessing and pass)-.18 F 1.226(packet\), "deny" \(stop pr)150
556 R 1.226(ocessing and dr)-.18 F 1.226
(op packet\), "rate-limit" \(do Cisco-like rate-)-.18 F
(limit\), "shape" \(do simple RED awar)150 568 Q 2.5(et)-.18 G(raf)-2.5
E(\214c shaping\).)-.18 E 1.09
(Actions "rate-limit" and "shape" can have optional "pass" suf)150 586 R
1.09(\214x to stop pr)-.18 F(ocessing)-.18 E(after doing this action.)
150 598 Q 6.678(action: |)150 616 R F3(pass)6.678 E F2(|)6.678 E F3
(deny)6.678 E F2(|)6.678 E F3 4.178(rate-limit {rate\(bits/s\)})6.678 F
F2([)6.678 E F3 4.178({normal burst\(bytes\)})B F2([)6.678 E F3
({extended)A(burst\(bytes\)})150 628 Q F2(]] [)A F3(pass)A F2 2.5(]|)C
F3(shape {rate\(bits/s\)})A F2([)2.5 E F3({burst\(bytes\)})A F2 2.5(][)C
F3(pass)-2.5 E F2(])A(As example you can write in your RADIUS con\214gu\
ration something like:)150 646 Q F1
(mpd-filter += "1#1=nomatch dst net 10.0.0.0/24",)170 662 Q
(mpd-filter += "1#2=match dst net 10.0.0.0/8",)170 672 Q
(mpd-filter += "2#1=nomatch src net 10.0.0.0/24",)170 682 Q
(mpd-filter += "2#2=match src net 11.0.0.0/8",)170 692 Q
(mpd-limit += "in#1=flt1 pass",)170 702 Q
(mpd-limit += "in#2#Biz=all shape 64000 4000",)170 712 Q
(mpd-limit += "out#1=flt2 pass",)170 722 Q
(mpd-limit += "out#2#Biz=all rate-limit 1024000 150000 300000",)170 732
Q 0 Cg EP
%%Page: 56 56
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(56)333.68 E/F1 10
/Palatino-Roman@0 SF 1.134(As r)150 96 R 1.134
(esult, one ng_bpf node will be cr)-.18 F 1.135(eated to implement traf)
-.18 F 1.135(\214c \214lters and several)-.18 F .646
(\(two for this example\) ng_car nodes for traf)150 108 R .645
(\214c shaping and rate-limiting. Incoming)-.18 F(traf)150 120 Q .528
(\214c to 10.0.0.0/8 except 10.0.0.0/24 will be passed, other traf)-.18
F .529(\214c will be shaped to)-.18 F 1.963(64Kbits/s. Outgoing traf)150
132 R 1.963(\214c fr)-.18 F 1.963
(om 10.0.0.0/8 except 10.0.0.0/24 will be passed, all)-.18 F .331
(other will be limited to 1024Kbit/s. Also traf)150 144 R .332
(\214c that passed mpd-limit r)-.18 F .332(ules marked)-.08 F .276
("Biz" will be accor)150 156 R .276(dingly accounted and pr)-.18 F .276
(esent with that name in AAA accounting)-.18 F -.18(re)150 168 S
(quests.).18 E/F2 12/Helvetica-Bold@0 SF 3.336(4.10.2 External)90 188 R
(authentication)3.336 E F1 1.428(Mpd supports authentication and accoun\
ting by calling external scripts.)90 224 R 1.429(Pathes to that scripts)
6.429 F(must be speci\214ed using)90 236 Q/F3 10/Palatino-Bold@0 SF
(set auth extauth-script ...)2.5 E F1(and)5 E F3
(set auth extacct-script ...)2.5 E F1(commands.)2.5 E .87
(On invocation extauth/extacct scripts r)90 254 R .87
(eceive on stdin set of r)-.18 F .87
(equest attribute:value pairs termi-)-.18 F
(nated by empty line and must generate r)90 266 Q
(esponse in same format on stdout.)-.18 E(Supported attributes:)90 284 Q
0 Cg EP
%%Page: 57 57
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(57)333.68 E/F1 8
/Courier@0 SF 134.4(Name Access)110 94 R(Accounting)33.6 E 16.8
(Req Resp)254 104 R 16.8(Req Resp)16.8 F 96(USER_NAME +)110 114 R 31.2
(++-)31.2 G 96(AUTH_TYPE +)110 124 R 31.2(---)31.2 G 76.8
(USER_PASSWORD +)110 134 R 31.2(+--)31.2 G 81.6(USER_NT_HASH -)110 144 R
31.2(+--)31.2 G 81.6(USER_LM_HASH -)110 154 R 31.2(+--)31.2 G 120
(LINK +)110 164 R 31.2(-+-)31.2 G 100.8(NAS_PORT +)110 174 R 31.2(-+-)
31.2 G 76.8(NAS_PORT_TYPE +)110 184 R 31.2(-+-)31.2 G 52.8
(CALLING_STATION_ID +)110 194 R 31.2(-+-)31.2 G 57.6
(CALLED_STATION_ID +)110 204 R 31.2(-+-)31.2 G 96(SELF_NAME +)110 214 R
31.2(-+-)31.2 G 96(PEER_NAME +)110 224 R 31.2(-+-)31.2 G 96(SELF_ADDR +)
110 234 R 31.2(-+-)31.2 G 96(PEER_ADDR +)110 244 R 31.2(-+-)31.2 G 96
(PEER_PORT +)110 254 R 31.2(-+-)31.2 G 76.8(PEER_MAC_ADDR +)110 264 R
31.2(-+-)31.2 G 91.2(PEER_IFACE +)110 274 R 31.2(-+-)31.2 G 91.2
(PEER_IDENT +)110 284 R 31.2(-+-)31.2 G 110.4(RESULT -)110 294 R 31.2
(+--)31.2 G 57.6(FRAMED_IP_ADDRESS -)110 304 R 31.2(++-)31.2 G 52.8
(PRIMARY_DNS_SERVER -)110 314 R 31.2(+--)31.2 G 43.2
(SECONDARY_DNS_SERVER -)110 324 R 31.2(+--)31.2 G 48
(PRIMARY_NBNS_SERVER -)110 334 R 31.2(+--)31.2 G 38.4
(SECONDARY_NBNS_SERVER -)110 344 R 31.2(+--)31.2 G 81.6(FRAMED_ROUTE -)
110 354 R 31.2(+--)31.2 G 57.6(FRAMED_IPV6_ROUTE -)110 364 R 31.2(+--)
31.2 G 91.2(FRAMED_MTU -)110 374 R 31.2(+--)31.2 G 52.8
(FRAMED_COMPRESSION -)110 384 R 31.2(+--)31.2 G 86.4(FRAMED_POOL -)110
394 R 31.2(+--)31.2 G 103.2(SESSION_TIMEOUT -)110 404 R 31.2(+--)31.2 G
81.6(IDLE_TIMEOUT -)110 414 R 31.2(+--)31.2 G 38.4
(ACCT_INTERIM_INTERVAL -)110 424 R 31.2(+--)31.2 G 38.4
(ACCT_INTERIM_LIM_RECV -)110 434 R 31.2(+--)31.2 G 38.4
(ACCT_INTERIM_LIM_XMIT -)110 444 R 31.2(+--)31.2 G 76.8(REPLY_MESSAGE -)
110 454 R 31.2(+--)31.2 G 76.8(MS_CHAP_ERROR -)110 464 R 31.2(+--)31.2 G
115.2(IFACE -)110 474 R 31.2(-+-)31.2 G 86.4(IFACE_INDEX -)110 484 R
31.2(-+-)31.2 G 110.4(BUNDLE -)110 494 R 31.2(-+-)31.2 G 62.4
(ACCT_STATUS_TYPE -)110 504 R 31.2(-+-)31.2 G 103.2(ACCT_SESSION_ID +)
110 514 R 31.2(-+-)31.2 G 38.4(ACCT_MULTI_SESSION_ID -)110 524 R 31.2
(-+-)31.2 G 103.2(ACCT_LINK_COUNT -)110 534 R 31.2(-+-)31.2 G 43.2
(ACCT_TERMINATE_CAUSE -)110 544 R 31.2(-+-)31.2 G 57.6
(ACCT_SESSION_TIME -)110 554 R 31.2(-+-)31.2 G 57.6(ACCT_INPUT_OCTETS -)
110 564 R 31.2(-+-)31.2 G 52.8(ACCT_INPUT_PACKETS -)110 574 R 31.2(-+-)
31.2 G 52.8(ACCT_OUTPUT_OCTETS -)110 584 R 31.2(-+-)31.2 G 48
(ACCT_OUTPUT_PACKETS -)110 594 R 31.2(-+-)31.2 G 100.8(MPD_RULE -)110
604 R 31.2(+--)31.2 G 100.8(MPD_PIPE -)110 614 R 31.2(+--)31.2 G 96
(MPD_QUEUE -)110 624 R 31.2(+--)31.2 G 96(MPD_TABLE -)110 634 R 31.2
(+--)31.2 G 62.4(MPD_TABLE_STATIC -)110 644 R 31.2(+--)31.2 G 91.2
(MPD_FILTER -)110 654 R 31.2(+--)31.2 G 96(MPD_LIMIT -)110 664 R 31.2
(+--)31.2 G 62.4(MPD_INPUT_OCTETS -)110 674 R 31.2(-+-)31.2 G 57.6
(MPD_INPUT_PACKETS -)110 684 R 31.2(-+-)31.2 G 57.6(MPD_OUTPUT_OCTETS -)
110 694 R 31.2(-+-)31.2 G 52.8(MPD_OUTPUT_PACKETS -)110 704 R 31.2(-+-)
31.2 G 91.2(MPD_ACTION -)110 714 R 31.2(+--)31.2 G 76.8(MPD_DROP_USER -)
110 724 R 31.2(--+)31.2 G 72(MPD_IFACE_NAME -)110 734 R 31.2(+--)31.2 G
0 Cg EP
%%Page: 58 58
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(58)333.68 E/F1 8
/Courier@0 SF 103.2(MPD_IFACE_DESCR -)110 94 R 31.2(+--)31.2 G 103.2
(MPD_IFACE_GROUP -)110 104 R 31.2(+--)31.2 G/F2 10/Palatino-Roman@0 SF
4.721(Attribute USER_P)90 128 R 4.721(ASSWORD pr)-.92 F 4.721
(ovided in Access-Request only for P)-.18 F 4.721(AP auth.)-.92 F
(Attributes)9.722 E(USER_NT_HASH and USER_LM_HASH in Access-Reply used \
for MS-CHAP auth only.)90 140 Q .433(In r)90 158 R .433
(eply script may specify any combination of attributes it needs.)-.18 F
.432(The only mandatory attribute)5.433 F 1.578
(in Access-Response is RESUL)90 170 R 1.578(T. RESUL)-.74 F 4.078(Tm)
-.74 G 1.579(ust be one of SUCCESS, UNDEF or F)-4.078 F 1.579
(AIL. RESUL)-.74 F(T)-.74 E 11.058
(UNDEF means that mpd should authenticate user itself using USER_P)90
182 R(ASS-)-.92 E(WORD/USER_NT_HASH attribute supplied by script.)90 194
Q(For description of most attributes look their RADIUS alternatives.)90
212 Q/F3 14/Helvetica-Bold@0 SF 3.892(4.11 Dynamic)90 234 R -.42(Au)
3.892 G(thorization).42 E F2 .349(After session has been \214rst time a\
uthorized by AAA subsystem, Mpd pr)90 270 R .35(ovides you several ways)
-.18 F .451(to af)90 282 R .451(fect it's further operation.)-.18 F(Pr)
5.451 E .451(ocess of af)-.18 F .451
(fecting established session called dynamic authoriza-)-.18 F(tion.)90
294 Q(Ther)90 312 Q 2.545(ea)-.18 G .405 -.18(re t)-2.545 H .046(wo typ\
es of dynamic authorization activities exist: Disconnect \(terminate se\
ssion, caus-).18 F 2.608(ing it's graceful shutdown\) and Change of Aut\
horization, CoA \(changing session operation)90 324 R
(parameters, such as speed, ACLs and so on, on-\215ight\))90 336 Q 1.6
(Mpd pr)150 354 R 1.601(ovides several dif)-.18 F(fer)-.18 E 1.601
(ent contr)-.18 F 1.601(ol interfaces, that can be used to implement)
-.18 F(dynamic authorization.)150 366 Q(Contr)120 384 Q(ol consoles)-.18
E .576(The basic method of contr)150 396 R .575
(olling mpd is it's STDIN and TCP)-.18 F/F4 10/Palatino-Italic@0 SF
(consoles)3.075 E/F5 10/Palatino-Bold@0 SF .575(\(section 4.15)3.075 F
(,)5 E(page 64\))150 408 Q F2(.)A -.92(Yo)150 426 S 2.926(uc).92 G .426
(an disconnect any session by connecting to console, selecting r)-2.926
F(equir)-.18 E .427(ed session)-.18 F .543
(with any command for changing curr)150 438 R .542
(ent context, such as:)-.18 F F4(link)3.042 E F2(,)A F4(bundle)3.042 E
F2(,)A F4(session)3.042 E F2(,)A F4(mses-)3.042 E(sion)150 450 Q F2
(and so on, and using)2.5 E F4(close)2.5 E F2(command.)2.5 E -.92(We)120
468 S 2.5(bs).92 G(erver)-2.5 E .922(Mpd pr)150 480 R .922(ovides two)
-.18 F F4 -.2(We)3.422 G(b).2 E F5 .923(\(section 4.16)3.423 F 3.423(,p)
5 G .923(age 65\))-3.423 F F2 .923(interfaces: human \(text/html\) and)
3.423 F(binary \(text/plain\).)150 492 Q 1.502(Human web interface allo\
ws you disconnect speci\214ed session just by clicking on)150 510 R -.18
(re)150 522 S(spective).18 E F4([Close])3.426 E F2 .926
(link on the "Curr)3.426 F .927
(ent status summary" web page on mpd built-in)-.18 F(web server.)150 534
Q .767(Binary web interface pr)150 552 R .766
(ovides API for executing any of contr)-.18 F .766(ol console commands)
-.18 F .391(via HTTP r)150 564 R .392
(equest. For example, to disconnect session on link named L125 you may)
-.18 F(use such HTTP r)150 576 Q(equest:)-.18 E F4
(/bincmd?link%20L125&close)2.5 E F2(RADIUS accounting)120 594 Q 2.37
(Mpd pr)150 606 R 2.37(ovides simple, but non-standar)-.18 F 4.87(dm)
-.18 G 2.37(ethod of disconnecting session using)-4.87 F F4(RADIUS)150
618 Q F5 .007(\(section 4.10.1)2.507 F 2.507(,p)5 G .007(age 50\))-2.507
F F2 .007(accounting r)2.507 F 2.507(eply. T)-.18 F 2.507(od)-.92 G .007
(isconnect arbitrary session)-2.507 F .812(you may just include)150 630
R F4(mpd-dr)3.312 E(op-user)-.18 E F2 .812(attribute with nonzer)3.312 F
3.312(ov)-.18 G .811(alue into any account-)-3.312 F(ing r)150 642 Q
(eply packet.)-.18 E .203(This method consider)150 660 R .203
(ed not to be completely r)-.18 F .204(eliable, as AAA r)-.18 F .204
(eceives no acknowl-)-.18 F .201(edge that accounting r)150 672 R .201
(eply packet was r)-.18 F .201
(eceived by mpd. The only thing guarantied,)-.18 F 1.435
(is that on packet loss mpd will r)150 684 R 1.436
(etry accounting sending for speci\214ed number of)-.18 F(times befor)
150 696 Q 2.5(eg)-.18 G(iveup.)-2.5 E(Built-in RADIUS server)120 714 Q
.093(RFC 3576: "Dynamic Authorization Extensions to RADIUS" de\214nes s\
tandar)150 726 R 2.593(dw)-.18 G .093(ay to)-2.593 F .209
(implement dynamic authorization. It de\214nes two additional RADIUS r)
150 738 R .209(equest types:)-.18 F 0 Cg EP
%%Page: 59 59
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(59)333.68 E/F1 10
/Palatino-Roman@0 SF 1.939
(Disconnect-Request and CoA-Request, to be sent fr)150 96 R 1.939
(om AAA server to dedicated)-.18 F(UDP port on NAS with r)150 108 Q
(egular RADIUS pr)-.18 E(otocol.)-.18 E 3.185 -.92(To h)150 126 T 1.346
(ave this function working, mpd should be built with).92 F/F2 10
/Palatino-Italic@0 SF(libradius)3.846 E F1(library)3.846 E 3.846(,h)
-1.11 G(aving)-3.846 E(RADIUS server functionality \(Fr)150 138 Q
(eeBSD 7/8-ST)-.18 E(ABLE after 2009-10-30\).)-.74 E .29
(This chapter describes commands that con\214gur)150 156 R 2.79(em)-.18
G .29(pd's built-in RADIUS server. All)-2.79 F(of these commands ar)150
168 Q 2.5(ee)-.18 G(xecuted in global context.)-2.5 E/F3 10/Courier@0 SF
(set radsrv open)180 186 Q F1(Opens the RADIUS server)210 198 Q 2.5(,i)
-.74 G(.e., cr)-2.5 E(eates the listening UDP socket.)-.18 E F3
(set radsrv close)180 216 Q F1(Closes the RADIUS server)210 228 Q 2.5
(,i)-.74 G(.e., closes the listening UDP socket.)-2.5 E F3
(set radsrv self)180 246 Q F2(ip)6 E F1([)2.5 E F2(port)2.5 E F1(])2.5 E
1.937(Sets the cr)210 258 R 1.938
(edentials for the RADIUS-listener. After changing one of)-.18 F 1.093
(these options, the RADIUS server)210 270 R 1.093(must be closed and r)
6.093 F 1.093(e-opened for)-.18 F(the changes to take ef)210 282 Q
(fect.)-.18 E(The default is '0.0.0.0 3799'.)210 300 Q F3
(set radsrv peer)180 318 Q F2(ip secr)6 E(et)-.18 E F1 2.112
(De\214nes additional AAA server)210 330 R 4.612(,a)-.74 G 2.112
(llowed to contact this NAS. After)-4.612 F .023
(changing one of these options, the RADIUS server)210 342 R .022
(must be closed and)5.023 F -.18(re)210 354 S
(-opened for the changes to take ef).18 E(fect.)-.18 E F3
(set radsrv enable)180 372 Q F2(option ...)6 E F1 3.8
(set radsrv disable)210 396 R F2 3.8(option ...)6.3 F F1 8.8("T)C 3.8
(hese commands con\214gur)-8.8 F 6.3(ev)-.18 G(arious)-6.3 E
(RADIUS server options.)210 408 Q(The)210 426 Q/F4 10/Palatino-Bold@0 SF
(enable)3.81 E F1(and)3.81 E F4(disable)3.81 E F1 1.31
(commands determine whether we want the)3.81 F(corr)210 438 Q
(esponding option.)-.18 E
(The options available for the RADIUS server ar)210 456 Q(e:)-.18 E F3
(coa)180 474 Q F1
(This option enables CoA-Request support on RADIUS server.)210 486 Q
(The default is enable.)210 504 Q F3(disconnect)180 522 Q F1
(This option enables Disconnect-Request support on RADIUS server.)210
534 Q(The default is enable.)210 552 Q 2.179
(Dynamic authorization RADIUS server r)150 576 R 2.179(eceives thr)-.18
F 2.179(ee gr)-.18 F 2.179(oups of attributes: NAS)-.18 F .853
(identi\214cation \(to be sur)150 588 R 3.353(et)-.18 G .853(hat r)
-3.353 F .852
(equest got to the right server\), session identi\214cation)-.18 F .076
(\(to identify session that should be af)150 600 R .077
(fected\) and session parameters \(to describe new)-.18 F .2
(session state to set\).)150 612 R .199
(NAS and session identi\214cation attributes ar)5.199 F 2.699(en)-.18 G
.199(ative part of any)-2.699 F .226(Disconnect or CoA r)150 624 R .227
(equest, while session parameters could be used only with CoA.)-.18 F
.923(At least one session identi\214cation attribute must be pr)150 636
R .923(esent in r)-.18 F .923(equest. If ther)-.18 F 3.423(ea)-.18 G
-.18(re)-3.423 G 2.368(several identi\214cation attributes pr)150 648 R
2.368(esent, session should match all of them to be)-.18 F(af)150 660 Q
(fected.)-.18 E(NAS identi\214cation attributes supported by mpd:)150
678 Q/F5 8/Courier@0 SF 14.4(NN)170 694 S(ame)-14.4 E 14.4(4N)170 704 S
(AS-IP-Address)-14.4 E F1
(Session identi\214cation attributes supported by mpd:)150 728 Q 0 Cg EP
%%Page: 60 60
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(60)333.68 E/F1 8
/Courier@0 SF 14.4(NN)170 94 S(ame)-14.4 E 14.4(1U)170 104 S(ser-Name)
-14.4 E 14.4(5N)170 114 S(AS-Port)-14.4 E 14.4(8F)170 124 S
(ramed-IP-Address)-14.4 E 4.8(30 Called-Station-Id)170 134 R 4.8
(31 Calling-Station-Id)170 144 R 4.8(44 Acct-Session-Id)170 154 R 4.8
(50 Acct-Multi-Session-Id)170 164 R(mpd VSA \(12341\))189.2 184 Q 4.8
(12 mpd-link)170 194 R 4.8(13 mpd-bundle)170 204 R 4.8(14 mpd-iface)170
214 R 4.8(15 mpd-iface-index)170 224 R/F2 10/Palatino-Roman@0 SF
(Session parameters attributes supported by mpd:)150 248 Q F1 14.4(NN)
170 264 S(ame)-14.4 E 4.8(24 State)170 274 R 4.8(25 Class)170 284 R 4.8
(27 Session-Timeout)170 294 R 4.8(28 Idle-Timeout)170 304 R 4.8
(85 Acct-Interim-Interval)170 314 R(mpd VSA \(12341\))189.2 334 Q 14.4
(1m)170 344 S(pd-rule)-14.4 E 14.4(2m)170 354 S(pd-pipe)-14.4 E 14.4(3m)
170 364 S(pd-queue)-14.4 E 14.4(4m)170 374 S(pd-table)-14.4 E 14.4(5m)
170 384 S(pd-table-static)-14.4 E 14.4(7m)170 394 S(pd-filter)-14.4 E
14.4(8m)170 404 S(pd-limit)-14.4 E 4.8(16 mpd-input-acct)170 414 R 4.8
(17 mpd-output-acct)170 424 R F2 .4
(Received in CoA session parameters r)150 448 R .4
(eplace existing ones. If some parameter is not)-.18 F -.18(re)150 460 S
.403(ceived, it keeps it's pr).18 F .403(evious value for standar)-.18 F
2.903(da)-.18 G .404(ttributes, and getting clear)-2.903 F .404(ed for)
-.18 F(mpd's VSAs.)150 472 Q 1.118(Note that CoA r)150 490 R 1.118
(equest always r)-.18 F 1.117
(estarts Session and Idle timers for matching inter)-.18 F(-)-.18 E 3.15
(faces, and r)150 502 R 3.151
(estarts Accounting Update timer for matching links, if new value)-.18 F
-.18(re)150 514 S(ceived.).18 E/F3 14/Helvetica-Bold@0 SF 3.892(4.12 T)
90 536 R(raf\214c accounting)-1.12 E F2
(Mpd supports several methods of traf)90 572 Q(\214c accounting:)-.18 E
/F4 12/Helvetica-Bold@0 SF 3.336(4.12.1 NetFlo)90 592 R(w)-.18 E F2 .849
(NetFlow is a pr)90 628 R .849(otocol for exporting aggr)-.18 F .848
(egated traf)-.18 F .848
(\214c information with UDP packets \215ow. Net-)-.18 F .736
(Flow is generated by)90 640 R/F5 10/Courier@0 SF(ng_netflow\(4\))3.236
E F2 3.236(node. T)3.236 F 3.236(oe)-.92 G .736
(nable NetFlow on a particular interface)-3.236 F F5(net-)3.237 E
(flow-in)90 652 Q F2(or)3.514 E F5(netflow-out)3.514 E F2 1.013
(options should be used. Best practice is to enable net\215ow on every)
3.514 F 1.6(interface in system in only one dir)90 664 R 1.6
(ection: incoming for "ingr)-.18 F 1.6(ess" \215ow or outgoing for "egr)
-.18 F(ess")-.18 E(\215ow.)90 676 Q/F6 10/Palatino-Bold@0 SF(Note:)90
694 Q F2 .684(Net\215ow con\214guration is global for the daemon, so it\
 must be done befor)3.184 F 3.183<658c>-.18 G .683(rst bundle get)-3.183
F(connected.)90 706 Q F6(Note:)90 724 Q F2 .506(This featur)3.006 F
3.006(ei)-.18 G 3.006(sa)-3.006 G .506(vailable only on Fr)-3.006 F .506
(eeBSD 6.0-RELEASE and newer. NetFlow v9 supported)-.18 F(only on Fr)90
736 Q(eeBSD 9.0-RELEASE and newer.)-.18 E 0 Cg EP
%%Page: 61 61
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(61)333.68 E/F1 10
/Courier@0 SF(set netflow peer)120 96 Q/F2 10/Palatino-Italic@0 SF
(ip port)6 E/F3 10/Palatino-Roman@0 SF .635(Set destination IP addr)150
108 R .635(ess and port, wher)-.18 F 3.135(eN)-.18 G .635
(etFlow export datagrams will be sent.)-3.135 F
(This options is important to have working NetFlow.)150 120 Q F1
(set netflow self)120 138 Q F2(ip port)6 E F3 .149(Set optional local I\
P and port binding, to make NetFlow datagrams originate fr)150 150 R .15
(om a)-.18 F(speci\214c sour)150 162 Q(ce.)-.18 E F1
(set netflow version)120 180 Q F2(ver)6 E F3
(Choose NetFlow version to export. Supported options ar)150 192 Q 2.5
(e5o)-.18 G 2.5(r9)-2.5 G(.)-2.5 E(Default is 5.)150 210 Q F1
(set netflow mtu)120 228 Q F2(bytes)6 E F3(Set export interface MTU to \
build packets of speci\214ed size \(NetFlow v9-speci\214c\).)150 240 Q
(Default is 1500.)150 258 Q F1(set netflow template)120 276 Q F2
(time packets)6 E F3 3.341(Modify time and packet timeouts to announce \
data \215ow templates \(NetFlow)150 288 R(v9-speci\214c\).)150 300 Q
(Defaults ar)150 318 Q 2.5(e6)-.18 G(00 and 500.)-2.5 E F1
(set netflow timeouts)120 336 Q F2(inactive active)6 E F3 2.186
(Modify inactive and active timeout values. For mor)150 348 R 4.686(ei)
-.18 G 2.186(nformation, see)-4.686 F F1(ng_net-)4.686 E(flow\(4\))150
360 Q F3(manual page.)2.5 E F1(set netflow node)120 378 Q F2(nodename)6
E F3(Use existing)150 390 Q F1(ng_netflow\(4\))2.5 E F3
(node instead of cr)2.5 E(eating a new one.)-.18 E F1(set netflow hook)
120 408 Q F2(number)6 E F3(Use)150 420 Q F1(ng_netflow\(4\))3.992 E F3
1.491(node's hooks starting fr)3.991 F 1.491(om speci\214ed number.)-.18
F 1.491(For detailed)6.491 F(information about naming of hooks, see)150
432 Q F1(ng_netflow\(4\))2.5 E F3(manual page.)2.5 E/F4 12
/Helvetica-Bold@0 SF 3.336(4.12.2 IP)90 452 R(Accounting)3.336 E F3
1.437(IP Accounting accumulates traf)90 488 R 1.437
(\214c information in kernel buf)-.18 F 1.438(fer. This buf)-.18 F 1.438
(fer can be periodically)-.18 F -.18(re)90 500 S .819
(ad and \215ushed by some other pr).18 F .818
(ogram. IP Accounting implemented by)-.18 F F1(ng_ipacct)3.318 E F3 .818
(node. T)3.318 F(o)-.92 E
(enable IP Accounting on a particular interface)90 512 Q F1(ipacct)2.5 E
F3(options should be used.)2.5 E F4 3.336(4.12.3 Accounting)90 532 R
(Update)3.336 E F3 1.005(Mpd pr)90 568 R 1.005(ovides summary traf)-.18
F 1.005(\214c statistics in every accounting Update/Stop call of radius\
-acct or)-.18 F(ext-acct.)90 580 Q(For radius-acct it pr)90 598 Q
(ovides such attributes:)-.18 E F1(Acct-Input-Packets)120 616 Q F3
(32bit input packets counter)150 628 Q(,)-.74 E F1(Acct-Output-Packets)
120 646 Q F3(32bit output packets counter)150 658 Q(,)-.74 E F1
(Acct-Input-Octets)120 676 Q F3(lower 32bit of input bytes counter)150
688 Q(,)-.74 E F1(Acct-Output-Octets)120 706 Q F3
(lower 32bit of output bytes counter)150 718 Q(,)-.74 E 0 Cg EP
%%Page: 62 62
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(62)333.68 E/F1 10
/Courier@0 SF(Acct-Input-Gigawords)120 96 Q/F2 10/Palatino-Roman@0 SF
(higher 32bit of input bytes counter)150 108 Q(,)-.74 E F1
(Acct-Output-Gigawords)120 126 Q F2
(higher 32bit of output bytes counter.)150 138 Q(For ext-acct it pr)90
156 Q(ovides:)-.18 E F1(ACCT_INPUT_PACKETS)120 174 Q F2
(64bit input packets counter)150 186 Q(,)-.74 E F1(ACCT_OUTPUT_PACKETS)
120 204 Q F2(64bit output packets counter)150 216 Q(,)-.74 E F1
(ACCT_INPUT_OCTETS)120 234 Q F2(64bit input bytes counter)150 246 Q(,)
-.74 E F1(ACCT_OUTPUT_OCTETS)120 264 Q F2(64bit output bytes counter.)
150 276 Q .04(NOTE: as Accounting Update is implemented on a link layer\
 it accounts traf)90 294 R .04(\214c via single physical)-.18 F 1.305
(link \(without link over)90 306 R 1.305(head\). So it accounts traf)
-.18 F 1.305(\214c after compr)-.18 F 1.305
(ession, encryption and multilink)-.18 F(wer)90 318 Q 2.5(ea)-.18 G
(pplied to it.)-2.5 E/F3 12/Helvetica-Bold@0 SF 3.336(4.12.4 T)90 338 R
(yped Accounting Update)-.72 E F2 .5(In addition to standar)90 374 R
2.999(dA)-.18 G .499(ccounting Update stats, mpd is able to pr)-2.999 F
.499(ovide accounting information)-.18 F 1.38(for any speci\214ed traf)
90 386 R 1.38(\214c types. T)-.18 F(raf)-.9 E 1.381
(\214c types may be de\214ned using optional thir)-.18 F 3.881(dc)-.18 G
1.381(omponent of)-3.881 F(mpd-limit's left part.)90 398 Q
(In accounting r)90 416 Q(equests mpd can pr)-.18 E
(ovide such attributes: for radius-acct:)-.18 E F1(mpd-input-packets)120
434 Q F2(traf)150 446 Q(\214c type : 64bit input packets counter)-.18 E
(,)-.74 E F1(mpd-output-packets)120 464 Q F2(traf)150 476 Q
(\214c type : 64bit output packets counter)-.18 E(,)-.74 E F1
(mpd-input-octets)120 494 Q F2(traf)150 506 Q
(\214c type : 64bit of input bytes counter)-.18 E(,)-.74 E F1
(mpd-output-octets)120 524 Q F2(traf)150 536 Q
(\214c type : 64bit of output bytes counter)-.18 E(,)-.74 E
(for ext-acct:)90 560 Q F1(MPD_INPUT_PACKETS)120 578 Q F2(traf)150 590 Q
(\214c type : 64bit input packets counter)-.18 E(,)-.74 E F1
(MPD_OUTPUT_PACKETS)120 608 Q F2(traf)150 620 Q
(\214c type : 64bit output packets counter)-.18 E(,)-.74 E F1
(MPD_INPUT_OCTETS)120 638 Q F2(traf)150 650 Q
(\214c type : 64bit input bytes counter)-.18 E(,)-.74 E F1
(MPD_OUTPUT_OCTETS)120 668 Q F2(traf)150 680 Q
(\214c type : 64bit output bytes counter.)-.18 E 1.081(NOTE: as T)90 698
R 1.081(yped Accounting Update is implemented on interface layer instea\
d of link as usual)-.9 F .303(Accounting Update, same data will be r)90
710 R .303(eported for every link of multilink connection. Some spe-)
-.18 F(cial car)90 722 Q 2.5(es)-.18 G
(hould be taken by AAA to not account same traf)-2.5 E
(\214c twice in multilink case.)-.18 E(For example, speci\214cation:)90
740 Q 0 Cg EP
%%Page: 63 63
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(63)333.68 E/F1 8
/Courier@0 SF(mpd-filter += "1#1=match dst net 10.0.0.0/8",)110 94 Q
(mpd-limit += "in#1#Local=flt1 pass",)110 104 Q
(mpd-limit += "in#2#Biz=all shape 64000 4000",)110 114 Q/F2 10
/Palatino-Roman@0 SF 2.5(,o)90 144 S 2.5(rf)-2.5 G(or ext-auth:)-2.5 E
F1(MPD_FILTER:1#1=match dst net 10.0.0.0/8)110 160 Q
(MPD_LIMIT:in#1#Local=flt1 pass)110 170 Q
(MPD_LIMIT:in#2#Biz=all shape 64000 4000)110 180 Q F2 .028(will instr)90
210 R .028(uct mpd to account traf)-.08 F .028
(\214c of two types: "Local" and "Biz".)-.18 F -.9(Tr)5.027 G(af).9 E
.027(\214c going fr)-.18 F .027(om client to the)-.18 F 1.118(10.0.0.0/\
8 network will be accounted as "Local", all other incoming traf)90 222 R
1.119(\214c after shaping will be)-.18 F(accounted as "Biz".)90 234 Q
(In accounting r)5 E(equest mpd will pr)-.18 E
(ovide to RADIUS something like:)-.18 E F1
(mpd-input-packets = Local:213213)110 250 Q
(mpd-input-octets = Local:32132132)110 260 Q
(mpd-input-packets = Biz:21321)110 270 Q(mpd-input-octets = Biz:3213213)
110 280 Q F2 2.5(,a)90 310 S(nd for ext-acct:)-2.5 E F1
(ACCT_INPUT_PACKETS:Local:213213)110 326 Q
(ACCT_INPUT_OCTETS:Local:32132132)110 336 Q
(ACCT_INPUT_PACKETS:Biz:21321)110 346 Q(ACCT_INPUT_OCTETS:Biz:3213213)
110 356 Q F2 2.841 -.92(To s)90 380 T 1.001
(implify AAA integration mpd able to r).92 F 1.001
(eturn speci\214ed traf)-.18 F 1(\214c types using standar)-.18 F 3.5
(dR)-.18 G(ADIUS)-3.5 E 5.25(attributes. Requir)90 392 R 5.25(ed traf)
-.18 F 5.25
(\214c type can be speci\214ed using mpd-input-acct/mpd-output-acct)-.18
F(attributes.)90 404 Q/F3 14/Helvetica-Bold@0 SF 3.892(4.13 IP)90 426 R
(ad)3.892 E(dress pools)-.14 E F2 .542(Mpd implements dynamic IP addr)90
462 R .542(esses pool management. When user is authenticated and auth)
-.18 F 1.035(backend have not pr)90 474 R 1.036(ovided IP addr)-.18 F
1.036(ess, it can be taken fr)-.18 F 1.036(om pool. T)-.18 F 3.536(om)
-.92 G 1.036(ake it work you should)-3.536 F(cr)90 486 Q .057
(eate one or mor)-.18 F 2.557(ea)-.18 G(ddr)-2.557 E .056(ess pools wit\
h 'set ippool add ...' command and de\214ne which pool should)-.18 F
1.056(be used with 'set ipcp ranges ... ippool ...' command, radius-aut\
h Framed-Pool attribute or ext-)90 498 R(auth FRAMED_POOL attribute.)90
510 Q/F4 10/Courier@0 SF(set ippool add)120 528 Q/F5 10
/Palatino-Italic@0 SF(pool \214rst last)6 E F2 2.607(This command cr)150
540 R 2.606(eates new IP addr)-.18 F 2.606
(ess pool if it not exists and adds speci\214ed)-.18 F(addr)150 552 Q
(ess range to it.)-.18 E F3 3.892(4.14 Netw)90 574 R(ork Ad)-.28 E
(dress T)-.14 E(ranslation \(NA)-1.12 E(T\))-1.26 E F2 .726
(This chapter describes commands for con\214guring Network Addr)90 610 R
.727(ess T)-.18 F .727(ranslation on Mpd's inter)-.9 F(-)-.18 E .142
(faces. NA)90 622 R 2.642(Ti)-.74 G 2.642(si)-2.642 G .142
(mplemented by)-2.642 F F4(ng_nat\(4\))2.642 E F2 .141(node. T)2.641 F
2.641(oe)-.92 G .141(nable it on a particular interface)-2.641 F F4(nat)
2.641 E F2(option)2.641 E(should be used.)90 634 Q/F6 10/Palatino-Bold@0
SF(Note:)90 652 Q F2 2.652(ng_nat node is available only on Fr)5.152 F
2.653(eeBSD 6.0-RELEASE and newer. Some additional)-.18 F
(options like setting tar)90 664 Q(get addr)-.18 E
(ess implemented in later versions.)-.18 E F4(set nat address)120 682 Q
F5(ip)6 E F2(Set alias IP addr)150 694 Q
(ess. If not speci\214ed, interface IP will be used.)-.18 E F4
(set nat target)120 712 Q F5(ip)6 E F2(Set tar)150 724 Q(get IP addr)
-.18 E
(ess for unknown incoming packets. If not speci\214ed, packet will not)
-.18 E(be modi\214ed.)150 736 Q 0 Cg EP
%%Page: 64 64
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(64)333.68 E/F1 10
/Courier@0 SF(set nat red-addr)120 96 Q/F2 10/Palatino-Italic@0 SF
(alias_addr local_addr)6 E/F3 10/Palatino-Roman@0 SF(Redir)150 108 Q
(ect traf)-.18 E(\214c for public \(alias\) IP addr)-.18 E
(ess to a machine on the local network.)-.18 E F1(set nat red-proto)120
126 Q F2(pr)6 E(oto alias_addr local_addr)-.18 E F3([)2.5 E F2 -.18(re)
2.5 G(mote_addr).18 E F3(])2.5 E(Redir)150 138 Q 1.456(ect traf)-.18 F
1.456(\214c of speci\214ed pr)-.18 F 1.456
(otocol for public \(alias\) IP addr)-.18 F 1.457(ess \(optionally fr)
-.18 F(om)-.18 E(speci\214ed r)150 150 Q(emote addr)-.18 E
(ess\) to a machine on the local network.)-.18 E F1(set nat red-port)120
168 Q F2(pr)6 E(oto alias_addr alias_port local_addr local_port)-.18 E
F3([)2.5 E F2 -.18(re)2.5 G(mote_addr r).18 E(emote_port)-.18 E F3(])2.5
E(Redir)150 180 Q 1.992
(ect incoming connections arriving to given public \(alias\) addr)-.18 F
1.992(ess and port,)-.18 F 1.035(\(optionally fr)150 192 R 1.035
(om speci\214ed r)-.18 F 1.035(emote addr)-.18 F 1.035
(ess\) to a host and port of a machine on the)-.18 F(local network.)150
204 Q F1(unset nat red-addr)120 222 Q F2(alias_addr local_addr)6 E F3
(Deletes speci\214c)150 234 Q F2(set nat r)2.5 E(ed-addr ...)-.18 E F3
-.08(ru)2.5 G(le.).08 E F1(unset nat red-proto)120 252 Q F2(pr)6 E
(oto alias_addr local_addr)-.18 E F3([)2.5 E F2 -.18(re)2.5 G(mote_addr)
.18 E F3(])2.5 E(Deletes speci\214c)150 264 Q F2(set nat r)2.5 E(ed-pr)
-.18 E(oto ...)-.18 E F3 -.08(ru)2.5 G(le.).08 E F1(unset nat red-port)
120 282 Q F2(pr)6 E(oto alias_addr alias_port local_addr local_port)-.18
E F3([)2.5 E F2 -.18(re)2.5 G(mote_addr r).18 E(emote_port)-.18 E F3(])
2.5 E(Deletes speci\214c)150 294 Q F2(set nat r)2.5 E(ed-port ...)-.18 E
F3 -.08(ru)2.5 G(le.).08 E F1(set nat enable)120 312 Q F2(option ...)6 E
F1(set nat disable)120 330 Q F2(option ...)6 E F3
(Enable and disable nat options.)150 348 Q(The following options ar)90
366 Q 2.5(es)-.18 G(upported:)-2.5 E F1(log)120 384 Q F3
(Enable statistics logging.)150 396 Q(Default is disable.)150 414 Q F1
(incoming)120 432 Q F3(Allow unknown incoming packets to pass.)150 444 Q
(Default is enable.)150 462 Q F1(same-ports)120 480 Q F3 -.9(Tr)150 492
S 2.5(yt).9 G 2.5(ou)-2.5 G(se same ports while aliasing.)-2.5 E
(Default is enable.)150 510 Q F1(unreg-only)120 528 Q F3
(Enables aliasing only for unr)150 540 Q(egister)-.18 E(ed networks.)
-.18 E(Default is disable.)150 558 Q/F4 14/Helvetica-Bold@0 SF 3.892
(4.15 Contr)90 580 R(ol console)-.28 E F3 1.279
(This chapter describes commands for con\214guring Mpd's console.)90 616
R 1.279(The console can be accessed)6.279 F
(via IPv4 or IPv6 using telnet.)90 628 Q(Multiple telnet connections ar)
5 E 2.5(ea)-.18 G(llowed.)-2.5 E F1(set console open)120 646 Q F3
(Opens the console, i.e., cr)150 658 Q(eates the listening TCP socket.)
-.18 E F1(set console close)120 676 Q F3 .207
(Closes the console, i.e., closes the listening TCP socket.)150 688 R
.207(Only the listener is af)5.207 F(fected;)-.18 E(active sessions ar)
150 700 Q 2.5(en)-.18 G(ot closed.)-2.5 E F1(set console self)120 718 Q
F2(ip)6 E F3([)2.5 E F2(port)2.5 E F3(])2.5 E .25(Sets the cr)150 730 R
.249(edentials for the console-listener. After changing one of these op\
tions, the)-.18 F(console must be closed and r)150 742 Q
(e-opened for the changes to take ef)-.18 E(fect.)-.18 E 0 Cg EP
%%Page: 65 65
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(65)333.68 E/F1 10
/Palatino-Roman@0 SF(The default is '127.0.0.1 5005'.)150 96 Q/F2 10
/Courier@0 SF(set console enable)120 114 Q/F3 10/Palatino-Italic@0 SF
(option ...)6 E F1(set console disable)150 138 Q F3(option ...)2.5 E F1
5("T)C(hese commands con\214gur)-5 E 2.5(ev)-.18 G
(arious console options.)-2.5 E
(The options available for the console ar)150 156 Q(e:)-.18 E F2
(logging)120 174 Q F1
(This options enables writing of logging messages to the curr)150 186 Q
(ent console.)-.18 E
(The default is enable for stdout and disable for the r)150 204 Q(est.)
-.18 E F2(auth)120 222 Q F1
(This options enables authorized login to console. This is a r)150 234 Q
(ead-only value.)-.18 E(The default is enable.)150 252 Q/F4 14
/Helvetica-Bold@0 SF 3.892(4.16 W)90 274 R(eb ser)-.49 E(ver).14 E F1
.386(Mpd pr)90 310 R .386
(ovides HTTP interface for monitoring and contr)-.18 F .387
(ol purposes.)-.18 F .387(This chapter describes com-)5.387 F
(mands for con\214guring Mpd's web server.)90 322 Q F2(set web open)120
340 Q F1(Opens the web server)150 352 Q 2.5(,i)-.74 G(.e., cr)-2.5 E
(eates the listening TCP socket.)-.18 E F2(set web close)120 370 Q F1
(Closes the web server)150 382 Q 2.5(,i)-.74 G
(.e., closes the listening TCP socket.)-2.5 E F2(set web self)120 400 Q
F3(ip)6 E F1([)2.5 E F3(port)2.5 E F1(])2.5 E 1.455(Sets the cr)150 412
R 1.454(edentials for the web-listener. After changing one of these opt\
ions, the)-.18 F(web must be closed and r)150 424 Q
(e-opened for the changes to take ef)-.18 E(fect.)-.18 E
(The default is '127.0.0.1 5006'.)150 442 Q F2(set web enable)120 460 Q
F3(option ...)6 E F1(set web disable)150 484 Q F3(option ...)2.5 E F1 5
("T)C(hese commands con\214gur)-5 E 2.5(ev)-.18 G
(arious web server options.)-2.5 E(The)150 502 Q/F5 10/Palatino-Bold@0
SF(enable)2.995 E F1(and)2.995 E F5(disable)2.995 E F1 .495
(commands determine whether we want the corr)2.995 F(esponding)-.18 E
(option.)150 514 Q(The options available for the web ar)150 532 Q(e:)
-.18 E F2(auth)120 550 Q F1
(This option enables basic authorization on web server.)150 562 Q
(The default is enable.)150 580 Q -.92(Yo)90 598 S 3.248(uc).92 G .748(\
an send any set of command allowed by privileges via WEB server for mpd\
 infrastr)-3.248 F(uctur)-.08 E(e)-.18 E 5.694
(integration. Depending on URL used mpd supports two r)90 610 R 5.694
(esponse formats: text/html)-.18 F .256
(\(/cmd?command1&...\) and text/plain \(/bincmd?command1&...\).)90 622 R
.255(Also you can see output `show)5.256 F
(summary` command in JSON format, typing `/json` in URL.)90 634 Q 0 Cg
EP
%%Page: 66 66
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(66)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(5. De)90 102 R(vice T)-.24 E(ypes)-.96 E/F2
14/Helvetica-Bold@0 SF 3.892(5.1 Modem)90 142 R(type commands)3.892 E/F3
10/Palatino-Roman@0 SF .371(This chapter describes commands that ar)90
178 R 2.871(es)-.18 G .372(peci\214c to modem type links.)-2.871 F .372
(These commands apply)5.372 F(to the curr)90 190 Q
(ently active link, and ar)-.18 E 2.5(eo)-.18 G(nly valid if the curr)
-2.5 E(ently active link has type)-.18 E/F4 10/Palatino-Bold@0 SF(modem)
2.5 E F3(.)A/F5 10/Courier@0 SF(set modem device)120 208 Q/F6 10
/Palatino-Italic@0 SF(devname)6 E F3 .927(Modem links operate over seri\
al ports. This command tells mpd which serial port)150 220 R .22
(to use for this link, and is r)150 232 R(equir)-.18 E 2.72(ed. The)-.18
F F6(devname)2.72 E F3 .22(should be the pathname of a serial)2.72 F
(device, e.g.,)150 244 Q F5(/dev/cuau0)2.5 E F3(.)A F5(set modem var)120
262 Q F6($variable string)6 E F3(Pr)150 274 Q .815
(e-sets the chat script variable)-.18 F F6($variable)3.315 E F3 .815
(to contain the string)3.315 F F6(string)3.314 E F3 3.314(.S)C(ee)-3.314
E F6 .814(the chapter)3.314 F(on chat scripting)150 286 Q F3
(\(section 6.)2.5 E 2.5(,p)5 G(age 73\) for mor)-2.5 E 2.5(ei)-.18 G
(nformation on chat variables.)-2.5 E F5(set modem speed)120 304 Q F6
(speed)6 E F3 1.636(This commands sets the initial serial port speed wh\
en opening the serial device,)150 316 R .075(e.g., 9600, 57600, 1)150
328 R .075
(15200. Note that you can always change the serial port speed later)-.55
F(fr)150 340 Q(om within the chat script.)-.18 E F5(set modem script)120
358 Q F6(connect-script)6 E F3 .476
(This command tells mpd which chat script to r)150 370 R .476(un in or)
-.08 F .476(der to initiate a PPP connec-)-.18 F 1.269
(tion for this link. The)150 382 R F6(connect-script)3.768 E F3 1.268
(should corr)3.768 F 1.268(espond to a label in)-.18 F F5(mpd.script)
3.768 E F3(.)A .982
(Mpd will jump to this label after opening the serial port device. If)
150 394 R F6(connect-script)3.483 E F3(is)3.483 E .941(not set, then th\
e chat phase of the connection is skipped \(e.g., if you have a dir)150
406 R(ect)-.18 E(null modem connection\).)150 418 Q F5
(set modem idle-script)120 436 Q F6(idle-script)6 E F3 .836(This comman\
d tells mpd what to do with the serial port when the link is not con-)
150 448 R 1.178(nected. If no)150 460 R F6(idle-script)3.678 E F3 1.178
(is set, then mpd will leave the serial port closed when not)3.678 F
1.217(connected. Otherwise, when the link is disconnected mpd r)150 472
R 1.218(uns the)-.08 F F6(idle-script)3.718 E F3(chat)3.718 E
(script. If this script r)150 484 Q(eturns)-.18 E F5(failure)2.5 E F3
2.5(,t)C(hen mpd r)-2.5 E(estarts the script.)-.18 E .109
(Otherwise, \(i.e., if it r)150 502 R(eturns)-.18 E F5(success)2.608 E
F3 2.608(\)m)C .108(pd examines the contents of the)-2.608 F F5
($IdleRe-)2.608 E(sult)150 514 Q F3 1.265
(chat variable to decide what to do next. If it equals)3.765 F F5
(answer)3.766 E F3 1.266(then mpd will)3.766 F .014
(assume that an incoming call has been answer)150 526 R .013
(ed and immediately enter PPP negoti-)-.18 F .288(ation. If it equals)
150 538 R F5(ringback)2.788 E F3 .289
(then mpd will close the serial port, r)2.788 F .289
(eopen it, and initi-)-.18 F
(ate an outgoing connection normally \(i.e., using)150 550 Q F6
(connect-script)2.5 E F3(\).)A(If)150 568 Q F5($IdleResult)3.209 E F3
.709(contains anything else or is not set, then mpd acts as if)3.209 F
F5(failure)3.208 E F3(had occurr)150 580 Q(ed and simply r)-.18 E
(estarts the script.)-.18 E F5(set modem watch)120 598 Q F6
(+/-signal ...)6 E F3 .679(Mpd normally tracks the carrier detect signa\
l on the serial port and dr)150 610 R .68(ops the con-)-.18 F 2.09
(nection when this signal is lost. Y)150 622 R 2.089
(ou can disable this behavior with)-.92 F F4 2.089(set modem)4.589 F
.005(watch -cd)150 634 R F3 2.505(.A)C .005
(lso, mpd can do the same thing with the DSR signal, though the default)
-2.505 F .249(is to ignor)150 646 R 2.749(eD)-.18 G .249(SR. T)-2.749 F
2.749(oe)-.92 G .249(nable watching of the DSR signal, use)-2.749 F F4
.248(set modem watch +dsr)2.748 F F3(.)A F2 3.892(5.2 Netgraph)90 668 R
(de)3.892 E(vice type commands)-.21 E F3 2.219
(This chapter describes commands that ar)90 704 R 4.719(es)-.18 G 2.219
(peci\214c to netgraph type links.)-4.719 F 2.22(These commands)7.22 F
(apply to the curr)90 716 Q(ently active link, and ar)-.18 E 2.5(eo)-.18
G(nly valid if the curr)-2.5 E(ently active link has type)-.18 E F4(ng)
2.5 E F3(.)A .993(Note that this device type has no dir)90 734 R .992
(ect way to detect a physical layer disconnection \(i.e., what)-.18 F 0
Cg EP
%%Page: 67 67
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(67)333.68 E/F1 10
/Palatino-Roman@0 SF 2.192
(would be analogous to loss of carrier detect\) except by r)90 96 R
2.193(eceiving a write err)-.18 F 2.193(or. One way to)-.18 F .513
(achieve this is to insur)90 108 R 3.013(et)-.18 G .512
(hat when the physical layer goes down, the connection to the Netgraph)
-3.013 F(hook is br)90 120 Q(oken.)-.18 E/F2 10/Courier@0 SF
(set ng node)120 138 Q/F3 10/Palatino-Italic@0 SF(nodepath)6 E F2
(set ng hook)120 156 Q F3(hook)6 E F1 1.228(These commands con\214gur)
150 168 R 3.728(ew)-.18 G 1.228
(hich Netgraph node, and which hook on that node,)-3.728 F 2.644(mpd is\
 supposed to connect to. The node is found via the absolute Netgraph)150
180 R(addr)150 192 Q(ess)-.18 E F3(nodepath)3.393 E F1 .893
(and must have a fr)3.393 F .893(ee hook named)-.18 F F3(hook)3.393 E F1
3.393(.B)C .893(oth of these commands)-3.393 F(ar)150 204 Q 2.5(er)-.18
G(equir)-2.68 E(ed.)-.18 E .267(The hook should be connectable dir)150
222 R .267(ectly to a link hook of the)-.18 F F2(ng_ppp\(3\))2.767 E F1
(netgraph)2.766 E .547(node type.)150 234 R .548
(That is, it should be pr)5.547 F(epar)-.18 E .548(ed to transmit and r)
-.18 F .548(eceive PPP frames start-)-.18 F 1.237(ing with the addr)150
246 R 1.237(ess and contr)-.18 F 1.237(ol \214elds \(unless compr)-.18 F
1.236(essed\), followed by the PPP)-.18 F(pr)150 258 Q(otocol number an\
d information \214elds, but containing no checksum \214eld.)-.18 E/F4 14
/Helvetica-Bold@0 SF 3.892(5.3 TCP)90 280 R(de)3.892 E
(vice type commands)-.21 E F1 .598
(This chapter describes commands that ar)90 316 R 3.098(es)-.18 G .598
(peci\214c to TCP type links.)-3.098 F .598(These commands apply to)
5.598 F(the curr)90 328 Q(ently active link, and ar)-.18 E 2.5(eo)-.18 G
(nly valid if the curr)-2.5 E(ently active link has type)-.18 E/F5 10
/Palatino-Bold@0 SF(tcp)2.5 E F1(.)A(Due to limitations of ng_ksocket m\
odule this device type have two issues:)90 346 Q/F6 8/Palatino-Roman@0
SF<83>105.152 364 Q F1 1.414(when ther)5 F 3.914(ea)-.18 G 1.774 -.18
(re n)-3.914 H 3.914(of).18 G -.18(re)-3.914 G 3.914(ei).18 G 1.413
(ncoming link, new connection will anyway be acceped and then)-3.914 F
(dr)115 376 Q(opped instead of not accepting it,)-.18 E F6<83>105.152
394 Q F1 .287(tcp connection status is not monitor)5 F .287
(ed, so you should use 'set link keep-alive' to detect br)-.18 F(o-)-.18
E(ken links.)115 406 Q F2(set tcp self)120 424 Q F3(ipaddr)6 E F1([)2.5
E F3(port)2.5 E F1(])2.5 E .518(Sets the local IP addr)150 436 R .518
(ess and port for the TCP connection.)-.18 F .518(Port \214eld is r)
5.518 F(equir)-.18 E .518(ed for)-.18 F(accepting incoming connections.)
150 448 Q F2(set tcp peer)120 466 Q F3(ipaddr)6 E F1([)2.5 E F3(port)2.5
E F1(])2.5 E .78(Sets the peer IP addr)150 478 R .781
(ess and port for the TCP connection.)-.18 F(Addr)5.781 E .781
(ess and port \214elds)-.18 F(ar)150 490 Q 3.01(er)-.18 G(equir)-3.19 E
.509(ed for outgoing connections.)-.18 F .509
(For incoming connections it is not r)5.509 F(equir)-.18 E(ed,)-.18 E
(but can limit who can connect to us.)150 502 Q
(The following options ar)90 520 Q 2.5(es)-.18 G(upported:)-2.5 E F2
(resolve-once)120 538 Q F1(Enables r)150 550 Q(esolving peer addr)-.18 E
(ess only once, on startup, or on manual typing in CLI.)-.18 E
(The default is enable.)150 568 Q F4 3.892(5.4 UDP)90 602 R(de)3.892 E
(vice type commands)-.21 E F1 .433
(This chapter describes commands that ar)90 638 R 2.933(es)-.18 G .434
(peci\214c to UDP type links.)-2.933 F .434(These commands apply to)
5.434 F(the curr)90 650 Q(ently active link, and ar)-.18 E 2.5(eo)-.18 G
(nly valid if the curr)-2.5 E(ently active link has type)-.18 E F5(udp)
2.5 E F1(.)A .176(It is suggested that the)90 668 R F2 .176
(set iface mtu)2.676 F F1 .176
(command be used when this link type is in use to avoid)2.676 F(IP frag\
mentation if you want to get something better channel utilization.)90
680 Q F5(Note:)90 698 Q F1 -.92(Te)2.863 G .363
(chnically this device type is not completely corr).92 F .363
(ect, because PPP links ar)-.18 F 2.864(en)-.18 G .364(ot allowed to)
-2.864 F -.18(re)90 710 S(-or).18 E 1.279
(der frames, yet UDP packets can be deliver)-.18 F 1.279(ed out of or)
-.18 F 1.279(der. Ther)-.18 F(efor)-.18 E 1.278(e, if you use this link)
-.18 F .364(type you should not enable multi-link PPP)90 722 R 2.864(,P)
-1.29 G .364(PP encryption, or PPP compr)-2.864 F 2.864
(ession. Otherwise,)-.18 F(out)2.864 E(of or)90 734 Q
(der frames will be dr)-.18 E
(opped, leading to performance degradation.)-.18 E 0 Cg EP
%%Page: 68 68
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(68)333.68 E/F1 10
/Courier@0 SF(set udp self)120 96 Q/F2 10/Palatino-Italic@0 SF(ipaddr)6
E/F3 10/Palatino-Roman@0 SF([)2.5 E F2(port)2.5 E F3(])2.5 E .516
(Sets the local IP addr)150 108 R .516
(ess and port for the UDP connection.)-.18 F .516
(If none is speci\214ed, any)5.516 F .172(suitable local IP addr)150 120
R .172(ess is used.)-.18 F .173(Port speci\214cation is r)5.172 F(equir)
-.18 E .173(ed for incoming connec-)-.18 F(tion accepting.)150 132 Q F1
(set udp peer)120 150 Q F2(ipaddr)6 E F3([)2.5 E F2(port)2.5 E F3(])2.5
E .069(Sets the peer IP addr)150 162 R .069
(ess and port for the UDP connection.)-.18 F(Addr)5.068 E .068
(ess and port speci\214-)-.18 F 1.866(cation is r)150 174 R(equir)-.18 E
1.866(ed for connection originating.)-.18 F 1.867
(For incoming connections it is not)6.866 F -.18(re)150 186 S(quir).18 E
(ed, but can limit who can connect to us.)-.18 E
(The following options ar)90 204 Q 2.5(es)-.18 G(upported:)-2.5 E F1
(resolve-once)120 222 Q F3(Enables r)150 234 Q(esolving peer addr)-.18 E
(ess only once, on startup, or on manual typing in CLI.)-.18 E
(The default is enable.)150 252 Q/F4 14/Helvetica-Bold@0 SF 3.892
(5.5 PPTP)90 286 R(de)3.892 E(vice type commands)-.21 E F3 .242
(This chapter describes commands that ar)90 322 R 2.742(es)-.18 G .241
(peci\214c to PPTP type links.)-2.742 F .241(These commands apply to)
5.241 F(the curr)90 334 Q(ently active link, and ar)-.18 E 2.5(eo)-.18 G
(nly valid if the curr)-2.5 E(ently active link has type)-.18 E/F5 10
/Palatino-Bold@0 SF(pptp)2.5 E F3(.)A .681(The PPTP pr)90 352 R .682(ot\
ocol can be most easily understood as just another link layer type, whe\
r)-.18 F 3.182(et)-.18 G .682(he link)-3.182 F .388(layer medium just h\
appens to be an IP connection. So, for example, instead of con\214gurin\
g a tele-)90 364 R .975
(phone number to dial as you would with a modem, you con\214gur)90 376 R
3.475(ea)-.18 G 3.476(nI)-3.475 G 3.476(Pa)-3.476 G(ddr)-3.476 E .976
(ess to connect to.)-.18 F .371(Everything else that's above the link l\
ayer functions exactly the same. Hence PPTP allows you to)90 388 R -.37
(``)90 400 S(tunnel'' PPP frames over IP.).37 E .53
(Note that PPTP connections ar)90 418 R 3.03(ei)-.18 G .53
(nitiated by a TCP connection fr)-3.03 F .53(om one machine to another)
-.18 F 3.03(,a)-.74 G(nd)-3.03 E 1.624(that servers usually listen to T\
CP port 1723 \(and this is the default for)90 430 R F2(port)4.124 E F3
1.624(in the commands)4.124 F 1.103(below\). PPTP also uses the GRE pr)
90 442 R 1.103(otocol, which has IP pr)-.18 F 1.104(otocol number 47. Y)
-.18 F 1.104(our \214r)-.92 F 1.104(ewall may)-.18 F
(need to be adjusted to allows this type of IP packet.)90 454 Q
(Complete PPTP network topology looks like:)90 472 Q/F6 8/Courier@0 SF
(client <- some link type -> PAC <- PPTP tunnel -> PNS)110 488 Q F3 -.92
(PA)90 512 S 3.734(Ci).92 G 3.734(sp)-3.734 G 1.234(hysical level r)
-3.734 F(epeater)-.18 E 3.734(,w)-.74 G 1.233(hich r)-3.734 F 1.233
(eceives PPP connection of some type and forwar)-.18 F 1.233(ds it to)
-.18 F 1.124(PNS using PPTP pr)90 524 R 1.124
(otocol. PNS is a PPP endpoint, which r)-.18 F 1.124
(eceives PPP frames via PPTP tunnel)-.18 F(and pr)90 536 Q
(ocesses them.)-.18 E(In simple case, when physical conversion is not r)
90 554 Q(equir)-.18 E(ed, topology can be simpli\214ed to:)-.18 E F6
(client \(PAC emulator\) <- PPTP tunnel -> PNS)110 570 Q F3 .024
(Mpd is able to operate in both P)90 594 R .024(AC and PNS modes. As P)
-.92 F .024(AC mpd supports both simple case P)-.92 F(AC)-.92 E .053
(emulator and complete P)90 606 R .054(AC topologies. Complete P)-.92 F
.054(AC can be con\214gur)-.92 F .054(ed by joining two physical)-.18 F
(devices using mpd's r)90 618 Q(epeater functionality.)-.18 E F1
(set pptp self)120 636 Q F2(ipaddr)6 E F3([)2.5 E F2(port)2.5 E F3(])2.5
E(Sets the local IP addr)150 648 Q
(ess and port for the PPTP connection.)-.18 E F1(set pptp peer)120 666 Q
F2(ipaddr)6 E F3([)2.5 E F2(port)2.5 E F3(])2.5 E .749
(Sets the peer IP addr)150 678 R .748
(ess and port for the PPTP connection.)-.18 F .748(This command applies)
5.748 F 1.373(to both incoming and outgoing connections.)150 690 R 1.373
(For outgoing connections, this com-)6.373 F .22(mand is r)150 702 R
(equir)-.18 E .22(ed in or)-.18 F .219(der to specify wher)-.18 F 2.719
(et)-.18 G 2.719(oc)-2.719 G .219(onnect to. For incoming connections,)
-2.719 F .14(this command is optional; if not given, mpd accepts incomi\
ng connections fr)150 714 R .14(om any)-.18 F .5
(host. Otherwise, only connections fr)150 726 R .5
(om the stated IP addr)-.18 F .5(ess \(and, optionally)-.18 F 3(,p)-1.11
G(ort\))-3 E(ar)150 738 Q 2.5(ea)-.18 G(llowed.)-2.5 E 0 Cg EP
%%Page: 69 69
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(69)333.68 E/F1 10
/Courier@0 SF(set pptp callingnum)120 96 Q/F2 10/Palatino-Italic@0 SF
(number)6 E F1(set pptp callednum)120 114 Q F2(number)6 E/F3 10
/Palatino-Roman@0 SF .353(Sets the calling and called telephone number \
to use when initiating a PPTP connec-)150 126 R .19
(tion. For most VPN applications this is ignor)150 138 R .19
(ed, but in certain cases an actual phone)-.18 F(number is r)150 150 Q
(equir)-.18 E 2.5(ed. The)-.18 F(default is the empty string.)2.5 E F1
(set pptp enable)120 168 Q F2(option ...)6 E F1(set pptp disable)120 186
Q F2(option ...)6 E F3
(Enable and disable PPTP device type options for the link.)150 204 Q
(The following options ar)90 222 Q 2.5(es)-.18 G(upported:)-2.5 E F1
(outcall)120 240 Q F3 .908(In PPTP)150 252 R 3.408(,e)-1.29 G .908
(ach individual PPP connection between two IP hosts \(ther)-3.408 F
3.409(em)-.18 G .909(ay be sev-)-3.409 F .813(eral, and these ar)150 264
R 3.313(en)-.18 G .813(ot to be confused with the)-3.313 F F2(single)
3.313 E F3 .812(TCP connection between any)3.313 F .7(two IP hosts\), i\
s initiated as either an incoming or an outgoing call.)150 276 R .7
(This allows to)5.7 F .558
(make an outgoing phone call \(by PNS\) via a r)150 288 R .558
(emote access server \(P)-.18 F .558(AC\), as well as)-.92 F .426
(in mor)150 300 R 2.926(ec)-.18 G .426(ommon case forwar)-2.926 F 2.926
(da)-.18 G 2.926(ni)-2.926 G .426(ncoming phone call fr)-2.926 F .426
(om an access server \(P)-.18 F(AC\))-.92 E(to a r)150 312 Q
(emote PPTP server \(PNS\).)-.18 E .343(When this option is enabled, mp\
d will initiate outgoing calls \(PNS\); otherwise mpd)150 330 R .571
(will initiate incoming calls \(P)150 342 R .572
(AC\). Although it seems that incoming would be mor)-.92 F(e)-.18 E
(corr)150 354 Q 3.004(ect, the default is outgoing, as this is consiste\
nt with the behavior of the)-.18 F(Micr)150 366 Q
(osoft PPTP dial-up adapter client.)-.18 E
(Mpd will accept either type of call on an incoming PPTP connection.)150
384 Q F1(delayed-ack)120 402 Q F3(Enable delayed ACK's. This can impr)
150 414 Q(ove thr)-.18 E(oughput on r)-.18 E(eliable links.)-.18 E
(The default is enable.)150 432 Q F1(always-ack)120 450 Q F3 .696
(Always include ACK even if alr)150 462 R .696(eady sent. This can impr)
-.18 F .696(ove thr)-.18 F .696(oughput on unr)-.18 F(eli-)-.18 E
(able links.)150 474 Q(The default is disable.)150 492 Q F1(windowing)
120 510 Q F3 1.729
(Enables the windowing mechanism speci\214ed by the pr)150 522 R 1.729
(otocol. Disabling this will)-.18 F .188(cause Mpd to violate the pr)150
534 R .189(otocol, possibly confusing some PPTP peers, but usually)-.18
F -.18(re)150 546 S 1.233
(sults in better performance. The windowing mechanism is a design err)
.18 F 1.232(or in the)-.18 F(PPTP pr)150 558 Q(otocol; L2TP)-.18 E 2.5
(,t)-1.29 G(he successor to PPTP)-2.5 E 2.5(,r)-1.29 G(emoves it.)-2.68
E(The default is disable.)150 576 Q F1(resolve-once)120 594 Q F3
(Enables r)150 606 Q(esolving peer addr)-.18 E
(ess only once, on startup, or on manual typing in CLI.)-.18 E
(The default is enable.)150 624 Q .728(Note that if you ar)90 642 R
3.229(ec)-.18 G .729(onnecting to an NT server)-3.229 F 3.229(,y)-.74 G
.729(our authentication name must include the NT)-3.229 F
(domain name. For example:)90 654 Q/F4 8/Courier@0 SF
(set auth authname "DOMAIN\\\\username")129.2 676 Q F3 .188
(For updating W)90 700 R .188(indows 95 and 98 clients so they work pr)
-.55 F(operly)-.18 E 2.687(,s)-1.11 G .187(ee VPN Update for W)-2.687 F
.187(indows 98)-.55 F(and Dial-Up Networking 1.3 A)90 712 Q(vailable)
-.92 E 0 Cg EP
%%Page: 70 70
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(70)333.68 E/F1 14
/Helvetica-Bold@0 SF 3.892(5.6 L2TP)90 100 R(de)3.892 E
(vice type commands)-.21 E/F2 10/Palatino-Roman@0 SF .31
(This chapter describes commands that ar)90 136 R 2.811(es)-.18 G .311
(peci\214c to L2TP type links.)-2.811 F .311(These commands apply to)
5.311 F(the curr)90 148 Q(ently active link, and ar)-.18 E 2.5(eo)-.18 G
(nly valid if the curr)-2.5 E(ently active link has type)-.18 E/F3 10
/Palatino-Bold@0 SF(l2tp)2.5 E F2(.)A 1.25(The L2TP pr)90 166 R 1.25(ot\
ocol utilizes UDP datagrams on port 1701 \(and this is the default for)
-.18 F/F4 10/Palatino-Italic@0 SF(port)3.75 E F2 1.25(in the)3.75 F .178
(commands below\) to cr)90 178 R .179
(eate and maintain virtual tunnel between IP peers.)-.18 F .179
(One or mor)5.179 F 2.679(ei)-.18 G(ndepen-)-2.679 E
(dent PPP connections \(sessions\) can be carried inside this tunnel.)90
190 Q(Complete L2TP network topology looks like:)90 208 Q/F5 8/Courier@0
SF(client <- some link type -> LAC <- L2TP tunnel -> LNS)110 224 Q F2
1.168(LAC is physical level r)90 248 R(epeater)-.18 E 3.668(,w)-.74 G
1.167(hich r)-3.668 F 1.167
(eceives PPP connection of some type and forwar)-.18 F 1.167(ds it to)
-.18 F 1.244(LNS using L2TP pr)90 260 R 1.244
(otocol. LNS is a PPP endpoint, which r)-.18 F 1.244
(eceives PPP frames via L2TP tunnel)-.18 F(and pr)90 272 Q
(ocesses them.)-.18 E(In simple case, when physical conversion is not r)
90 290 Q(equir)-.18 E(ed, topology can be simpli\214ed to:)-.18 E F5
(client \(LAC emulator\) <- L2TP tunnel -> LNS)110 306 Q F2 1.228(Mpd i\
s able to operate in both LAC and LNS modes. As LAC mpd supports both s\
imple case)90 330 R 1.125(LAC emulator and complete LAC topologies. Com\
plete LAC can be con\214gur)90 342 R 1.126(ed by joining two)-.18 F
(physical devices using mpd's r)90 354 Q(epeater functionality.)-.18 E
-.55(Wi)90 372 S .137(ndows L2TP client uses IPSec encryption for the a\
dditional tunnel security. So, to let it connect).55 F .875
(you must con\214gur)90 384 R 3.375(eI)-.18 G .875(PSec on your MPD r)
-3.375 F .875(outer or disable IPSec on W)-.18 F .876
(indows by setting r)-.55 F(egistry)-.18 E 3.975(DWORD value Pr)90 396 R
3.975(ohibitIpSec at the key HKEY_LOCAL_MACHINE\\SYSTEM\\Curr)-.18 F
(entCon-)-.18 E(tr)90 408 Q
(olSet\\Services\\RasMan\\Parameters\\ into "1".)-.18 E/F6 10/Courier@0
SF(set l2tp self)120 426 Q F4(ipaddr)6 E F2([)2.5 E F4(port)2.5 E F2(])
2.5 E .732(Sets the local IP addr)150 438 R .732
(ess and port for the L2TP connection.)-.18 F(Ther)5.732 E 3.232(ei)-.18
G 3.233(sk)-3.232 G .733(nown imple-)-3.233 F .423(mentation bug if thi\
s option is not set while accepting incoming connections on the)150 450
R -.18(ro)150 462 S .203(uter with multiple IPs and clients ar).18 F
2.704(ec)-.18 G .204(onnecting not to the near)-2.704 F .204(est addr)
-.18 F .204(ess of this)-.18 F -.18(ro)150 474 S(uter.).18 E F6
(set l2tp peer)120 492 Q F4(ipaddr)6 E F2([)2.5 E F4(port)2.5 E F2(])2.5
E .823(Sets the peer IP addr)150 504 R .823
(ess and port for the L2TP connection.)-.18 F .823(This command applies)
5.823 F 1.373(to both incoming and outgoing connections.)150 516 R 1.373
(For outgoing connections, this com-)6.373 F .22(mand is r)150 528 R
(equir)-.18 E .22(ed in or)-.18 F .219(der to specify wher)-.18 F 2.719
(et)-.18 G 2.719(oc)-2.719 G .219(onnect to. For incoming connections,)
-2.719 F .14(this command is optional; if not given, mpd accepts incomi\
ng connections fr)150 540 R .14(om any)-.18 F .5
(host. Otherwise, only connections fr)150 552 R .5
(om the stated IP addr)-.18 F .5(ess \(and, optionally)-.18 F 3(,p)-1.11
G(ort\))-3 E(ar)150 564 Q 2.5(ea)-.18 G(llowed.)-2.5 E F6
(set l2tp hostname)120 582 Q F4(name)6 E F2 1.594(Sets the L2TP tunnel \
local hostname. For server side, only one unique hostname)150 594 R .953
(supported for every pair of listening IP \(set l2tp self ...\))150 606
R .952(and peer ip \(set l2tp peer)5.952 F 2.774(...\). If)150 618 R
.274(several hostnames de\214ned, only the \214rst matching will be use\
d for all incom-)2.774 F(ing connections.)150 630 Q F6(set l2tp pmask)
120 648 Q F4(mask)6 E F2 .167(Check peer hostname, r)150 660 R .167
(elated to wildcar)-.18 F(d)-.18 E F4(mask)2.666 E F2 5.166(.W)C(ildcar)
-5.716 E 2.666(dc)-.18 G .166(an contain any shell-like)-2.666 F .141
(mask, such as "*.myhost.com" Peer can set self hostname with)150 672 R
F4 .142(set l2tp hostname)2.642 F F2(com-)2.642 E(mand.)150 684 Q F6
(set l2tp secret)120 702 Q F4(secr)6 E(et)-.18 E F2 1.797
(Sets the L2TP tunnel secr)150 714 R 1.796
(et. Used to authenticate tunnel connection and encrypt)-.18 F 2.32
(important contr)150 726 R 2.321
(ol packets avpairs. For server side, only one unique secr)-.18 F 2.321
(et sup-)-.18 F .222
(ported for every pair of listening IP \(set l2tp self ...\))150 738 R
.221(and peer ip \(set l2tp peer ...\).)5.222 F(If)5.221 E 0 Cg EP
%%Page: 71 71
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(71)333.68 E/F1 10
/Palatino-Roman@0 SF .133(several secr)150 96 R .134(ets de\214ned, onl\
y the \214rst matching will be used for all incoming connec-)-.18 F
(tions.)150 108 Q 1.01(NOTE: This options is not r)150 126 R 1.01
(elated with usual PPP authentication.)-.18 F -.55(Wi)6.01 G 1.01
(ndows client).55 F(does not support tunnel authentication.)150 138 Q/F2
10/Courier@0 SF(set l2tp callingnum)120 156 Q/F3 10/Palatino-Italic@0 SF
(number)6 E F2(set l2tp callednum)120 174 Q F3(number)6 E F1 .428(Sets \
the calling and called telephone number to use when initiating a L2TP c\
onnec-)150 186 R .19(tion. For most VPN applications this is ignor)150
198 R .19(ed, but in certain cases an actual phone)-.18 F(number is r)
150 210 Q(equir)-.18 E 2.5(ed. The)-.18 F(default is the empty string.)
2.5 E F2(set l2tp enable)120 228 Q F3(option ...)6 E F2
(set l2tp disable)120 246 Q F3(option ...)6 E F1
(Enable and disable L2TP device type options for the link.)150 264 Q
(The following options ar)90 282 Q 2.5(es)-.18 G(upported:)-2.5 E F2
(outcall)120 300 Q F1 .556
(Inside L2TP tunnel, each individual PPP connection \(ther)150 312 R
3.057(em)-.18 G .557(ay be several\), is initi-)-3.057 F 1.302
(ated as either an incoming or an outgoing call.)150 324 R 1.301
(This allows to make an outgoing)6.301 F .796
(phone call \(by LNS\) via a r)150 336 R .797
(emote access server \(LAC\), as well as in mor)-.18 F 3.297(ec)-.18 G
(ommon)-3.297 E .327(case forwar)150 348 R 2.827(da)-.18 G 2.827(ni)
-2.827 G .327(ncoming phone call fr)-2.827 F .326
(om an access server \(LAC\) to a r)-.18 F .326(emote L2TP)-.18 F
(server \(LNS\).)150 360 Q .337(When this option is enabled, mpd will i\
nitiate outgoing calls \(LNS\); otherwise mpd)150 378 R
(will initiate incoming calls \(LAC\).)150 390 Q
(The default is disable.)150 408 Q F2(hidden)120 426 Q F1 1.602
(When L2TP tunnel secr)150 438 R 1.602(et is con\214gur)-.18 F 1.601
(ed it is possible hide \(encrypt\) some contr)-.18 F(ol)-.18 E
(data for additional pr)150 450 Q(otection.)-.18 E
(The default is disable.)150 468 Q F2(length)120 486 Q F1 .298
(By default L2TP uses header Length \214eld for contr)150 498 R .298
(ol packets, but not for data pack-)-.18 F .558
(ets. This option enables Length \214eld for data packets.)150 510 R
.557(This featur)5.558 F 3.057(ee)-.18 G .557(nabled may be)-3.057 F
.029(useful on links wher)150 522 R 2.529(ep)-.18 G .029
(ackets padding may happend. Disabling it r)-2.529 F .03(educes over)
-.18 F(head)-.18 E(by 2 bytes per packet.)150 534 Q
(The default is disable.)150 552 Q F2(dataseq)120 570 Q F1 .332
(By default L2TP r)150 582 R(equir)-.18 E .332
(es header sequence \214elds for contr)-.18 F .331
(ol packets, but not r)-.18 F(equir)-.18 E(e)-.18 E 1.348(them for data\
 packets. This option enables sequence \214elds for data packets.)150
594 R(This)6.349 E(featur)150 606 Q 2.901(ee)-.18 G .401
(nabled may be useful on links wher)-2.901 F 2.901(ep)-.18 G .401
(ackets r)-2.901 F(eor)-.18 E .4(dering may happend but)-.18 F
(it is intolerable. Disabling it r)150 618 Q(educes over)-.18 E
(head by 4 bytes per packet.)-.18 E(The default is enable.)150 636 Q F2
(resolve-once)120 654 Q F1(Enables r)150 666 Q(esolving peer addr)-.18 E
(ess only once, on startup, or on manual typing in CLI.)-.18 E
(The default is enable.)150 684 Q/F4 14/Helvetica-Bold@0 SF 3.892
(5.7 PPP)90 706 R(oE de)-.56 E(vice type commands)-.21 E F1 .704
(This chapter describes commands that ar)90 742 R 3.205(es)-.18 G .705
(peci\214c to PPPoE type links.)-3.205 F .705(These commands apply)5.705
F 0 Cg EP
%%Page: 72 72
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(72)333.68 E/F1 10
/Palatino-Roman@0 SF(to the curr)90 96 Q(ently active link, and ar)-.18
E 2.5(eo)-.18 G(nly valid if the curr)-2.5 E(ently active link has type)
-.18 E/F2 10/Palatino-Bold@0 SF(pppoe)2.5 E F1(.)A .003(PPPoE r)90 114 R
(equir)-.18 E .002(es two pieces of con\214guration information: the na\
me of the Ethernet interface to use,)-.18 F .947(and a service name, wh\
ich should be supplied by your ISP. If you do not have a service name,)
90 126 R(then the empty string \(the default\) often suf)90 138 Q
(\214ces.)-.18 E 2.214(DSL For)90 156 R 2.214(um vendor)-.08 F 2.214
(-speci\214c Cir)-.18 F 2.213
(cuit-ID/Remote-ID PPPoE tags extraction supported in server)-.18 F
(mode.)90 168 Q/F3 10/Courier@0 SF(set pppoe iface)120 186 Q/F4 10
/Palatino-Italic@0 SF(interface-name)6 E F1 .883
(Set the name of the Ethernet interface to use. PPPoE does not af)150
198 R .883(fect normal use of)-.18 F(the interface.)150 210 Q F3
(set pppoe service)120 228 Q F4(service-name)6 E F1 1.724(Sets the r)150
240 R 1.724
(equested PPPoE service name. Setting service name to "*" on link with)
-.18 F .803
(allowed incoming connections allows to accept incoming connection r)150
252 R .804(equests with)-.18 F(any service name speci\214ed.)150 264 Q
2.401(Since Fr)150 282 R 2.401(eeBSD 6.3-ST)-.18 F(ABLE/7.0-ST)-.74 E
2.401(ABLE of 2008-01-30 it is possible to use "AC-)-.74 F 1.01
(Name\\Service-Name" syntax to r)150 294 R 1.01
(equest speci\214ed access concentrator for outgoing)-.18 F(connection.)
150 306 Q(The default is "*".)150 324 Q F3(set pppoe acname)120 342 Q F4
(name)6 E F1 1.388
(Set name of this PPPoE access concentrator to be sent to clients.)150
354 R 1.387(If not speci\214ed,)6.388 F(local hostname will be used.)150
366 Q F3(set pppoe mac-format)120 384 Q F4(format)6 E F1
(Set RADIUS server attribute 31 MAC format as:)150 396 Q/F5 8/Courier@0
SF 14.4(unformatted aabbccddeeff)170 412 R 24
(unix-like aa:bb:cc:dd:ee:ff)170 422 R 19.2(cisco-like aabb.ccdd.eeff)
170 432 R 48(ietf aa-bb-cc-dd-ee-ff)170 442 R F1
(The default is "unformatted".)150 466 Q F3(set pppoe max-payload)120
484 Q F4(size)6 E F1 .341(Set PPP-Max-Payload PPPoE tag \(RFC4638\).)150
496 R .341(This option works when mpd5 acts as)5.341 F 1.58
(PPPoE client only.)150 508 R 1.58(This option takes pr)6.58 F 1.58
(ecedence over both)-.18 F F3 1.58(set link mtu)4.08 F F1(and)4.08 E F3
(set link mru)150 520 Q F1(options, if PPPoE server agr)2.5 E
(ees with our setting.)-.18 E 0 Cg EP
%%Page: 73 73
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(73)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(6. Chat)90 102 R(Scripting)4.448 E/F2 10
/Palatino-Roman@0 SF 1.165(Mpd includes a powerful chat scripting langu\
age for use with links of type)90 138 R/F3 10/Palatino-Bold@0 SF(modem)
3.666 E F2 3.666(,i)C 1.166(.e., asyn-)-3.666 F(chr)90 150 Q .584
(onous serial ports.)-.18 F .583(The language is interpr)5.584 F .583
(eted and executed dynamically and supports fully)-.18 F
(event driven pr)90 162 Q(ocessing with timeouts and r)-.18 E
(egular expr)-.18 E(ession pattern matching.)-.18 E .504
(Much of what is described below is mor)90 180 R 3.004(er)-.18 G .504
(eadily understood by looking at the)-3.184 F/F4 10/Courier@0 SF
(mpd.script)3.004 E F2(\214le)3.004 E(that is included with mpd.)90 192
Q/F5 14/Helvetica-Bold@0 SF 3.892(6.1 Script)90 214 R(\214le f)3.892 E
(ormat and e)-.28 E -.14(xe)-.21 G(cution).14 E F2 .328(The syntax for)
90 250 R F4(mpd.script)2.828 E F2 .328(is similar to the other mpd con\
\214guration \214les. Lines beginning with)2.828 F 2.918(ah)90 262 S
.418(ash sign ar)-2.918 F 2.918(ei)-.18 G(gnor)-2.918 E 2.918(ed. A)-.18
F F3(label)2.918 E F2 .418
(sits on its own line, starting in the \214rst column and ends with a)
2.918 F(colon character.)90 274 Q F3(Chat commands)90 292 Q F2(ar)2.5 E
2.5(ei)-.18 G(ndented with tab characters and written one per line.)-2.5
E 1.722(Commands ar)90 310 R 4.222(ee)-.18 G 1.722
(xecuted sequentially.)-4.222 F 1.722
(Execution continues without stopping until ther)6.722 F 4.221(ei)-.18 G
4.221(sa)-4.221 G(n)-4.221 E(err)90 322 Q
(or or one of the following commands is encounter)-.18 E(ed:)-.18 E/F6 8
/Palatino-Roman@0 SF<83>105.152 340 Q F4(success)5 E F2(The script r)2.5
E(eturns success.)-.18 E F6<83>105.152 358 Q F4(failure)5 E F2
(The script r)2.5 E(eturns failur)-.18 E(e.)-.18 E F6<83>105.152 376 Q
F4(wait)5 E F2(Execution of the script is halted until an)2.5 E F3
(event)2.5 E F2(occurs.)2.5 E(Events ar)90 400 Q 2.5(ed)-.18 G
(escribed in the next section.)-2.5 E F5 3.892(6.2 Events)90 422 R F2
(An)90 458 Q F3(event)2.871 E F2 .371
(is either the expiration of a timer)2.871 F 2.871(,o)-.74 G 2.871(rt)
-2.871 G .371(he matching of some pattern in the input.)-2.871 F(Events)
5.372 E .475(that have not happened yet ar)90 470 R(e)-.18 E F3 .475
(pending events)2.975 F F2 2.975(.P)C .475(ending events ar)-2.975 F
2.974(ec)-.18 G -.18(re)-2.974 G .474(ated with the).18 F F4(timer)2.974
E F2(and)2.974 E F4(match)90 482 Q F2(commands, r)2.5 E(espectively.)
-.18 E .342(Each pending event has an associated label \(called the)90
500 R F3 .342(target label)2.842 F F2 2.842(\)o)C 2.843(ft)-2.842 G .343
(he event. When and if the)-2.843 F .725(event occurs, execution r)90
512 R .724(esumes starting at the tar)-.18 F .724
(get label. Events only occur during the execu-)-.18 F(tion of a)90 524
Q F4(wait)2.5 E F2(command.)2.5 E .577(Events ar)90 542 R 3.077(eg)-.18
G -.18(ro)-3.077 G .577(uped into named).18 F F3(sets)3.077 E F2 3.077
(.E)C .578(vents in the same set ar)-3.077 F 3.078(eu)-.18 G .578
(sually r)-3.078 F .578(elated, in the sense that)-.18 F(they r)90 554 Q
(epr)-.18 E(esent alternate outcomes to the same situation.)-.18 E 3.737
(As)90 572 S 1.237(et of pending events may be explicitly)-3.737 F F3
(cancelled)3.737 E F2 1.237(\(i.e., for)3.737 F 1.236(gotten\) befor)
-.18 F 3.736(et)-.18 G 1.236(hey occur with the)-3.736 F F4(cancel)90
584 Q F2(command. All events in the set ar)2.5 E 2.5(ec)-.18 G
(ancelled.)-2.5 E .776
(The other way a set of pending events may be cancelled is implicitly)90
602 R 3.276(,w)-1.11 G .776(hen any event in the set)-3.276 F .003
(occurs. Execution r)90 614 R .003(esumes at the tar)-.18 F .003
(get label associated with the event that occurr)-.18 F .002
(ed, and all other)-.18 F(events in that set ar)90 626 Q 2.5(ei)-.18 G
(mmediately cancelled.)-2.5 E/F7 12/Helvetica-Bold@0 SF 3.336
(6.2.1 Timer)90 646 R -.18(ev)3.336 G(ents).18 E F2 -.55(Ti)90 682 S
.171(mer events ar).55 F 2.671(ec)-.18 G -.18(re)-2.671 G .171
(ated with the).18 F F4(timer)2.671 E F2 2.671(command. The)2.671 F .172
(timer event occurs when the designated)2.672 F 1.338
(time has elapsed, starting fr)90 694 R 1.338(om the time at which the)
-.18 F F4(timer)3.838 E F2 1.338(statement was executed.)3.838 F
(Further)6.337 E(execution continues starting with the tar)90 706 Q
(get label speci\214ed by the)-.18 E F4(timer)2.5 E F2(command.)2.5 E
-.55(Ti)90 724 S(mer events \(like all events\) can only occur during t\
he execution of a).55 E F4(wait)2.5 E F2(command.)2.5 E 0 Cg EP
%%Page: 74 74
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(74)333.68 E/F1 12
/Helvetica-Bold@0 SF 3.336(6.2.2 Matc)90 98 R 3.336(he)-.12 G(vents)
-3.516 E/F2 10/Palatino-Roman@0 SF .05(Match events ar)90 134 R 2.55(ec)
-.18 G -.18(re)-2.55 G .05(ated with the).18 F/F3 10/Courier@0 SF(match)
2.55 E F2(and)2.55 E F3(regex)2.55 E F2 2.55(commands. A)2.55 F .05
(match event occurs when the)2.55 F .14(pattern speci\214ed in the)90
146 R F3(match)2.64 E F2(or)2.64 E F3(regex)2.64 E F2 .14
(command has been matched in the input. Characters ar)2.64 F(e)-.18 E
1.515(only input during the execution of)90 158 R F3(wait)4.015 E F2
1.516(commands. In or)4.016 F 1.516
(der for a pattern to match, the \214rst)-.18 F .16
(matching character of the pattern must be r)90 170 R(ead)-.18 E/F4 10
/Palatino-Italic@0 SF(after)2.659 E F2 .159(the event is cr)2.659 F .159
(eated \(i.e., during a subsequent)-.18 F F3(wait)90 182 Q F2
(command\).)2.5 E 1.151(When the pattern is matched, chat script execut\
ion continues starting at the tar)90 200 R 1.151(get label. When)-.18 F
.425(multiple patterns match on the same input character)90 212 R 2.925
(,m)-.74 G .425(pd chooses the \214rst one de\214ned to be the)-2.925 F
(one that matches.)90 224 Q
(The pattern is either plain text or an extended r)90 242 Q(egular expr)
-.18 E(ession \(see below\).)-.18 E/F5 14/Helvetica-Bold@0 SF 3.892
(6.3 Sets)90 264 R F2 2.944(As)90 300 S .444(et is a collection of pend\
ing timer and/or match events. When any one event occurs, or upon)-2.944
F(execution of the appr)90 312 Q(opriate)-.18 E F3(cancel)2.5 E F2
(command, all events in the set ar)2.5 E 2.5(ec)-.18 G(ancelled.)-2.5 E
.383(Multiple sets may be active at any time. The occurr)90 330 R .383
(ence of an event fr)-.18 F .383(om one set has no ef)-.18 F .383
(fect on)-.18 F(events in other sets.)90 342 Q F1 3.336(6.3.1 Special)90
362 R(sets and tar)3.336 E .12(ge)-.18 G(ts)-.12 E F2(The)90 398 Q F3
(timer)3.224 E F2(,)A F3(match)3.224 E F2(and)3.224 E F3(regex)3.224 E
F2 .724(commands may specify \(by omission\) the)3.224 F/F6 10
/Palatino-Bold@0 SF .724(default set)3.224 F F2 3.224(.T)C .724
(his set is)-3.224 F 1.73(exactly like any other set, except that it is\
 automatically cancelled after the occurr)90 410 R 1.73(ence of)-.18 F
F4(any)4.23 E F2
(event. It may be explicitly named by using the empty string, \(ie,)90
422 Q F3("")2.5 E F2(\).)A(The)90 440 Q F3(timer)2.632 E F2(,)A F3
(match)2.632 E F2(and)2.632 E F3(regex)2.632 E F2 .132
(commands may also specify \(by omission\) the)2.632 F F6 .133
(default target)2.632 F F2 2.633(.T)C(his)-2.633 E(tar)90 452 Q .645
(get, whose name is also the empty string, has the special pr)-.18 F
.644(opery that it always r)-.18 F .644(efers to `)-.18 F(`the)-.37 E
.946(statement immediately following the next wait statement.'')90 464 R
.946(That is, if the tar)5.946 F .946(get of any event is)-.18 F .407
(the default tar)90 476 R .407(get, the occurr)-.18 F .407
(ence of that event just causes execution to continue starting with the)
-.18 F(statement following the wait statement.)90 488 Q(Finally)90 506 Q
3.286(,w)-1.11 G(hen)-3.286 E F3(all)3.286 E F2 .786(is used with the `)
3.286 F .786(`cancel'' command,)-.37 F F4(all)3.286 E F2 .787
(sets \(i.e., all pending events\) ar)3.286 F 3.287(ec)-.18 G(an-)-3.287
E(celled.)90 518 Q F5 3.892(6.4 V)90 540 R(ariab)-.84 E(les)-.14 E F6
-1.11(Va)90 576 S(riables)1.11 E F2 1.397(hold simple strings. They ar)
3.897 F 3.897(eg)-.18 G 1.396(lobal and come in two types:)-3.897 F F6
(temporary)3.896 E F2(and)3.896 E F6(perma-)3.896 E(nent)90 588 Q F2
3.56(.P)C 1.061(ermanent variables persist over multiple invocations of\
 the chat script, while temporary)-3.56 F(variables ar)90 600 Q 2.5(ef)
-.18 G(or)-2.5 E(gotten each time the script completes.)-.18 E -.92(Va)
90 618 S 1.633(riables ar).92 F 4.133(es)-.18 G 1.633
(peci\214ed with a dollar sign, then a letter)-4.133 F 4.133(,f)-.74 G
1.632(ollowed by letters, digits, and under)-4.133 F(-)-.18 E(scor)90
630 Q 1.166(es. If the \214rst letter is upper case the variable is per\
manent; otherwise it is temporary. The)-.18 F
(variable name may be optionally enclosed in curly braces.)90 642 Q
(Examples:)90 660 Q/F7 8/Courier@0 SF($initString)110 676 Q
($My_variable_234)110 686 Q(${i_am_safely_followed_by_a_letter})110 696
Q 0 Cg EP
%%Page: 75 75
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(75)333.68 E/F1 12
/Helvetica-Bold@0 SF 3.336(6.4.1 Special)90 98 R -.24(va)3.336 G(riab)
.24 E(les)-.12 E/F2 10/Palatino-Roman@0 SF
(These variables have special meaning in chat scripts:)90 134 Q/F3 10
/Courier@0 SF($Login)120 152 Q F2(Authorization login name as set by)150
164 Q F3(set auth authname)2.5 E F2(.)A F3($Password)120 182 Q F2
(The passwor)150 194 Q 2.5(dc)-.18 G(orr)-2.5 E(esponding to)-.18 E F3
($Login)2.5 E F2(.)A F3($modemDevice)120 212 Q F2 1.641
(The serial port device in use as set by the)150 224 R F3 1.64
(set modem device)4.141 F F2 1.64(command, e.g.,)4.14 F F3(/dev/cuau0)
150 236 Q F2 5(.C)C
(hanging this string does not change the port being used.)-5 E F3
($Baudrate)120 254 Q F2 1.388(Always equals the curr)150 266 R 1.388
(ent baudrate \(e.g., `)-.18 F 1.388(`57600''\). This is a r)-.37 F
1.389(ead/write variable;)-.18 F 1.24(setting it changes the baudrate.)
150 278 R 1.24(Attempting to set an invalid baudrate causes the)6.24 F
(script to fail.)150 290 Q F3($matchedString)120 308 Q F2 1.013(When a)
150 320 R F3(match)3.513 E F2 1.014
(event occurs this string contains the input string that matched the)
3.514 F(pattern.)150 332 Q F3($matchedString0)120 350 Q($matchedString1)
120 368 Q($matchedString2)120 386 Q(...)120 404 Q F2 .904(When a)150 422
R F3(regex)3.404 E F2 .904(event occurs or the)3.404 F F3 .904(if match)
3.404 F F2(or)3.403 E F3 .903(if !match)3.403 F F2 .903(commands ar)
3.403 F 3.403(ee)-.18 G(xe-)-3.403 E 1.723(cuted, and the r)150 434 R
1.724(egular expr)-.18 F 1.724(ession pattern contains par)-.18 F 1.724
(enthesized subexpr)-.18 F(essions,)-.18 E 4.685
(these strings will be equal to the substrings matching each subexpr)150
446 R(ession.)-.18 E F3($matchedString0)150 458 Q F2 .945
(is equal to the entir)3.445 F 3.446(es)-.18 G .946(tring, while)-3.446
F F3($matchedString1)3.446 E F2(equals)3.446 E(the \214rst subexpr)150
470 Q(ession match,)-.18 E F3($matchedString2)2.5 E F2(the second, etc.)
2.5 E F3($IdleResult)120 488 Q F2 1.101(This variable is used to r)150
500 R 1.101(eturn the r)-.18 F 1.101(esult of an)-.18 F/F4 10
/Palatino-Bold@0 SF 1.1(idle script)3.601 F F2 3.6(;I)C 3.6(ft)-3.6 G
1.1(he value is)-3.6 F F3(answer)3.6 E F2(,)A .65
(mpd assumes an incoming call has been answer)150 512 R .65
(ed. If the value is)-.18 F F3(ringback)3.15 E F2 3.15(,m)C(pd)-3.15 E
.489(will initiate an outgoing connection.)150 524 R .488
(See the chapter on)5.488 F/F5 10/Palatino-Italic@0 SF .488
(Modem type commands)2.988 F F2(\(sec-)2.988 E(tion 5.1)150 536 Q 2.5
(,p)5 G(age 66\) for mor)-2.5 E 2.5(ei)-.18 G(nformation.)-2.5 E F3($$)
120 554 Q F2(Always expands to a single dollar sign.)150 566 Q/F6 14
/Helvetica-Bold@0 SF 3.892(6.5 Script)90 588 R(commands)3.892 E F3
(set $)120 624 Q F5(variable-name string)A F2(Set the)150 636 Q F3($)2.5
E F5(variable-name)A F2(equal to)2.5 E F5(string)2.5 E F2 2.5(.T)C(he)
-2.5 E F5(string)2.5 E F2(is variable expanded \214rst.)2.5 E F3(match)
120 654 Q F5(name string label)6 E F3(match)120 672 Q F5(string label)6
E F3(match)120 690 Q F5(string)6 E F2 1.453
(Add a new pending event to event set)150 708 R F5(name)3.953 E F2 1.453
(such that when)3.953 F F5(string)3.953 E F2 1.454(is seen in the)3.953
F .874(input, r)150 720 R .874(esume execution at)-.18 F F5(label)3.374
E F2 3.374(.T)C .874(he match must be exact. All ar)-3.374 F .873
(guments ar)-.18 F 3.373(ev)-.18 G(ari-)-3.373 E(able expanded.)150 732
Q 0 Cg EP
%%Page: 76 76
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(76)333.68 E/F1 10
/Palatino-Roman@0 SF .531(If no)150 96 R/F2 10/Palatino-Italic@0 SF
(name)3.031 E F1 .531(is given, or if)3.031 F F2(name)3.032 E F1 .532
(is the empty string, add the new event to the default)3.032 F(set.)150
108 Q 1.934(If no)150 126 R F2(label)4.434 E F1 1.934(is given, or if)
4.434 F F2(label)4.434 E F1 1.934
(is the empty string, the event causes execution to)4.434 F -.18(re)150
138 S 2.552(sume starting with the statement following the).18 F/F3 10
/Courier@0 SF(wait)5.053 E F1 2.553(command \(i.e., use the)5.053 F
(default tar)150 150 Q(get\).)-.18 E F3(regex)120 168 Q F2
(name pattern label)6 E F3(regex)120 186 Q F2(pattern label)6 E F3
(regex)120 204 Q F2(pattern)6 E F1 .578(Same as the)150 222 R F3(match)
3.078 E F1 .577(command, but matches an extended r)3.077 F .577
(egular expr)-.18 F .577(ession instead)-.18 F 1.42
(of an exact string. If)150 234 R F2(pattern)3.92 E F1 1.42
(is not a valid extended r)3.92 F 1.42(egular expr)-.18 F 1.42
(ession, the script)-.18 F(fails.)150 246 Q .127(Regular expr)150 264 R
.127(essions ar)-.18 F 2.627(em)-.18 G .127
(atched on a line-by-line basis; the input matching the pat-)-2.627 F
.146(tern cannot span mor)150 276 R 2.646(et)-.18 G .146(han one line.)
-2.646 F 2.646(Al)5.146 G .146
(ine is terminated with either a newline or a)-2.646 F .598(carriage r)
150 288 R .597(eturn-newline pair \(the latter is mor)-.18 F 3.097(ec)
-.18 G .597(ommon\). An end-of-line should be)-3.097 F .373(matched usi\
ng a dollar sign rather than trying to match these characters dir)150
300 R(ectly)-.18 E 2.874(,a)-1.11 G(s)-2.874 E(mpd elides them fr)150
312 Q(om the input when testing the r)-.18 E(egular expr)-.18 E(ession.)
-.18 E(See)150 330 Q F3(re_format\(7\))2.5 E F1(for mor)2.5 E 2.5(ei)
-.18 G(nformation about extended r)-2.5 E(egular expr)-.18 E(essions.)
-.18 E F3(timer)120 348 Q F2(name seconds label)6 E F3(timer)120 366 Q
F2(seconds label)6 E F3(timer)120 384 Q F2(seconds)6 E F1 .211
(Add a new pending event to set)150 402 R F2(name)2.711 E F1 .211
(such that when)2.711 F F2(seconds)2.71 E F1 .21(seconds have elapsed,)
2.71 F -.18(re)150 414 S(sume execution at).18 E F2(label)2.5 E F1 5(.A)
C(ll ar)-5 E(guments ar)-.18 E 2.5(ev)-.18 G(ariable expanded.)-2.5 E
.531(If no)150 432 R F2(name)3.031 E F1 .531(is given, or if)3.031 F F2
(name)3.032 E F1 .532
(is the empty string, add the new event to the default)3.032 F(set.)150
444 Q 1.934(If no)150 462 R F2(label)4.434 E F1 1.934(is given, or if)
4.434 F F2(label)4.434 E F1 1.934
(is the empty string, the event causes execution to)4.434 F -.18(re)150
474 S 2.552(sume starting with the statement following the).18 F F3
(wait)5.053 E F1 2.553(command \(i.e., use the)5.053 F(default tar)150
486 Q(get\).)-.18 E F3(wait)120 504 Q(wait)120 522 Q F2(seconds)6 E F1
1.401(In the \214rst form, wait inde\214nitely for any event to happen.)
150 540 R 1.4(When an event hap-)6.4 F
(pens, continue execution starting at the tar)150 552 Q
(get label for that event.)-.18 E(The second form is equivalent to:)150
570 Q/F4 8/Courier@0 SF(timer)170 592 Q/F5 8/Courier-Oblique@0 SF
(seconds)4.8 E F4(wait)170 612 Q F3(if)120 636 Q F2(string1)6 E F1(==)
2.5 E F2(string2)2.5 E(command)150 648 Q F1(")2.5 E F3(if)120 666 Q F2
(string1)6 E F1(!=)2.5 E F2(string2)2.5 E(command)150 678 Q F1(")2.5 E
(Executes)150 696 Q F2(command)2.5 E F1
(if the two variable expanded strings ar)2.5 E 2.5(ee)-.18 G
(qual or not equal.)-2.5 E F3(if)120 714 Q F2(string)6 E F1(match)2.5 E
F2(pattern)2.5 E(command)150 726 Q F1(")2.5 E 0 Cg EP
%%Page: 77 77
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(77)333.68 E/F1 10
/Courier@0 SF(if)120 96 Q/F2 10/Palatino-Italic@0 SF(string)6 E/F3 10
/Palatino-Roman@0 SF(!match)2.5 E F2(pattern)2.5 E(command)150 108 Q F3
(")2.5 E -.92(Te)150 126 S(sts).92 E F2(string)4.301 E F3 1.802
(against the r)4.301 F 1.802(egular expr)-.18 F(ession)-.18 E F2
(pattern)4.302 E F3 1.802(and executes)4.302 F F2(command)4.302 E F3(if)
4.302 E F2(string)4.302 E F3(matches or does not match.)150 138 Q(Both)5
E F2(string)2.5 E F3(and)2.5 E F2(pattern)2.5 E F3(ar)2.5 E 2.5(ev)-.18
G(ariable expanded \214rst.)-2.5 E F1(print)120 156 Q F2(string)6 E F3
.343(Ouput the)150 168 R F2(string)2.843 E F3 .343(to the serial port.)
2.843 F -.92(Va)5.343 G .343(riables ar).92 F 2.843(ee)-.18 G .343
(xpanded, and the normal mpd C-)-2.843 F
(style character escapes may be used.)150 180 Q F1(cancel)120 198 Q F2
(name1)6 E F3([)2.5 E F2(name2)2.5 E F3(... ])2.5 E .348
(Cancel all pending events in the sets)150 210 R F2(name1)2.848 E F3(,)A
F2(name2)2.848 E F3 2.848(,e)C 2.848(tc. It)-2.848 F .348(is not an err)
2.848 F .349(or to cancel a)-.18 F(set which is alr)150 222 Q
(eady empty.)-.18 E F1(goto)120 240 Q F2(label)6 E F3(Jump to label)150
252 Q F2(label)2.5 E F3(.)A F1(call)120 270 Q F2(label)6 E F3
(Call a subr)150 282 Q(outine at)-.18 E F2(label)2.5 E F3(.)A F1(return)
120 300 Q F3(Return fr)150 312 Q(om subr)-.18 E(outine.)-.18 E F1
(success)120 330 Q F3(Exit the script successfully.)150 342 Q F1
(failure)120 360 Q F3(Exit the script unsuccessfully.)150 372 Q F1(log)
120 390 Q F2(string)6 E F3(Print)150 402 Q F2(string)2.5 E F3 2.5(,v)C
(ariable expanded, to the log \214le under logging level CHA)-2.5 E(T.)
-.74 E/F4 14/Helvetica-Bold@0 SF 3.892(6.6 Err)90 424 R(or)-.28 E(s)-.21
E F3(Any err)90 460 Q
(ors in the script cause the script to exit unsuccessfully.)-.18 E
(Examples of err)5 E(ors include:)-.18 E/F5 8/Palatino-Roman@0 SF<83>
105.152 478 Q F3(A)7.5 E F1(call)2.5 E F3(or)2.5 E F1(goto)2.5 E F3
(to a non-existent label)2.5 E F5<83>105.152 496 Q F3(A)7.5 E F1(return)
2.5 E F3(without a corr)2.5 E(esponding)-.18 E F1(call)2.5 E F5<83>
105.152 514 Q F3(Executing)7.5 E F1(wait)2.5 E F3
(without any events pending)2.5 E F5<83>105.152 532 Q F3
(Execution falling of)7.5 E 2.5(ft)-.18 G(he end of the script)-2.5 E F5
<83>105.152 550 Q F3 -.9(Tr)7.5 G(ying to assign).9 E F1($Baudrate)2.5 E
F3(an invalid baudrate)2.5 E F5<83>105.152 568 Q F3 -.9(Tr)7.5 G
(ying to match with an invalid r).9 E(egular expr)-.18 E(ession)-.18 E
F4 3.892(6.7 The)90 590 R(inc)3.892 E(luded mpd.script)-.28 E F3(The)90
626 Q F1(mpd.script)2.894 E F3 .393(that ships with mpd can usually be \
used as it is without modi\214cation for typi-)2.894 F
(cal PPP applications.)90 638 Q
(This script de\214nes the following labels:)5 E F1(DialPeer)120 656 Q
F3 .022(This script causes mpd to attempt to identify the attached mode\
m or ISDN T)150 668 R(erminal)-.92 E 1.652(Adapter device, con\214gur)
150 680 R 4.152(et)-.18 G 1.652(he device, and dial a r)-4.152 F 1.651
(emote peer. This the label you)-.18 F(want to use for the)150 692 Q F1
(set modem script)2.5 E F3(when acting as a dialup client.)2.5 E
(The variables that ar)150 710 Q 2.5(eu)-.18 G(sed by this script ar)
-2.5 E(e:)-.18 E 0 Cg EP
%%Page: 78 78
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(78)333.68 E/F1 10
/Courier@0 SF($Telephone)180 96 Q/F2 10/Palatino-Roman@0 SF
(The telephone number to dial.)210 108 Q F1($DialPrefix)180 126 Q F2
(Dialing pr)210 138 Q(e\214x to get an outside line, if any.)-.18 E F1
($ConnectTimeout)180 156 Q F2 -.55(Ti)210 168 S 1.279
(me in seconds to wait for the modems to connect.).55 F 1.28
(Default 45 sec-)6.279 F(onds.)210 180 Q F1($SpeakerOff)180 198 Q F2
.897(Set this to)210 210 R F1(yes)3.397 E F2 .897
(if you want to silence the modem speaker while dial-)3.397 F(ing.)210
222 Q F1($Serial230K)180 240 Q F2 .567
(If your serial port is capable of r)210 252 R .567
(unning at 230K baud, set this to)-.08 F F1(yes)3.068 E F2(.)A
(Note: normal PC har)210 264 Q(dwar)-.18 E 2.5(ei)-.18 G 2.5(sn)-2.5 G
(ot capable of 230K.)-2.5 E 3.22
(In addition, the following variables ar)150 282 R 5.72(er)-.18 G(equir)
-5.9 E 3.22(ed to be set for ISDN terminal)-.18 F(adapters:)150 294 Q F1
($TA_Bonding)180 312 Q F2 .804
(If the terminal adapter should do 2 B-channel multi-link PPP)210 324 R
3.304(,s)-1.29 G .804(et this)-3.304 F(to)210 336 Q F1(yes)3.448 E F2
3.448(.N)C .947(ote: a terminal adapter doing multi-link PPP still)
-3.448 F/F3 10/Palatino-Italic@0 SF(appears)3.447 E F2(to)3.447 E 2.223
(mpd as a single link PPP connection and should be con\214gur)210 348 R
2.223(ed as)-.18 F(such.)210 360 Q F1($TA_NoDoubleTelno)180 378 Q F2
(When)210 390 Q F1($TA_Bonding)3.496 E F2(is)3.496 E F1(yes)3.496 E F2
3.496(,d)C 3.496(on)-3.496 G .996(ot double the dialed number. Nor)
-3.496 F(-)-.18 E(mally)210 402 Q 10.996(,i)-1.11 G 10.996(ns)-10.996 G
8.496(uch situations mpd dials using the command)-10.996 F F1
(ATDT${Telephone}&${Telephone})210 414 Q F2 7.39(.I)C 4.89(fy)-7.39 G
(our)-4.89 E F1($Telephone)4.89 E F2(string)4.89 E(alr)210 426 Q 2.85
(eady contains both numbers, then set)-.18 F F1($TA_NoDoubleTelno)5.35 E
F2(to)5.35 E F1(yes)210 438 Q F2(.)A F1($TA_56K)180 456 Q F2 .766
(If you need to r)210 468 R .766
(estrict the B channels to to 56K, set this to)-.18 F F1(yes)3.266 E F2
5.766(.O)C(nly)-5.766 E(necessary for some North American ISDN lines.)
210 480 Q F1($TA_VoiceCall)180 498 Q F2 .246
(If you need to place a voice mode call, set this to)210 510 R F1(yes)
2.747 E F2 5.247(.O)C .247(nly necessary)-5.247 F .699
(for some North American ISDN lines.)210 522 R .699
(Not all terminal adapters sup-)5.699 F(port this.)210 534 Q F1
($TA_AuthChap)180 552 Q F2 1.092(Some older terminal adapters r)210 564
R(equir)-.18 E 3.592(ey)-.18 G 1.092(ou to specify)-3.592 F F3 3.592(ap)
3.592 G(riori)-3.592 E F2(whether)3.592 E .242(CHAP or P)210 576 R .242
(AP authentication will be r)-.92 F .242(equested by the r)-.18 F .241
(emote side. Set)-.18 F(to)210 588 Q F1(yes)2.5 E F2
(to tell the terminal adapter to use CHAP.)2.5 E F1($TA_SwitchType)180
606 Q F2 2.52
(Set this to your ISDN line's switch type. Should be one of)210 618 R F1
(NI-1)5.02 E F2(,)A F1(DMS-100)210 630 Q F2(,)A F1 .954(5ESS P2P)3.454 F
F2 3.454(,o)C(r)-3.454 E F1 .954(5ESS MP)3.454 F F2 5.954(.O)C .954
(nly r)-5.954 F(equir)-.18 E .954(ed for North Ameri-)-.18 F(can ISDN.)
210 642 Q F1($TA_Dirno1)180 660 Q($TA_Dirno2)180 678 Q($TA_SPID1)180 696
Q($TA_SPID2)180 714 Q F2 .271(Set these to your ISDN line's dir)210 726
R .271(ectory numbers and SPID's for both B)-.18 F 2.5(channels. Only)
210 738 R -.18(re)2.5 G(quir).18 E(ed for North American ISDN.)-.18 E 0
Cg EP
%%Page: 79 79
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(79)333.68 E/F1 10
/Courier@0 SF(AnswerCall)120 96 Q/F2 10/Palatino-Roman@0 SF .514
(This is an)-27.5 F/F3 10/Palatino-Bold@0 SF .513(idle script)3.013 F F2
.513(that waits for an incoming call and then answers it. The vari-)
3.013 F(ables that ar)150 108 Q 2.5(eu)-.18 G(sed by this script ar)-2.5
E(e:)-.18 E F1($ConnectTimeout)180 126 Q F2 -.55(Ti)210 138 S 1.279
(me in seconds to wait for the modems to connect.).55 F 1.28
(Default 45 sec-)6.279 F(onds.)210 150 Q F1($RingTimeout)180 168 Q F2
2.439(How long to wait for a RING befor)210 180 R 4.939(eg)-.18 G 2.439
(iving up and trying again.)-4.939 F(Default 10 minutes.)210 192 Q F1
(Ringback)120 210 Q F2 .797(This is also an idle script that waits for \
an incoming call, but instead of answering)-18 F .262(the call it ignor)
150 222 R .261
(es it and initiates an outgoing connection. This is useful for r)-.18 F
(emotely)-.18 E(bringing up a dialup client machine.)150 234 Q F1
($RingbackTimeout)180 252 Q F2 .37(How long befor)210 264 R 2.87(eg)-.18
G .37(iving up \(r)-2.87 F .37(eset and try again\).)-.18 F .37
(Default: 60 minutes.)5.37 F F1($RingStoppedTime)180 282 Q F2 .062
(For analog modems, we have to wait for the ringing to stop befor)210
294 R 2.561(et)-.18 G(ry-)-2.561 E 2.159
(ing to dial out, otherwise we'll inadvertently answer the incoming)210
306 R 1.449(call. This value is set to the minimum time to wait befor)
210 318 R 3.949(ed)-.18 G(eclaring)-3.949 E
(that the ringing has stopped.)210 330 Q(Default: 8 seconds.)5 E 0 Cg EP
%%Page: 80 80
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(80)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(7. T)90 102 R -.32(ro)-1.28 G(ub).32 E
(leshooting)-.16 E/F2 14/Helvetica-Bold@0 SF 3.892(7.1 T)90 142 R -.28
(ro)-1.12 G(ub).28 E(leshooting)-.14 E/F3 10/Palatino-Roman@0 SF
(Some tips for tr)90 178 Q(oubleshooting.)-.18 E 1.395
(For further help, ask to the)90 196 R/F4 10/Courier@0 SF
(freebsd-net@freebsd.org)3.895 E F3 1.396(mailing list or sour)3.896 F
(cefor)-.18 E 1.396(ge.net mpd)-.18 F(pr)90 208 Q(oject for)-.18 E(um.)
-.08 E/F5 10/Palatino-Bold@0 SF
(It does not work and I do not understand why.)120 226 Q F3 .73
(Mpd has extensive logging system supporting syslog. T)150 238 R 3.23
(od)-.92 G(ir)-3.23 E .73(ect logs into a \214le add)-.18 F(lines)150
250 Q/F6 8/Courier@0 SF(!mpd)170 266 Q 211.2(*.* /var/log/mpd.log)170
276 R F3 .928(into your /etc/syslog.conf \214le, cr)150 306 R .928
(eate /var/log/mpd.log \214le and send SIGHUP to)-.18 F(syslogd to r)150
318 Q(er)-.18 E(ead con\214g.)-.18 E 1.84 -.92(To e)150 336 T
(nable all possible logging you can use 'log +all' command.).92 E F5
(Packets won't \215ow.)120 354 Q F3 .128(Make sur)150 366 R 2.628(ey)
-.18 G .128(ou have set)-2.628 F F5(gateway_enable="YES")2.628 E F3(in)
2.628 E F4(/etc/rc.conf)2.628 E F3 2.627(,o)C .127(therwise your)-2.627
F(Fr)150 378 Q(eeBSD box will not r)-.18 E(oute packets.)-.18 E .691
(Also, check your \214r)150 396 R .692(ewall settings. Mpd will cr)-.18
F .692(eate new interfaces which may need)-.18 F .245
(to be incorporated into your \214r)150 408 R .245(ewall r)-.18 F 2.745
(ules. If)-.08 F(you'r)2.745 E 2.745(ed)-.18 G .245(oing PPTP)-2.745 F
2.745(,y)-1.29 G .245(ou need to allow)-2.745 F(TCP port 1723 and IP pr)
150 420 Q(otocol 47 \(GRE\).)-.18 E F5(It does not work and there are s\
trange netgraph-related errors in the log.)120 438 Q F3 .855(Make sur)
150 450 R 3.355(ey)-.18 G .855(ou have all the r)-3.355 F(equir)-.18 E
.855(ed netgraph KLD's loaded.)-.18 F -.92(Yo)5.856 G 3.356(uc).92 G
.856(an check them)-3.356 F(by doing)150 462 Q F4(kldstat -v | grep ng_)
8.5 E F3(.)6 E 1.765(Usually these ar)150 480 R 4.265(el)-.18 G 1.765
(oaded on demand. If not, you can load them manually using)-4.265 F F4
(kldload\(8\))150 492 Q F3(.)A(The following node types ar)150 510 Q 2.5
(eo)-.18 G 2.5(rm)-2.5 G(ay be needed:)-2.5 E/F7 8/Palatino-Roman@0 SF
<83>165.152 528 Q F4(ng_async)5 E F7<83>165.152 546 Q F4(ng_bpf)5 E F7
<83>165.152 564 Q F4(ng_car)5 E F7<83>165.152 582 Q F4(ng_deflate)5 E F7
<83>165.152 600 Q F4(ng_ether)5 E F7<83>165.152 618 Q F4(ng_iface)5 E F7
<83>165.152 636 Q F4(ng_ksocket)5 E F7<83>165.152 654 Q F4(ng_l2tp)5 E
F7<83>165.152 672 Q F4(ng_mppc)5 E F7<83>165.152 690 Q F4(ng_ppp)5 E F7
<83>165.152 708 Q F4(ng_pppoe)5 E 0 Cg EP
%%Page: 81 81
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(81)333.68 E/F1 8
/Palatino-Roman@0 SF<83>165.152 96 Q/F2 10/Courier@0 SF(ng_pptpgre)5 E
F1<83>165.152 114 Q F2(ng_nat)5 E F1<83>165.152 132 Q F2(ng_netflow)5 E
F1<83>165.152 150 Q F2(ng_pred1)5 E F1<83>165.152 168 Q F2(ng_socket)5 E
F1<83>165.152 186 Q F2(ng_tcpmss)5 E F1<83>165.152 204 Q F2(ng_tee)5 E
F1<83>165.152 222 Q F2(ng_tty)5 E F1<83>165.152 240 Q F2(ng_vjc)5 E/F3
10/Palatino-Bold@0 SF
(My con\214guration does not seem to be working as expected.)120 258 Q
/F4 10/Palatino-Roman@0 SF 1.605(Make sur)150 270 R 4.105(ey)-.18 G(our)
-4.105 E F2(mpd.conf)4.105 E F4 1.605(\214le formatted pr)4.105 F 4.105
(operly. Labels)-.18 F 1.605(must be left-justi\214ed,)4.105 F
(while other lines must not.)150 282 Q F3 2.5(Ia)120 300 S 2.5(mg)-2.5 G
(etting no valid response from the RADIUS server.)-2.5 E F4 .494
(Double-check the shar)150 312 R .494(ed secr)-.18 F .493
(et in the RADIUS servers con\214g and the one speci\214ed)-.18 F(in)150
324 Q F2(mpd.conf)5.437 E F4(or)5.437 E F2(radius.conf)5.437 E F4 7.937
(.C)C 2.937(heck the ports of the RADIUS server: they)-7.937 F 1.851
(should be 1812 \(authentication\) and 1813 \(accounting\), wich ar)150
336 R 4.351(ea)-.18 G 1.851(lso the default)-4.351 F 1.531
(ports of mpd. In the past unof)150 348 R 1.532
(\214cial port numbers \(1645 and 1646\) wer)-.18 F 4.032(eu)-.18 G
1.532(sed for)-4.032 F(RADIUS, but these ar)150 360 Q 2.5(ed)-.18 G(epr)
-2.5 E(ecated.)-.18 E F3 2.5(Ia)120 378 S 2.5(mg)-2.5 G(etting `)-2.5 E
(`Operation not permitted'' errors trying to run mpd.)-.55 E F4 1.085(T\
his is often caused by a combination of \(a\) using netgraph in KLD mod\
ule form)150 390 R .562(instead of statically compiling the various mod\
ules into the kernel via kernel)150 402 R F2(con-)3.062 E(fig\(8\))150
414 Q F4 1.854(options, and \(b\) incr)4.354 F 1.854
(easing your kernel security level \(see the)-.18 F F2(init\(8\))4.353 E
F4 .775(man page\), which pr)150 426 R .775(events KLD modules fr)-.18 F
.775(om being loaded. Change one of these)-.18 F(things to \214x the pr)
150 438 Q(oblem.)-.18 E F3 2.5(Ih)120 456 S
(ave con\214gured a link for dial-in and sometimes after disconnecting)
-2.5 E 2.621(mpd gets into some kind of in\214nite loop.)150 468 R F4
7.621("T)C 2.62(his is because mpd is trying to)-7.621 F -.37(``)150 480
S -.18(re).37 G .684(dial'' which of course is not appr).18 F .684
(opriate for dial-in links. Use)-.18 F F2 .684(set link max-)3.184 F
(redial -1)150 492 Q F4(and)2.5 E F2(set bundle yes noretry)2.5 E F4
(to disable the r)2.5 E(edial function.)-.18 E F3 2.5(Iu)120 510 S
(se mpd as PPTP server for W)-2.5 E
(indows XP clients. While accessing bigger)-.37 E .219(websites or list\
ing larger ftp directories the connection seems to hang.)150 522 R F4
5.219("W)C(indows)-5.769 E .225(XP insists on a very low MTU \(usually \
1396 Bytes\). This needs fragmentation if big-)150 534 R 1.916
(ger packets should be transmitted over the link.)150 546 R 1.915
(Fragmentation is negotiated at)6.915 F .37(ICMP level. If ther)150 558
R 2.87(ei)-.18 G 2.87(sab)-2.87 G .37(ad r)-2.87 F .37(outer somewher)
-.18 F 2.87(ei)-.18 G 2.87(nt)-2.87 G .37(he network dr)-2.87 F .37
(opping such pack-)-.18 F .845(ets then the connection hangs.)150 570 R
.845(The \214rst thing what you can try is r)5.845 F .845(educing mpd's)
-.18 F .532(MTU value, by setting:)150 582 R F2 .532(set link mtu 1300)
3.032 F F4(and)3.033 E F2 .533(set bundle disable mul-)3.033 F(tilink)
150 594 Q F4 2.654(,t)C .154(his should help in most cases.)-2.654 F
.154(For TCP connections it is possible enabling)5.154 F
(the TCP-MSS-Fix:)150 606 Q F2(set iface enable tcpmssfix)2.5 E F4(.)A
F3(Problems with MPPE stateless when connecting to Cisco devices.)120
624 Q F4 .365(Upgrade the IOS of your device, see:)150 636 R F2 6.365
(CSCdu30944 MPPE)2.865 F .365(rejects stateless)6.365 F
(Fixed in 12.3\(11.4\))150 648 Q 0 Cg EP
%%Page: 82 82
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(82)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(8. Internals)90 102 R/F2 14/Helvetica-Bold@0
SF 3.892(8.1 T)90 142 R(oDo)-1.12 E/F3 10/Palatino-Roman@0 SF 2.994(Al)
90 178 S .494(ist of open tasks for MPD. This is a good startpoint if y\
ou want to support actively the devel-)-2.994 F
(opment of MPD. After completing a task post it to MPD's maling list.)90
190 Q(callback \(client & server\))120 208 Q(Curr)150 220 Q .691(ently \
MPD supports only simpliest LCP callback without number negotiation,)
-.18 F(without CBCP support and only as client.)150 232 Q(L2TP auth pr)
120 250 Q(oxying)-.18 E(Curr)150 262 Q 1.843(ently MPD acting as LAC r)
-.18 F(equir)-.18 E 1.843(es parameter r)-.18 F 1.843
(enegotiation on every tunnel)-.18 F
(hop. It would be good to implement auth pr)150 274 Q
(oxying to speedup negotiation.)-.18 E(Unimplemented Pr)120 292 Q
(otocols)-.18 E 1.312(lcp.c contains a list of pr)150 304 R 1.313
(otocols \(gLcpConfOpts\), each pr)-.18 F 1.313
(otocol with "false" is not)-.18 F(implemented.)150 316 Q F2 3.892
(8.2 A)90 338 R(uthentication)-.42 E F3
(This chapter describes implementation speci\214c details of MPD.)90 374
Q(Authentication pr)120 392 Q(otocols - a short overview)-.18 E(Curr)150
404 Q 2.754(ently MPD supports these authentication pr)-.18 F 2.754
(otocols: P)-.18 F(AP)-.92 E 5.253(,M)-1.29 G(D5-CHAP)-5.253 E 5.253(,M)
-1.29 G(S-)-5.253 E(CHAPv1, MS-CHAPv2 and EAP.)150 416 Q .429
(When using P)150 434 R(AP)-.92 E 2.929(,t)-1.29 G .429(he passwor)
-2.929 F 2.929(di)-.18 G 2.929(ss)-2.929 G .429
(ent as plaintext over the network, ther)-2.929 F(efor)-.18 E 2.93(eP)
-.18 G(AP)-3.85 E .965
(should be avoided, if the link between the peers is not secur)150 446 R
.964(e. On the other hand,)-.18 F -.92(PA)150 458 S 3.836(Pa).92 G 1.336
(llows using any kind of passwor)-3.836 F 3.836(dd)-.18 G 1.337
(atabase on the server)-3.836 F 3.837(,e)-.74 G 1.337(ven if the pass-)
-3.837 F(wor)150 470 Q(ds ar)-.18 E 2.5(es)-.18 G(tor)-2.5 E
(ed in non-r)-.18 E(eversible hashed format.)-.18 E .465
(The traditional CHAP-MD5 needs the plaintext passwor)150 488 R 2.964
(ds)-.18 G(tor)-2.964 E .464(ed on the server. The)-.18 F(passwor)150
500 Q 2.701(dh)-.18 G .201(ash is computed like this: md5\(id + passwor)
-2.701 F 2.702(d+c)-.18 G .202(hallenge\), wher)-2.702 F 2.702(et)-.18 G
.202(he id)-2.702 F .545(is incr)150 512 R .545(emented after each auth\
entication attempt. The challenge is generated by the)-.18 F .71(server\
 and then sent to the client \(peer\). The peer sends the hash to the s\
erver and)150 524 R 1.188
(the server generates itself the hash using the plaintext passwor)150
536 R 1.187(d. If both hash ar)-.18 F(e)-.18 E
(the same, the authentication succeeds.)150 548 Q 2.206
(MS-CHAP does not need plaintext passwor)150 566 R 2.206
(ds on the server)-.18 F 4.706(,b)-.74 G 2.206(ut does need the)-4.706 F
.383(hashed passwor)150 578 R 2.883(de)-.18 G .382(ither as NT)-2.883 F
.382(-Hash or as LAN-Manager)-.55 F .382(-Hash \(the LAN-Manager)-.18 F
(-)-.18 E 1.571(Hash is weak and should not be used\).)150 590 R 1.572
(MS-CHAPv1 uses DES as hashing algo-)6.572 F .256
(rithm and is weak, ther)150 602 R(efor)-.18 E 2.756(ed)-.18 G 2.755(on)
-2.756 G .255(ot use it! MS-CHAPv2 uses a peer challenge and a)-2.755 F
1.373
(server challenge and uses SHA1 as hashing algorithm, so it is much mor)
150 614 R 3.874(es)-.18 G(ecur)-3.874 E(e)-.18 E
(than MS-CHAPv1. MS-CHAPv2 r)150 626 Q(equir)-.18 E(es the NT)-.18 E
(-Hash be available.)-.55 E .779(Usually UNIX systems have a dif)150 644
R(fer)-.18 E .779(ent non-r)-.18 F .779
(evertable hashing algorithm for pass-)-.18 F(wor)150 656 Q .51
(ds, ther)-.18 F(efor)-.18 E 3.01(ei)-.18 G 3.01(ti)-3.01 G 3.011(sn)
-3.01 G .511(ot possible to use the traditional UNIX passwor)-3.011 F
3.011(dd)-.18 G .511(atabase if)-3.011 F .207
(you want to use any CHAP algorithm, with the exception that Fr)150 668
R .207(eeBSD versions 5.1)-.18 F 1.024(and later support the NT)150 680
R 1.025(-Hash format in the passwor)-.55 F 3.525(dd)-.18 G 1.025
(atabase \(con\214gurable via)-3.525 F(login.conf:)150 692 Q/F4 10
/Courier@0 SF(passwd_format=nth)5.685 E F3 5.685(\). However)B 3.184
(MPD does not curr)5.684 F 3.184(ently support)-.18 F
(authentication against the UNIX passwor)150 704 Q 2.5(dd)-.18 G
(atabase.)-2.5 E .151(EAP is an Extensible Authentication Pr)150 722 R
.151(otocol. Mpd supports natively only the EAP-)-.18 F -.9(Ty)150 734 S
(pe MD5; other EAP-T).9 E
(ypes may be used in conjunction with a RADIUS server.)-.9 E 0 Cg EP
%%Page: 83 83
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(83)333.68 E/F1 10
/Palatino-Roman@0 SF 2.698(Note: in or)150 96 R 2.697
(der for MPPE to work, MS-CHAPv1 or MS-CHAPv2 is mandatory)-.18 F(,)
-1.11 E(because the MPPE keys ar)150 108 Q 2.5(eg)-.18 G
(enerated using the r)-2.5 E(esults fr)-.18 E(om authentication.)-.18 E
(Authentication pr)120 126 Q(otocol negotiation)-.18 E .393
(Starting with MPD 3.14, MPD behaves mor)150 138 R 2.893(ei)-.18 G .393
(ntelligently when negotiating authen-)-2.893 F 1.842(tication pr)150
150 R 1.842(otocols. MPD sear)-.18 F 1.842(ches an internal list of pr)
-.18 F 1.841(otocols, fr)-.18 F 1.841(om most to least)-.18 F(secur)150
162 Q 3.074(eu)-.18 G .574(ntil a mutually agr)-3.074 F .574(eeable pr)
-.18 F .574(otocol is found.)-.18 F .574
(If the link is a PPTP link, then)5.574 F(MS-CHAP is most pr)150 174 Q
(eferable, otherwise MD5-CHAP is most pr)-.18 E(eferable.)-.18 E/F2 14
/Helvetica-Bold@0 SF 3.892(8.3 Hints)90 196 R -.28(fo)3.892 G 3.892(rd)
.28 G -.21(ev)-3.892 G(eloper).21 E(s)-.21 E F1
(This chapter describes describes some hints for developers.)90 232 Q
(Sour)120 250 Q(ce-Code-Style)-.18 E(Ther)150 262 Q 2.5(ei)-.18 G 2.5
(sn)-2.5 G
(ot so much to say about that, just take a look at the existing sour)
-2.5 E(ce \214les.)-.18 E .598(The T)150 286 R(ab-W)-.92 E .597
(idth is eight with an indent of for)-.55 F .597
(e. Please make a space between opera-)-.18 F(tors and operands.)150 298
Q(NgFuncGetStats)120 316 Q .176(NEVER call NgFuncGetStats\(\) with the)
150 328 R/F3 10/Palatino-Italic@0 SF(clear)2.677 E F1 .177
(parameter set to tr)2.677 F .177(ue, because ther)-.08 F 2.677(ea)-.18
G -.18(re)-2.677 G 2.843(other functions \(echo r)150 340 R(equests/r)
-.18 E 2.842(eplies, bandwidth management\) wich r)-.18 F 2.842
(elies on)-.18 F(incr)150 352 Q .397(easing link-stats. Mpd carries a c\
opy of the netgraph link-stats at link-level, just)-.18 F 1.639
(use these instead. Y)150 364 R 1.639
(ou can call LinkUpdateStats\(\) for updating the internal stats-)-.92 F
(str)150 376 Q(uct.)-.08 E(New Authentication-Backends)120 394 Q 1.566
(Authentication backends must r)150 406 R 1.566(un independently fr)-.08
F 1.566(om the r)-.18 F 1.567(est of Mpd, i.e.)-.18 F(you)6.567 E .691
(must not access any Mpd r)150 418 R(esour)-.18 E .691
(ce, because the authentication pr)-.18 F .69(ocess is started in)-.18 F
.754(its own thr)150 430 R .754(ead \(you have to take car)-.18 F 3.255
(ea)-.18 G .755(bout thr)-3.255 F .755(ead-safety\). An)-.18 F/F4 10
/Courier@0 SF(AuthData)3.255 E F1 .755(object is)3.255 F .154
(passed to your authenticating function which carries a copy of all r)
150 442 R(equir)-.18 E .154(ed informa-)-.18 F .09
(tion. If your backend pr)150 454 R .09
(ovides other parameters, like MTU, IP)-.18 F 2.59(,e)-1.29 G 2.59
(tc. then)-2.59 F .09(put these at)2.59 F(the appr)150 466 Q
(opriate place into)-.18 E F4(AuthData)2.5 E F1(or)2.5 E F4(Auth)2.5 E
F1(.)A 2.294(If you can not avoid r)150 484 R 2.294(eading fr)-.18 F
2.294(om Mpd's internal data, then acquir)-.18 F 4.793(et)-.18 G 2.293
(he Giant)-4.793 F(Mutex:)150 496 Q/F5 8/Courier@0 SF([...])170 512 Q
(pthread_mutex_lock\(&gGiantMutex\);)179.6 522 Q([do whatever])179.6 532
Q(pthread_mutex_unlock\(&gGiantMutex\);)179.6 542 Q([...])170 552 Q 0 Cg
EP
%%Page: 84 84
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(84)333.68 E/F1 16
/Helvetica-Bold@0 SF 4.448(9. Ref)90 102 R(erences)-.16 E/F2 14
/Helvetica-Bold@0 SF 3.892(9.1 Ref)90 142 R(erences)-.14 E/F3 10
/Palatino-Roman@0 SF(The PPP pr)90 178 Q
(otocol is documented in a slew of RFC's.)-.18 E(Some of these ar)5 E
2.5(el)-.18 G(isted below.)-2.5 E(RFC 1332 The PPP Internet Pr)90 196 Q
(otocol Contr)-.18 E(ol Pr)-.18 E(otocol \(IPCP\))-.18 E
(RFC 1334 PPP Authentication Pr)90 214 Q(otocols)-.18 E
(RFC 1570 PPP LCP Extensions)90 232 Q(RFC 1661 The Point-to-Point Pr)90
250 Q(otocol \(PPP\))-.18 E(RFC 1662 PPP in HDLC-like Framing)90 268 Q
(RFC 1877 PPP Internet Pr)90 286 Q(otocol Contr)-.18 E(ol Pr)-.18 E
(otocol Extensions for Name Server Addr)-.18 E(esses)-.18 E
(RFC 1962 The PPP Compr)90 304 Q(ession Contr)-.18 E(ol Pr)-.18 E
(otocol \(CCP\))-.18 E(RFC 1968 The PPP Encryption Contr)90 322 Q(ol Pr)
-.18 E(otocol \(ECP\))-.18 E(RFC 1969 The PPP DES Encryption Pr)90 340 Q
(otocol \(DESE\))-.18 E(RFC 1973 PPP in Frame Relay)90 358 Q
(RFC 1978 PPP Pr)90 376 Q(edictor Compr)-.18 E(ession Pr)-.18 E(otocol)
-.18 E(RFC 1979 PPP De\215ate Pr)90 394 Q(otocol)-.18 E
(RFC 1990 The PPP Multilink Pr)90 412 Q(otocol \(MP\))-.18 E
(RFC 1994 PPP Challenge Handshake Authentication Pr)90 430 Q
(otocol \(CHAP\))-.18 E(RFC 21)90 448 Q(18 Micr)-.55 E(osoft Point-T)
-.18 E(o-Point Compr)-.92 E(ession \(MPPC\) Pr)-.18 E(otocol)-.18 E
(RFC 2284 EAP)90 466 Q(RFC 2419 The PPP DES Encryption Pr)90 484 Q
(otocol, V)-.18 E(ersion 2 \(DESE-bis\))-1.11 E(RFC 2427 Multipr)90 502
Q(otocol Inter)-.18 E(connect over Frame Relay)-.18 E(RFC 2433 Micr)90
520 Q(osoft PPP CHAP Extensions)-.18 E(RFC 2516 A Method for T)90 538 Q
(ransmitting PPP Over Ethernet \(PPPoE\))-.9 E(RFC 2548 Micr)90 556 Q
(osoft V)-.18 E(endor)-1.11 E(-speci\214c RADIUS Attributes)-.18 E
(RFC 2637 Point-to-Point T)90 574 Q(unneling Pr)-.9 E(otocol \(PPTP\))
-.18 E(RFC 2661 Layer T)90 592 Q(wo T)-.9 E(unneling Pr)-.9 E
(otocol \(L2TP\))-.18 E
(RFC 2865 Remote Authentication Dial In User Service \(RADIUS\))90 610 Q
(RFC 2866 RADIUS Accounting)90 628 Q(RFC 2868 Attributes for T)90 646 Q
(unnel Pr)-.9 E(otocol Support)-.18 E(RFC 2869 RADIUS Extensions)90 664
Q(RFC 3576 Dynamic Authorization Extensions to RADIUS)90 682 Q
(RFC 3579 RADIUS EAP)90 700 Q 3.195(RFC 4638 Accommodating a Maximum T)
90 718 R 3.196(ransit Unit/Maximum Receive Unit \(MTU/MRU\))-.9 F(Gr)90
730 Q(eater Than 1492 in the Point-to-Point Pr)-.18 E
(otocol over Ethernet \(PPPoE\))-.18 E 0 Cg EP
%%Page: 85 85
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(85)333.68 E/F1 14
/Helvetica-Bold@0 SF 3.892(9.2 Credits)90 100 R/F2 8/Palatino-Roman@0 SF
<83>105.152 136 Q/F3 10/Palatino-Roman@0 SF(EAP)5 E 2.5(,R)-1.29 G
(ADIUS enhancements, basework for Mpd4 was sponsor)-2.5 E
(ed by SURFnet.)-.18 E F2<83>105.152 154 Q F3(L2TP enhancements wer)5 E
2.5(es)-.18 G(ponsor)-2.5 E(ed by Scom.ca Internet Services Inc.)-.18 E
F2<83>105.152 172 Q F3(Built-in RADIUS server support was sponsor)5 E
(ed by JSC 'Ufanet'.)-.18 E F2<83>105.152 190 Q F3
(Special thanks to JSC 'Optima-T)5 E
(elecom' for a long-time support and pr)-.92 E(oduction testing.)-.18 E
0 Cg EP
%%Page: 86 86
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Times-Roman@0 SF(Mpd 5.9 User Manual)90 48 Q(86)333.68 E 0 Cg EP
%%Page: 87 87
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Palatino-Roman@0 SF(CONTENTS)278.405 96 Q(1.)90 144 Q(Intr)102.5
144 Q(oduction)-.18 E 7.5(.............................................\
.......................................................................\
................... 2)169.5 144 R(1.1)102.5 156 Q(Overview)125 156 Q 7.5
(......................................................................\
............................................................. 2)179.5
156 R(1.2)102.5 168 Q(Or)125 168 Q(ganization of this manual)-.18 E 7.5
(......................................................................\
............................. 3)259.5 168 R(1.3)102.5 180 Q
(Change history)125 180 Q 7.5(.........................................\
.......................................................................\
......... 3)204.5 180 R(2.)90 198 Q(Installation)102.5 198 Q 7.5(......\
.......................................................................\
.......................................................... 19)164.5 198
R(2.1)102.5 210 Q(Getting mpd)125 210 Q 7.5(...........................\
.......................................................................\
.......................... 19)192 210 R(2.2)102.5 222 Q(Installing mpd)
125 222 Q 7.5(.........................................................\
............................................................... 19)202
222 R(2.3)102.5 234 Q(Building mpd)125 234 Q 7.5(......................\
.......................................................................\
............................. 19)197 234 R(3.)90 252 Q(Running Mpd)102.5
252 Q 7.5(.............................................................\
..................................................................... 2\
1)177 252 R(3.1)102.5 264 Q(Invoking mpd)125 264 Q 7.5(................\
.......................................................................\
.................................. 21)199.5 264 R(3.2)102.5 276 Q
(Con\214guration \214le format)125 276 Q 7.5(..........................\
.......................................................................\
..... 22)247 276 R(3.2.1)125 288 Q(General pr)155 288 Q 5(operties 22)
-.18 F(3.2.2)125 300 Q 5(mpd.conf 22)155 300 R(3.2.3)125 312 Q(mpd.secr)
155 312 Q 5(et 23)-.18 F(3.2.4)125 324 Q 5(mpd.script 23)155 324 R(3.3)
102.5 336 Q(Mpd command line interface)125 336 Q 7.5(..................\
.......................................................................\
...... 24)264.5 336 R(4.)90 354 Q(Con\214guring Mpd)102.5 354 Q 7.5(...\
.......................................................................\
.................................................. 26)192 354 R(4.1)
102.5 366 Q(General mpd commands)125 366 Q 7.5(........................\
.......................................................................\
....... 26)247 366 R(4.2)102.5 378 Q(Mpd Layers)125 378 Q 7.5(.........\
.......................................................................\
............................................. 32)189.5 378 R(4.3)102.5
390 Q(Link layer)125 390 Q 7.5(........................................\
.......................................................................\
................. 34)182 390 R(4.3.1)125 402 Q 5(EAP 38)155 402 R(4.4)
102.5 414 Q(Bundle layer)125 414 Q 7.5(................................\
.......................................................................\
..................... 39)192 414 R(4.5)102.5 426 Q
(Encryption \(ECP\) layer)125 426 Q 7.5(...............................\
.......................................................................\
... 41)239.5 426 R(4.6)102.5 438 Q(Compr)125 438 Q(ession \(CCP\) layer)
-.18 E 7.5(............................................................\
......................................... 42)249.5 438 R(4.6.1)125 450 Q
(MPPC pr)155 450 Q 5(otocol 43)-.18 F(4.7)102.5 462 Q(IPCP layer)125 462
Q 7.5(.................................................................\
.............................................................. 44)184.5
462 R(4.8)102.5 474 Q(IPv6CP layer)125 474 Q 7.5(......................\
.......................................................................\
.............................. 45)194.5 474 R(4.9)102.5 486 Q
(Interface layer)125 486 Q 7.5(........................................\
.......................................................................\
.......... 45)199.5 486 R(4.10)102.5 498 Q
(Authentication, Authorization and Accounting \(AAA\))125 498 Q 7.5
(.................................................. 48)377 498 R(4.10.1)
125 510 Q 5(RADIUS 50)155 510 R(4.10.2)125 522 Q
(External authentication)155 522 Q(56)7.5 E(4.1)102.5 534 Q(1)-.55 E
(Dynamic Authorization)125 534 Q 7.5(..................................\
...................................................................... \
58)242 534 R(4.12)102.5 546 Q -.9(Tr)125 546 S(af).9 E(\214c accounting)
-.18 E 7.5(............................................................\
....................................................... 60)214.5 546 R
(4.12.1)125 558 Q 5(NetFlow 60)155 558 R(4.12.2)125 570 Q(IP Accounting)
155 570 Q(61)7.5 E(4.12.3)125 582 Q(Accounting Update)155 582 Q(61)7.5 E
(4.12.4)125 594 Q -.9(Ty)155 594 S(ped Accounting Update).9 E(62)7.5 E
(4.13)102.5 606 Q(IP addr)125 606 Q(ess pools)-.18 E 7.5(..............\
.......................................................................\
................................ 63)209.5 606 R(4.14)102.5 618 Q
(Network Addr)125 618 Q(ess T)-.18 E(ranslation \(NA)-.9 E(T\))-.74 E
7.5(...................................................................\
............... 63)297 618 R(4.15)102.5 630 Q(Contr)125 630 Q
(ol console)-.18 E 7.5(................................................\
.......................................................................\
 64)204.5 630 R(4.16)102.5 642 Q -.92(We)125 642 S 2.5(bs).92 G(erver)
-2.5 E 7.5(............................................................\
................................................................... 65)
184.5 642 R(5.)90 660 Q(Device T)102.5 660 Q(ypes)-.9 E 7.5(...........\
.......................................................................\
.................................................. 66)172 660 R(5.1)
102.5 672 Q(Modem type commands)125 672 Q 7.5(.........................\
.......................................................................\
....... 66)244.5 672 R(5.2)102.5 684 Q(Netgraph device type commands)125
684 Q 7.5(.............................................................\
.......................... 66)284.5 684 R(5.3)102.5 696 Q
(TCP device type commands)125 696 Q 7.5(...............................\
.................................................................. 67)
259.5 696 R(5.4)102.5 708 Q(UDP device type commands)125 708 Q 7.5(....\
.......................................................................\
..................... 67)262 708 R(5.5)102.5 720 Q
(PPTP device type commands)125 720 Q 7.5(..............................\
................................................................. 68)
264.5 720 R/F1 10/Times-Roman@0 SF(i)304.61 768 Q 0 Cg EP
%%Page: 88 88
%%BeginPageSetup
BP
%%EndPageSetup
/F0 10/Palatino-Roman@0 SF(5.6)102.5 96 Q(L2TP device type commands)125
96 Q 7.5(..............................................................\
................................. 70)264.5 96 R(5.7)102.5 108 Q
(PPPoE device type commands)125 108 Q 7.5(.............................\
................................................................ 71)
269.5 108 R(6.)90 126 Q(Chat Scripting)102.5 126 Q 7.5(................\
.......................................................................\
........................................... 73)177 126 R(6.1)102.5 138 Q
(Script \214le format and execution)125 138 Q 7.5(.....................\
...................................................................... \
73)274.5 138 R(6.2)102.5 150 Q(Events)125 150 Q 7.5(...................\
.......................................................................\
............................................ 73)167 150 R(6.2.1)125 162
Q -.55(Ti)155 162 S(mer events).55 E(73)7.5 E(6.2.2)125 174 Q
(Match events)155 174 Q(74)7.5 E(6.3)102.5 186 Q(Sets)125 186 Q 7.5(...\
.......................................................................\
................................................................. 74)
154.5 186 R(6.3.1)125 198 Q(Special sets and tar)155 198 Q 5(gets 74)
-.18 F(6.4)102.5 210 Q -.92(Va)125 210 S(riables).92 E 7.5(............\
.......................................................................\
............................................... 74)177 210 R(6.4.1)125
222 Q(Special variables)155 222 Q(75)7.5 E(6.5)102.5 234 Q
(Script commands)125 234 Q 7.5(........................................\
.......................................................................\
.... 75)214.5 234 R(6.6)102.5 246 Q(Err)125 246 Q(ors)-.18 E 7.5(......\
.......................................................................\
.......................................................... 77)164.5 246
R(6.7)102.5 258 Q(The included mpd.script)125 258 Q 7.5(...............\
.......................................................................\
................. 77)244.5 258 R(7.)90 276 Q -.88 -.9(Tr o)102.5 276 T
(ubleshooting).9 E 7.5(................................................\
.......................................................................\
....... 80)187 276 R(7.1)102.5 288 Q -.88 -.9(Tr o)125 288 T
(ubleshooting).9 E 7.5(................................................\
..................................................................... 8\
0)209.5 288 R(8.)90 306 Q(Internals)102.5 306 Q 7.5(...................\
.......................................................................\
.................................................. 82)152 306 R(8.1)
102.5 318 Q -.92(To)125 318 S(Do).92 E 7.5(............................\
.......................................................................\
...................................... 82)159.5 318 R(8.2)102.5 330 Q
(Authentication)125 330 Q 7.5(.........................................\
.......................................................................\
........ 82)202 330 R(8.3)102.5 342 Q(Hints for developers)125 342 Q 7.5
(......................................................................\
........................................ 83)227 342 R(9.)90 360 Q(Refer)
102.5 360 Q(ences)-.18 E 7.5(..........................................\
.......................................................................\
....................... 84)162 360 R(9.1)102.5 372 Q(Refer)125 372 Q
(ences)-.18 E 7.5(.....................................................\
.......................................................................\
... 84)184.5 372 R(9.2)102.5 384 Q(Cr)125 384 Q(edits)-.18 E 7.5(......\
.......................................................................\
........................................................ 85)169.5 384 R
/F1 10/Times-Roman@0 SF(ii)303.22 768 Q 0 Cg EP
%%Trailer
end
%%EOF
