<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<TITLE>NetFlow</TITLE>
</HEAD>
<BODY text="#000000" bgcolor="#ffffff">

<A HREF="mpd.html"><EM>Mpd 5.9 User Manual</EM></A>
 <b>:</b> <A HREF="mpd17.html"><EM>Configuring Mpd</EM></A>
 <b>:</b> <A HREF="mpd33.html"><EM>Traffic accounting</EM></A>
 <b>:</b> <EM>NetFlow</EM><BR>
<b>Previous:</b> <A HREF="mpd33.html"><EM>Traffic accounting</EM></A><BR>
<b>Next:</b> <A HREF="mpd35.html"><EM>IP Accounting</EM></A>


<HR NOSHADE>
  <H2><A NAME="34"></A>4.12.1. NetFlow<A NAME="netflow"></A></H2>
<p>NetFlow is a protocol for exporting aggregated traffic information
with UDP packets flow. NetFlow is generated by <code>ng_netflow(4)</code> node.
To enable NetFlow on a particular interface <code>netflow-in</code> or
<code>netflow-out</code> options should be used. Best practice is to enable
netflow on every interface in system in only one direction:
incoming for "ingress" flow or outgoing for "egress" flow.</p>
<p><b>Note:</b> Netflow configuration is global for the daemon, 
so it must be done before first bundle get connected.</p>
<p><b>Note:</b> This feature is available only on FreeBSD 6.0-RELEASE
and newer. NetFlow v9 supported only on FreeBSD 9.0-RELEASE and newer.</p>
<p>
<dl>

<dt><b><code>set netflow peer <em>ip</em> <em>port</em></code></b><dd><p>Set destination IP address and port, where NetFlow export datagrams
will be sent. This options is important to have working NetFlow.</p>

<dt><b><code>set netflow self <em>ip</em> <em>port</em></code></b><dd><p>Set optional local IP and port binding, to make NetFlow datagrams
originate from a specific source.</p>

<dt><b><code>set netflow version <em>ver</em></code></b><dd><p>Choose NetFlow version to export. Supported options are 5 or 9.</p>
<p>Default is 5.</p>

<dt><b><code>set netflow mtu <em>bytes</em></code></b><dd><p>Set export interface MTU to build packets of specified size (NetFlow
v9-specific).</p>
<p>Default is 1500.</p>

<dt><b><code>set netflow template <em>time</em> <em>packets</em></code></b><dd><p>Modify time and packet timeouts to announce data flow templates (NetFlow
v9-specific).</p>
<p>Defaults are 600 and 500.</p>

<dt><b><code>set netflow timeouts <em>inactive</em> <em>active</em></code></b><dd><p>Modify inactive and active timeout values. For more information, see
<code>ng_netflow(4)</code> manual page.</p>

<dt><b><code>set netflow node <em>nodename</em></code></b><dd><p>Use existing <code>ng_netflow(4)</code> node instead of creating a new one.</p>

<dt><b><code>set netflow hook <em>number</em></code></b><dd><p>Use <code>ng_netflow(4)</code> node's hooks starting from specified number. 
For detailed information about naming of hooks, see <code>ng_netflow(4)</code>
manual page.</p>

</dl>
</p>

 <HR NOSHADE>
<A HREF="mpd.html"><EM>Mpd 5.9 User Manual</EM></A>
 <b>:</b> <A HREF="mpd17.html"><EM>Configuring Mpd</EM></A>
 <b>:</b> <A HREF="mpd33.html"><EM>Traffic accounting</EM></A>
 <b>:</b> <EM>NetFlow</EM><BR>
<b>Previous:</b> <A HREF="mpd33.html"><EM>Traffic accounting</EM></A><BR>
<b>Next:</b> <A HREF="mpd35.html"><EM>IP Accounting</EM></A>



</BODY>
</HTML>
